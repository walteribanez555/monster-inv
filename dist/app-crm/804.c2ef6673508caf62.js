"use strict";(self.webpackChunkinv=self.webpackChunkinv||[]).push([[804],{1804:(oo,ne,m)=>{m.r(ne),m.d(ne,{WarehouseModule:()=>to});var U=m(3030),l=m(177),e=m(3953);let be=(()=>{class s{constructor(){this.addEvent=new e.bkB}onAddToggle(){this.addEvent.emit()}static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-products-header"]],outputs:{addEvent:"addEvent"},standalone:!0,features:[e.aNF],decls:12,vars:0,consts:[[1,"mb-4","flex","justify-between"],[1,"inline-block"],[1,"font-semibold","text-foreground"],[1,"space-x-1","text-xs","font-medium","text-muted-foreground"],["href","",1,"hover:text-primary"],[1,"inline-block","space-x-4"],[1,"flex-none","rounded-md","bg-primary","px-4","py-2.5","text-xs","font-medium","text-primary-foreground",3,"click"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"h3",2),e.EFF(3,"Productos - Lista"),e.k0s(),e.j41(4,"div",3)(5,"a",4),e.EFF(6,"Lista"),e.k0s(),e.j41(7,"span"),e.EFF(8," - Productos"),e.k0s()()(),e.j41(9,"div",5)(10,"button",6),e.bIt("click",function(){return o.onAddToggle()}),e.EFF(11," Agregar Producto "),e.k0s()()())},dependencies:[l.MD],encapsulation:2})}return s})();var f=m(6494);function we(s,i){1&s&&(e.qSk(),e.j41(0,"svg",9),e.nrm(1,"path",10),e.k0s())}function xe(s,i){if(1&s&&(e.j41(0,"li",6)(1,"span",7),e.EFF(2),e.k0s(),e.EFF(3),e.DNE(4,we,2,0,"svg",8),e.k0s()),2&s){const r=i.$implicit,t=i.index,o=e.XpG();e.Y8G("ngClass",t==o.actualFormIndex?" text-primary ":t<o.actualFormIndex?"text-primary hidden md:flex":"text-muted-foreground hidden md:flex"),e.R7$(),e.Y8G("classList",t<=o.actualFormIndex?"flex items-center justify-center w-5 h-5 me-2 text-xs border border-primary rounded-full shrink-0 ":"flex items-center justify-center w-5 h-5 me-2 text-xs border border-foreground  rounded-full shrink-0"),e.R7$(),e.SpI(" ",t+1," "),e.R7$(),e.SpI(" ",r.data.title," "),e.R7$(),e.Y8G("ngIf",t+1<=o.forms.length-1)}}function Fe(s,i){}let _e=(()=>{class s{constructor(){this.onCreateModal=new e.bkB,this.actualFormIndex=0,this.forms=[],this.cdr=(0,e.WQX)(e.gRc)}ngOnInit(){}ngAfterViewInit(){const r=this.createModalListener();this.loadComponent(this.actualFormIndex),this.onCreateModal.emit(r),this.cdr.detectChanges()}loadComponent(r){const t=this.forms[r],o=this.dcWrapper.viewContainerRef;o.clear();const n=o.createComponent(t.component);n.instance.step=r,n.instance.fields=t.dynamicFields,n.instance.data=t.data,n.instance.renderForm()}createModalListener(){return{onNext:()=>this.nextStepForm(),onPrev:()=>this.prevStepForm()}}nextStepForm(){return this.actualFormIndex<this.forms.length-1&&this.actualFormIndex++,this.loadComponent(this.actualFormIndex),{actualForm:this.forms[this.actualFormIndex],actualStep:this.actualFormIndex}}prevStepForm(){return this.actualFormIndex>0&&this.actualFormIndex--,this.loadComponent(this.actualFormIndex),{actualForm:this.forms[this.actualFormIndex],actualStep:this.actualFormIndex}}static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-modal-products"]],viewQuery:function(t,o){if(1&t&&e.GBs(f.l,5),2&t){let n;e.mGM(n=e.lsd())&&(o.dcWrapper=n.first)}},inputs:{forms:"forms",data:"data"},standalone:!0,features:[e.aNF],decls:6,vars:1,consts:[[1,"flex","flex-col","gap-5","w-full"],[1,"flex","flex-col","md:flex-row","bg-background","justify-between","items-center"],[1,"flex","items-center","w-full","p-3","space-x-2","text-sm","font-medium","text-center","rounded-lg","shadow-sm","sm:text-base","sm:p-4","sm:space-x-4","rtl:space-x-reverse"],["class","flex items-center  font-bold h-10 sm:w-full md:w-fit ",3,"ngClass",4,"ngFor","ngForOf"],[1,"flex","flex-col","gap-2","bg-background"],["dcWrapper",""],[1,"flex","items-center","font-bold","h-10","sm:w-full","md:w-fit",3,"ngClass"],[3,"classList"],["class","w-3 h-3 ms-2 sm:ms-4 rtl:rotate-180","aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 12 10",4,"ngIf"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 12 10",1,"w-3","h-3","ms-2","sm:ms-4","rtl:rotate-180"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m7 9 4-4-4-4M1 9l4-4-4-4"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"ol",2),e.DNE(3,xe,5,5,"li",3),e.k0s()(),e.j41(4,"div",4),e.DNE(5,Fe,0,0,"ng-template",5),e.k0s()()),2&t&&(e.R7$(3),e.Y8G("ngForOf",o.forms))},dependencies:[l.MD,l.YU,l.Sq,l.bT,f.l],encapsulation:2})}return s})();var ie=m(8860),Q=function(s){return s[s.INTERN=1]="INTERN",s[s.TOSOLD=2]="TOSOLD",s}(Q||{});let ye=(()=>{class s{transform(r,...t){let o="";switch(r){case Q.INTERN:o+="Interno";break;case Q.TOSOLD:o+="Para vender";break;default:o+="No definido"}return o}static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275pipe=e.EJ8({name:"appTypeProduct",type:s,pure:!0,standalone:!0})}return s})();const ke=["item-list-products",""];let Ce=(()=>{class s{static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["","item-list-products",""]],inputs:{product:"product"},standalone:!0,features:[e.aNF],attrs:ke,decls:14,vars:7,consts:[[1,"py-3","pl-3","text-start"],[1,"text-sm","text-muted-foreground"],[1,"py-3","pl-3","text-end"]],template:function(t,o){1&t&&(e.j41(0,"td",0)(1,"div")(2,"span",1),e.EFF(3),e.k0s()()(),e.j41(4,"td",0)(5,"div")(6,"span",1),e.EFF(7),e.nI1(8,"appTypeProduct"),e.k0s()()(),e.j41(9,"td",2)(10,"div")(11,"span",1),e.EFF(12),e.nI1(13,"appTypeStatus"),e.k0s()()()),2&t&&(e.R7$(3),e.JRh(o.product.name),e.R7$(4),e.JRh(e.bMT(8,3,o.product.type)),e.R7$(5),e.JRh(e.bMT(13,5,o.product.status)))},dependencies:[l.MD,ie.N,ye],encapsulation:2})}return s})();function Ie(s,i){if(1&s){const r=e.RV6();e.j41(0,"tr",16),e.bIt("click",function(){const o=e.eBV(r).$implicit,n=e.XpG();return e.Njj(n.onSelectTable(o))}),e.k0s()}2&s&&e.Y8G("product",i.$implicit)}let Se=(()=>{class s{constructor(){this.onSelectItem=new e.bkB}ngOnInit(){}onSelectTable(r){this.onSelectItem.emit(r)}static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-list-products"]],inputs:{productTypes:"productTypes"},outputs:{onSelectItem:"onSelectItem"},standalone:!0,features:[e.aNF],decls:23,vars:1,consts:[[1,"flex-col","rounded-lg","bg-background","px-8","py-8","sm:flex-row"],[1,"w-full","mx-auto"],[1,"w-full","flex","flex-col","p-2","gap-2"],[1,"flex","flex-row","items-center","justify-between","w-full"],[1,"w-1/2"],[1,"flex","flex-row","gap-2"],[1,"w-full"],[1,"text-muted-foreground","text-sm"],["type","text","placeholder","Alitas 12 piezas",1,"w-full","border","border-border","rounded-lg","p-2"],[1,"border-dashed","border-border"],[1,"relative","overflow-x-auto","h-72","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","overflow-auto","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted"],[1,"w-full","table-auto"],[1,"text-xs","uppercase","text-muted-foreground","sticky","top-0","bg-background"],[1,"py-3","text-left"],[1,"py-3","text-right"],["item-list-products","","class","border-b border-dashed border-border hover:bg-card",3,"product","click",4,"ngFor","ngForOf"],["item-list-products","",1,"border-b","border-dashed","border-border","hover:bg-card",3,"click","product"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"label",7),e.EFF(8,"Productos"),e.k0s(),e.nrm(9,"input",8),e.k0s()()()()(),e.nrm(10,"hr",9),e.j41(11,"div",10)(12,"table",11)(13,"thead",12)(14,"tr")(15,"th",13),e.EFF(16,"Producto"),e.k0s(),e.j41(17,"th",13),e.EFF(18,"Tipo"),e.k0s(),e.j41(19,"th",14),e.EFF(20,"Status"),e.k0s()()(),e.j41(21,"tbody"),e.DNE(22,Ie,1,1,"tr",15),e.k0s()()()()()),2&t&&(e.R7$(22),e.Y8G("ngForOf",o.productTypes))},dependencies:[l.MD,l.Sq,Ce],encapsulation:2})}return s})();var x=m(7827),_=m(9207),a=m(9417),J=m(1467);let Ee=(()=>{class s{constructor(){this.items=[{id:1,name:"Activo"},{id:2,name:"Inactivo"}],this.types=[{id:1,name:"Interno"},{id:2,name:"Venta"}],this.productTypeForm=new a.gE({product_type_id:new a.MJ,name:new a.MJ,status:new a.MJ,type:new a.MJ,categories:new a.MJ})}ngOnInit(){this.productTypeForm=new a.gE({product_type_id:new a.MJ(this.productType.product_type_id),name:new a.MJ(this.productType.name),status:new a.MJ(this.productType.status),type:new a.MJ(this.productType.type),categories:new a.MJ(this.productType.categories)})}close(){this.detailListener.close()}onSubmit(){this.detailListener.submit(this.productTypeForm)}onDelete(){this.detailListener.delete(this.productType.product_type_id)}static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-detail-product"]],inputs:{detailListener:"detailListener",productType:"productType"},standalone:!0,features:[e.aNF],decls:31,vars:4,consts:[[1,"flex","w-screen","md:w-96","bg-background","h-full","overflow-auto","gap-2","px-3","flex-col","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted",3,"ngSubmit","formGroup"],[1,"sticky","top-0","flex","flex-col","bg-background"],[1,"flex","relative","flex-row","items-center","gap-2","py-3","justify-start"],[1,"text-lg","text-foreground"],["type","button",1,"absolute","cursor-pointer","right-0","inline-flex","w-fit","justify-center","rounded-md","bg-background","px-3","py-2","text-sm","font-semibold","text-foreground","shadow-sm","ring-1","ring-inset","ring-foreground","hover:bg-card","sm:mt-0","sm:w-fit",3,"click"],[1,"border-dashed","border-border"],[1,"flex","py-2","flex-col"],[1,"px-2","flex-col","flex","gap-2"],[1,"text-xs","text-muted-foreground"],["type","text","formControlName","name","placeholder","google"],["formControlName","type",3,"items"],["formControlName","status",3,"items"],[1,"flex","py-2","flex-col","gap-2"],["type","submit",1,"bg-primary","text-white","rounded-md","p-2"],["type","button",1,"bg-red-500","text-white","rounded-md","p-2",3,"click"]],template:function(t,o){1&t&&(e.j41(0,"form",0),e.bIt("ngSubmit",function(){return o.onSubmit()}),e.j41(1,"div",1)(2,"div",2)(3,"span",3),e.EFF(4),e.k0s(),e.j41(5,"button",4),e.bIt("click",function(){return o.close()}),e.EFF(6," X "),e.k0s()(),e.nrm(7,"hr",5),e.k0s(),e.j41(8,"div",6)(9,"div",7)(10,"span",8),e.EFF(11,"Nombre"),e.k0s(),e.nrm(12,"input",9),e.k0s()(),e.nrm(13,"hr",5),e.j41(14,"div",6)(15,"div",7)(16,"span",8),e.EFF(17,"Tipo"),e.k0s(),e.nrm(18,"app-select",10),e.k0s()(),e.nrm(19,"hr",5),e.j41(20,"div",6)(21,"div",7)(22,"span",8),e.EFF(23,"Estado"),e.k0s(),e.nrm(24,"app-select",11),e.k0s()(),e.j41(25,"div",12)(26,"button",13),e.EFF(27," Guardar Cambios "),e.k0s(),e.nrm(28,"hr"),e.j41(29,"button",14),e.bIt("click",function(){return o.onDelete()}),e.EFF(30," Eliminar "),e.k0s()()()),2&t&&(e.Y8G("formGroup",o.productTypeForm),e.R7$(4),e.JRh("Detalles del Producto"),e.R7$(14),e.Y8G("items",o.types),e.R7$(6),e.Y8G("items",o.items))},dependencies:[l.MD,J.w,a.YN,a.qT,a.me,a.BC,a.cb,a.X1,a.j4,a.JD],encapsulation:2})}return s})();var p=m(2934),je=m(6034);class y{static#e=this.getSlices=(0,p.OD)(je.B);static#t=this.getProductTypes=(0,p.Mz)([y.getSlices.productTypes],i=>i);static#o=this.getProductType=(0,p.Mz)([y.getSlices.productTypeById],i=>i);static#r=this.getStatus=(0,p.Mz)([y.getSlices.status],i=>i)}var P=m(3657);class H{constructor(i,r,t,o){this.name=i,this.status=r,this.categories=t,this.type=o}static create(i){const{name:r,status:t,categories:o,type:n}=i;return r?t?o?n?[void 0,new H(r,t,o,n)]:["Type required",void 0]:["Categories required",void 0]:["Status required",void 0]:["Name required",void 0]}}class z{constructor(i,r,t,o,n){this.product_type_id=i,this.name=r,this.status=t,this.categories=o,this.type=n}static create(i){const{product_type_id:r,name:t,status:o,categories:n,type:c}=i;return r?t?o?n?c?[void 0,new z(r,t,o,n,c)]:["Type required",void 0]:["Categories required",void 0]:["Status required",void 0]:["Name required",void 0]:["Product type id required",void 0]}}let Y=(()=>{class s{constructor(){this._store=(0,e.WQX)(p.il),this.statusAction=this._store.selectSignal(y.getStatus),this.productTypes=this._store.selectSignal(y.getProductTypes),this._store.dispatch(new P.H.GetAll)}addItem(r,t,o,n){const[c,u]=H.create({name:r,status:t,categories:o,type:n});c?console.log(c):this._store.dispatch(new P.H.Create(u))}updateItem(r,t,o,n,c){const[u,h]=z.create({product_type_id:r,name:t,status:o,categories:n,type:c});u?console.log(u):this._store.dispatch(new P.H.Update(h))}deleteItem(r){this._store.dispatch(new P.H.Delete(r))}getItem(r){this._store.dispatch(new P.H.Get(r))}getAllItems(){this._store.dispatch(new P.H.GetAll)}static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var R=m(1413),D=m(7249),g=m(6007),d=m(4449),M=m(9652);function Te(s,i){}let Pe=(()=>{class s{constructor(){this.titleField=null,this.cdr=(0,e.WQX)(e.gRc)}ngAfterViewInit(){this.cdr.detectChanges(),this.loadComponent()}loadComponent(){const r=this.dcWrapper.viewContainerRef;r.clear();const t=r.createComponent(this.dynamicField.component);t.instance.formControl=this.dynamicField.fieldFormControl,t.instance.data=this.dynamicField.data,this.titleField=this.dynamicField.data.title,this.cdr.detectChanges()}static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-field-template"]],viewQuery:function(t,o){if(1&t&&e.GBs(f.l,5),2&t){let n;e.mGM(n=e.lsd())&&(o.dcWrapper=n.first)}},inputs:{fieldListener:"fieldListener",dynamicField:"dynamicField"},standalone:!0,features:[e.aNF],decls:4,vars:1,consts:[[1,"flex","flex-col","w-full","gap-1","p-2"],[1,"text-sm","font-semibold","text-muted-foreground","text-start"],["dcWrapper","","id","item"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"label",1),e.EFF(2),e.k0s(),e.DNE(3,Te,0,0,"ng-template",2),e.k0s()),2&t&&(e.R7$(2),e.JRh(o.titleField||"Titulo"))},dependencies:[l.MD,f.l],encapsulation:2})}return s})();function Re(s,i){1&s&&e.nrm(0,"app-field-template",4),2&s&&e.Y8G("dynamicField",i.$implicit)}let k=(()=>{class s{constructor(){this.fields=[],this.cdr=(0,e.WQX)(e.gRc)}ngOnInit(){}renderForm(){this.cdr.detectChanges()}static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-form-template"]],inputs:{fields:"fields",step:"step",formListener:"formListener",data:"data"},standalone:!0,features:[e.aNF],decls:5,vars:2,consts:[[1,"flex","w-full","flex-col","gap-2","bg-background","p-3"],[1,"text-sm","font-semibold","text-foreground","text-start"],[1,"flex","gap-2","flex-col","w-full"],["class","w-full",3,"dynamicField",4,"ngFor","ngForOf"],[1,"w-full",3,"dynamicField"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"label",1),e.EFF(2),e.k0s(),e.j41(3,"div",2),e.DNE(4,Re,1,1,"app-field-template",3),e.k0s()()),2&t&&(e.R7$(2),e.JRh(o.data.description||""),e.R7$(2),e.Y8G("ngForOf",o.fields))},dependencies:[l.MD,l.Sq,Pe],encapsulation:2})}return s})(),w=(()=>{class s{constructor(){this.validators=[]}static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-input-text"]],inputs:{formControl:"formControl",data:"data",validators:"validators"},standalone:!0,features:[e.aNF],decls:1,vars:2,consts:[["type","text",3,"formControl","placeholder"]],template:function(t,o){1&t&&e.nrm(0,"input",0),2&t&&e.Y8G("formControl",o.formControl)("placeholder",o.data.placeholder)},dependencies:[l.MD,a.YN,a.me,a.BC,a.X1,a.l_],encapsulation:2})}return s})();function I(s){let i;return s.form.forEach(t=>{t.dynamicFields.forEach(n=>{i={...i,[n.data.title]:n.fieldFormControl.value}})}),i}function De(s,i){}let Me=(()=>{class s{constructor(){this.onShowItem=!1,this.dialogNotifier=new R.B,this.productTypeFacadeService=(0,e.WQX)(Y),this.modalService=(0,e.WQX)(_.B),this.dialogService=(0,e.WQX)(M.o),this.productTypes$=this.productTypeFacadeService.productTypes,this.onLoading$=this.productTypeFacadeService.statusAction,this.detailListener={close:()=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1},cancel:()=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1},delete:r=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1,this.dialogService.open({typeDialog:d.h.isAlert,data:{title:"Advertencia",description:"Estas seguro de realizar esta accion",icon:"assets/icons/heroicons/outline/exclamation.svg"},options:{withActions:!0,position:[d.Y.center],withBackground:!0,colorIcon:"text-red-500"}}).subscribe(o=>{this.productTypeFacadeService.deleteItem(r)})},submit:r=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1,this.dialogService.open({typeDialog:d.h.isAlert,data:{title:"Advertencia",description:"Estas seguro de realizar esta accion",icon:"assets/icons/heroicons/outline/exclamation.svg"},options:{withActions:!0,position:[d.Y.center],withBackground:!0,colorIcon:"text-red-500"}}).subscribe(o=>{const{product_type_id:n,name:c,status:u,categories:h,type:v}=r.value;this.productTypeFacadeService.updateItem(n,c,u,h,v)})}},(0,e.QZP)(()=>{switch(this.onLoading$()){case g.p.LOADING:this.dialogService.open({typeDialog:d.h.isLoading,listener:this.dialogNotifier,data:{title:"Cargando",description:"Espere un momento por favor",icon:"assets/icons/loading.svg"},options:{withActions:!1,withBackground:!0,position:[d.Y.center],colorIcon:"text-primary"}});break;case g.p.SUCCESS:this.dialogNotifier.next(null);const t={typeDialog:d.h.isSuccess,data:{title:"Operacion Exitosa",description:"La operacion se ha completado con exito",icon:"assets/icons/heroicons/outline/check-badge.svg"},options:{withBackground:!1,position:[d.Y.top,d.Y.right],colorIcon:"text-green-500",timeToShow:(0,D.O)(2e3)}};this.dialogService.open(t);break;default:this.dialogNotifier.next(null)}})}ngOnInit(){}onAddEvent(){const r={component:k,data:{title:"Detalles del nuevo tipo de producto a agregar",description:"Especificaciones necesarias del tipo de producto a agregar"},dynamicFields:[{component:w,data:{placeholder:"Tipo de producto 1",title:"Tipo de producto"},fieldFormControl:new a.MJ("")}]};this.modalService.open(_e,{title:"Agrega un nuevo tipo de producto",size:"sm",forms:[r],data:{},icon:"assets/icons/heroicons/outline/plus.svg",actions:[{action:x.X.Create,title:"Ingresar"}]}).subscribe({next:t=>{const n=I(t)["Tipo de producto"];this.productTypeFacadeService.addItem(n,"1","0",1)}})}onViewItem(r){const t=this.dcWrapper.viewContainerRef;t.clear();const o=t.createComponent(Ee);o.instance.detailListener=this.detailListener,o.instance.productType=r,this.onShowItem=!0}static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-products"]],viewQuery:function(t,o){if(1&t&&e.GBs(f.l,5),2&t){let n;e.mGM(n=e.lsd())&&(o.dcWrapper=n.first)}},standalone:!0,features:[e.aNF],decls:5,vars:3,consts:[[3,"classList"],[3,"addEvent"],[3,"onSelectItem","productTypes"],["dcWrapper",""]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",0)(2,"app-products-header",1),e.bIt("addEvent",function(){return o.onAddEvent()}),e.k0s(),e.j41(3,"app-list-products",2),e.bIt("onSelectItem",function(c){return o.onViewItem(c)}),e.k0s()(),e.DNE(4,De,0,0,"ng-template",3),e.k0s()),2&t&&(e.Y8G("classList",o.onShowItem?"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-auto  h-full ":"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-hidden  h-full "),e.R7$(),e.Y8G("classList",o.onShowItem?" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-0 md:py-4":" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-4"),e.R7$(2),e.Y8G("productTypes",o.productTypes$()))},dependencies:[l.MD,be,Se,f.l],encapsulation:2})}return s})(),We=(()=>{class s{constructor(){this.addEvent=new e.bkB}onAddToggle(){this.addEvent.emit()}static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-discounts-header"]],outputs:{addEvent:"addEvent"},standalone:!0,features:[e.aNF],decls:12,vars:0,consts:[[1,"mb-4","flex","justify-between"],[1,"inline-block"],[1,"font-semibold","text-foreground"],[1,"space-x-1","text-xs","font-medium","text-muted-foreground"],["href","",1,"hover:text-primary"],[1,"inline-block","space-x-4"],[1,"flex-none","rounded-md","bg-primary","px-4","py-2.5","text-xs","font-medium","text-primary-foreground",3,"click"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"h3",2),e.EFF(3,"Productos Descuentos"),e.k0s(),e.j41(4,"div",3)(5,"a",4),e.EFF(6,"Lista"),e.k0s(),e.j41(7,"span"),e.EFF(8," - Descuentos"),e.k0s()()(),e.j41(9,"div",5)(10,"button",6),e.bIt("click",function(){return o.onAddToggle()}),e.EFF(11," Agregar Descuento "),e.k0s()()())},dependencies:[l.MD],encapsulation:2})}return s})(),Le=(()=>{class s{constructor(){this.forms=null,this.addEvent=new e.bkB}onAddToggle(){this.addEvent.emit()}static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-modal-discounts"]],inputs:{form:"form",data:"data"},outputs:{addEvent:"addEvent"},standalone:!0,features:[e.aNF],decls:0,vars:0,template:function(t,o){},dependencies:[l.MD],encapsulation:2})}return s})(),$e=(()=>{class s{constructor(){this.modalService=(0,e.WQX)(_.B)}onAddEvent(){console.log({onAddEvent:"onAddEvent"}),this.modalService.open(Le,{title:"Ingresar tus api keys",size:"sm",forms:null,data:{},icon:"assets/icons/heroicons/outline/plus.svg",actions:[{action:x.X.Create,title:"Ingresar"}]})}static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-discounts"]],standalone:!0,features:[e.aNF],decls:2,vars:0,consts:[[1,"mx-auto","px-4","py-4","sm:px-8","lg:container"],[3,"addEvent"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"app-discounts-header",1),e.bIt("addEvent",function(){return o.onAddEvent()}),e.k0s()())},dependencies:[l.MD,We],encapsulation:2})}return s})(),Ne=(()=>{class s{constructor(){this.addEvent=new e.bkB}onAddToggle(){this.addEvent.emit()}static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-categories-header"]],outputs:{addEvent:"addEvent"},standalone:!0,features:[e.aNF],decls:12,vars:0,consts:[[1,"mb-4","flex","justify-between"],[1,"inline-block"],[1,"font-semibold","text-foreground"],[1,"space-x-1","text-xs","font-medium","text-muted-foreground"],["href","",1,"hover:text-primary"],[1,"inline-block","space-x-4"],[1,"flex-none","rounded-md","bg-primary","px-4","py-2.5","text-xs","font-medium","text-primary-foreground",3,"click"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"h3",2),e.EFF(3,"Productos - Categorias"),e.k0s(),e.j41(4,"div",3)(5,"a",4),e.EFF(6,"Lista"),e.k0s(),e.j41(7,"span"),e.EFF(8," - Categorias"),e.k0s()()(),e.j41(9,"div",5)(10,"button",6),e.bIt("click",function(){return o.onAddToggle()}),e.EFF(11," Agregar Categoria "),e.k0s()()())},dependencies:[l.MD],encapsulation:2})}return s})(),Ge=(()=>{class s{constructor(){this.forms=null,this.addEvent=new e.bkB}onAddToggle(){this.addEvent.emit()}static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-modal-categories"]],inputs:{form:"form",data:"data"},outputs:{addEvent:"addEvent"},standalone:!0,features:[e.aNF],decls:0,vars:0,template:function(t,o){},dependencies:[l.MD],encapsulation:2})}return s})();const Ae=["item-list-categories",""];let Be=(()=>{class s{static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["","item-list-categories",""]],inputs:{category:"category"},standalone:!0,features:[e.aNF],attrs:Ae,decls:12,vars:3,consts:[[1,"py-3","pl-3","text-start"],[1,"text-sm","text-muted-foreground"],[1,"pr-1"],[1,"text-sm","text-foreground"],[1,"py-3","pl-3","text-right"]],template:function(t,o){1&t&&(e.j41(0,"td",0)(1,"div")(2,"span",1),e.EFF(3),e.k0s()()(),e.j41(4,"td",0)(5,"div",2)(6,"span",3),e.EFF(7),e.k0s()()(),e.j41(8,"td",4)(9,"div",2)(10,"span",1),e.EFF(11),e.k0s()()()),2&t&&(e.R7$(3),e.JRh(o.category.name),e.R7$(4),e.JRh(o.category.description),e.R7$(4),e.JRh(o.category.status))},dependencies:[l.MD],encapsulation:2})}return s})();function Oe(s,i){if(1&s){const r=e.RV6();e.j41(0,"tr",19),e.bIt("click",function(){const o=e.eBV(r).$implicit,n=e.XpG();return e.Njj(n.onSelectTable(o))}),e.k0s()}2&s&&e.Y8G("category",i.$implicit)}let Je=(()=>{class s{constructor(){this.onSelectItem=new e.bkB}onSelectTable(r){this.onSelectItem.emit(r)}static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-list-categories"]],inputs:{categories:"categories"},outputs:{onSelectItem:"onSelectItem"},standalone:!0,features:[e.aNF],decls:36,vars:1,consts:[[1,"flex-col","rounded-lg","bg-background","px-8","py-8","sm:flex-row"],[1,"border-dashed","border-border"],[1,"w-full","flex","flex-col","p-2","gap-2"],[1,"flex","flex-row","items-center","justify-between","w-full"],[1,"w-1/2"],[1,"flex","flex-row","gap-2"],[1,"w-full"],[1,"text-muted-foreground","text-sm"],["type","text","placeholder","demostracion",1,"w-full","border","border-border","rounded-lg","p-2"],[1,"w-1/2","flex","items-center","justify-end","gap-2"],[1,"p-1","text-foreground","rounded-md","hover:bg-muted"],[1,"p-2","bg-primary","text-white","rounded-md"],[1,"p-2","text-foreground","rounded-md","hover:bg-muted"],[1,"relative","overflow-x-auto","h-72","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","overflow-auto","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted"],[1,"w-full","table-auto"],[1,"text-xs","uppercase","text-muted-foreground","sticky","top-0","bg-background"],[1,"py-3","text-left"],[1,"py-3","text-right"],["item-list-categories","","class","border-b border-dashed border-border hover:bg-card",3,"category","click",4,"ngFor","ngForOf"],["item-list-categories","",1,"border-b","border-dashed","border-border","hover:bg-card",3,"click","category"]],template:function(t,o){1&t&&(e.j41(0,"div",0),e.nrm(1,"hr",1),e.j41(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"label",7),e.EFF(8,"Categorias"),e.k0s(),e.nrm(9,"input",8),e.k0s()()(),e.j41(10,"div",9)(11,"button",10),e.EFF(12,"<"),e.k0s(),e.j41(13,"button",11),e.EFF(14,"1"),e.k0s(),e.j41(15,"button",12),e.EFF(16,"2"),e.k0s(),e.j41(17,"button",12),e.EFF(18,"3"),e.k0s(),e.j41(19,"button",12),e.EFF(20,"..."),e.k0s(),e.j41(21,"button",10),e.EFF(22,">"),e.k0s()()()(),e.nrm(23,"hr",1),e.j41(24,"div",13)(25,"table",14)(26,"thead",15)(27,"tr")(28,"th",16),e.EFF(29,"Nombre"),e.k0s(),e.j41(30,"th",16),e.EFF(31,"Descripcion"),e.k0s(),e.j41(32,"th",17),e.EFF(33,"status"),e.k0s()()(),e.j41(34,"tbody"),e.DNE(35,Oe,1,1,"tr",18),e.k0s()()()()),2&t&&(e.R7$(35),e.Y8G("ngForOf",o.categories))},dependencies:[l.MD,l.Sq,Be],encapsulation:2})}return s})();var V=m(1985);let Ye=(()=>{class s{constructor(){this.mockData=[{id:1,name:"Limpieza",description:"Productos de limpieza",date:"2021-01-01",status:1},{id:2,name:"Herramientas",description:"Herramientas de trabajo",date:"2021-01-02",status:1},{id:3,name:"Alimentos",description:"Productos comestibles",date:"2021-01-03",status:1},{id:4,name:"Electrodomesticos",description:"Electrodomesticos para el hogar",date:"2021-01-04",status:1}]}getCategory(){return new V.c(r=>{r.next(this.mockData),r.complete()})}createCategory(r){return new V.c(t=>{this.mockData.push(r),t.next(this.mockData),t.complete()})}updateCategory(r){return new V.c(t=>{const o=this.mockData.findIndex(n=>n.id===r.id);this.mockData[o]=r,t.next(this.mockData),t.complete()})}deleteCategory(r){return new V.c(t=>{this.mockData=this.mockData.filter(o=>o.id!==r),t.next(this.mockData),t.complete()})}static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),Ve=(()=>{class s{close(){}static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-category-detail"]],standalone:!0,features:[e.aNF],decls:28,vars:3,consts:[[1,"flex","w-screen","md:w-96","bg-background","h-full","overflow-auto","gap-2","px-3","flex-col","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted"],[1,"sticky","top-0","flex","flex-col","bg-background"],[1,"flex","relative","flex-row","items-center","gap-2","py-3","justify-start"],[1,"text-lg","text-foreground"],[1,"absolute","cursor-pointer","right-0","inline-flex","w-fit","justify-center","rounded-md","bg-background","px-3","py-2","text-sm","font-semibold","text-foreground","shadow-sm","ring-1","ring-inset","ring-foreground","hover:bg-card","sm:mt-0","sm:w-fit",3,"click"],[1,"border-dashed","border-border"],[1,"flex","py-2","flex-col"],[1,"px-2","flex-col","flex"],[1,"text-xs","text-muted-foreground"],[1,"text-base","text-foreground"],[1,"flex","py-2","flex-col","gap-2"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),e.EFF(4),e.k0s(),e.j41(5,"button",4),e.bIt("click",function(){return o.close()}),e.EFF(6," X "),e.k0s()(),e.nrm(7,"hr",5),e.k0s(),e.j41(8,"div",6),e.nrm(9,"div",7)(10,"hr",5)(11,"div",6)(12,"hr",5),e.j41(13,"div",6)(14,"div",7)(15,"span",8),e.EFF(16,"Almacen"),e.k0s(),e.j41(17,"span",9),e.EFF(18),e.k0s()()(),e.nrm(19,"hr",5),e.j41(20,"div",6)(21,"div",7)(22,"span",8),e.EFF(23,"Proveedor"),e.k0s(),e.j41(24,"span",9),e.EFF(25),e.k0s()()(),e.nrm(26,"hr",5)(27,"div",10),e.k0s()()),2&t&&(e.R7$(4),e.JRh("Categoria"),e.R7$(14),e.JRh("Las Brisas"),e.R7$(7),e.JRh("Distribuidor general"))},dependencies:[l.MD],encapsulation:2})}return s})();function Xe(s,i){}let Ue=(()=>{class s{constructor(){this.modalService=(0,e.WQX)(_.B),this.categoryService=(0,e.WQX)(Ye),this.categories=[],this.onShowItem=!1}ngOnInit(){this.categoryService.getCategory().subscribe({next:r=>{this.categories=r},error:r=>{},complete:()=>{}})}onAddEvent(){console.log({onAddEvent:"onAddEvent"}),this.modalService.open(Ge,{title:"Ingresar tus api keys",size:"sm",forms:null,data:{},icon:"assets/icons/heroicons/outline/plus.svg",actions:[{action:x.X.Create,title:"Ingresar"}]})}onSelectItem(r){const t=this.dcWrapper.viewContainerRef;t.clear(),t.createComponent(Ve),this.onShowItem=!0}static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-categories"]],viewQuery:function(t,o){if(1&t&&e.GBs(f.l,5),2&t){let n;e.mGM(n=e.lsd())&&(o.dcWrapper=n.first)}},standalone:!0,features:[e.aNF],decls:5,vars:3,consts:[[3,"classList"],[3,"addEvent"],[3,"onSelectItem","categories"],["dcWrapper",""]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",0)(2,"app-categories-header",1),e.bIt("addEvent",function(){return o.onAddEvent()}),e.k0s(),e.j41(3,"app-list-categories",2),e.bIt("onSelectItem",function(c){return o.onSelectItem(c)}),e.k0s()(),e.DNE(4,Xe,0,0,"ng-template",3),e.k0s()),2&t&&(e.Y8G("classList",o.onShowItem?"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-auto  h-full ":"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-hidden  h-full "),e.R7$(),e.Y8G("classList",o.onShowItem?" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-0 md:py-4":" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-4"),e.R7$(2),e.Y8G("categories",o.categories))},dependencies:[l.MD,Ne,Je,f.l],encapsulation:2})}return s})(),Qe=(()=>{class s{static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-warehouse"]],standalone:!0,features:[e.aNF],decls:1,vars:0,template:function(t,o){1&t&&e.nrm(0,"router-outlet")},dependencies:[U.n3],encapsulation:2})}return s})(),He=(()=>{class s{constructor(){this.addEvent=new e.bkB,this.generareReport=new e.bkB}onAddToggle(){this.addEvent.emit()}onGenerateReport(){this.generareReport.emit()}static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-inputs-header"]],outputs:{addEvent:"addEvent",generareReport:"generareReport"},standalone:!0,features:[e.aNF],decls:14,vars:0,consts:[[1,"mb-4","flex","flex-col","md:flex-row","justify-between"],[1,"inline-block"],[1,"font-semibold","text-foreground"],[1,"space-x-1","text-xs","font-medium","text-muted-foreground"],["href","",1,"hover:text-primary"],[1,"flex","flex-col","gap-2","md:inline-block","md:space-x-4"],[1,"flex-none","w-full","md:w-fit","rounded-md","bg-primary","px-4","py-2.5","text-xs","font-medium","text-primary-foreground",3,"click"],[1,"flex-none","w-full","md:w-fit","rounded-md","bg-green-800","px-4","py-2.5","text-xs","font-medium","text-primary-foreground",3,"click"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"h3",2),e.EFF(3,"Almacenes - Entradas"),e.k0s(),e.j41(4,"div",3)(5,"a",4),e.EFF(6,"Lista"),e.k0s(),e.j41(7,"span"),e.EFF(8," - Entradas"),e.k0s()()(),e.j41(9,"div",5)(10,"button",6),e.bIt("click",function(){return o.onAddToggle()}),e.EFF(11," Agregar Entrada "),e.k0s(),e.j41(12,"button",7),e.bIt("click",function(){return o.onGenerateReport()}),e.EFF(13," Generar Reporte "),e.k0s()()())},dependencies:[l.MD],encapsulation:2})}return s})();function ze(s,i){1&s&&(e.qSk(),e.j41(0,"svg",9),e.nrm(1,"path",10),e.k0s())}function qe(s,i){if(1&s&&(e.j41(0,"li",6)(1,"span",7),e.EFF(2),e.k0s(),e.EFF(3),e.DNE(4,ze,2,0,"svg",8),e.k0s()),2&s){const r=i.$implicit,t=i.index,o=e.XpG();e.Y8G("ngClass",t==o.actualFormIndex?" text-primary ":t<o.actualFormIndex?"text-primary hidden md:flex":"text-muted-foreground hidden md:flex"),e.R7$(),e.Y8G("classList",t<=o.actualFormIndex?"flex items-center justify-center w-5 h-5 me-2 text-xs border border-primary rounded-full shrink-0 ":"flex items-center justify-center w-5 h-5 me-2 text-xs border border-foreground  rounded-full shrink-0"),e.R7$(),e.SpI(" ",t+1," "),e.R7$(),e.SpI(" ",r.data.title," "),e.R7$(),e.Y8G("ngIf",t+1<=o.forms.length-1)}}function Ze(s,i){}let ae=(()=>{class s{constructor(){this.onCreateModal=new e.bkB,this.actualFormIndex=0,this.forms=[],this.cdr=(0,e.WQX)(e.gRc)}ngOnInit(){}ngAfterViewInit(){const r=this.createModalListener();this.loadComponent(this.actualFormIndex),this.onCreateModal.emit(r),this.cdr.detectChanges()}loadComponent(r){const t=this.forms[r],o=this.dcWrapper.viewContainerRef;o.clear();const n=o.createComponent(t.component);n.instance.step=r,n.instance.fields=t.dynamicFields,n.instance.data=t.data,n.instance.renderForm()}createModalListener(){return{onNext:()=>this.nextStepForm(),onPrev:()=>this.prevStepForm()}}nextStepForm(){return this.actualFormIndex<this.forms.length-1&&this.actualFormIndex++,this.loadComponent(this.actualFormIndex),{actualForm:this.forms[this.actualFormIndex],actualStep:this.actualFormIndex}}prevStepForm(){return this.actualFormIndex>0&&this.actualFormIndex--,this.loadComponent(this.actualFormIndex),{actualForm:this.forms[this.actualFormIndex],actualStep:this.actualFormIndex}}static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-modal-inputs"]],viewQuery:function(t,o){if(1&t&&e.GBs(f.l,5),2&t){let n;e.mGM(n=e.lsd())&&(o.dcWrapper=n.first)}},inputs:{forms:"forms",data:"data"},standalone:!0,features:[e.aNF],decls:6,vars:1,consts:[[1,"flex","flex-col","gap-5","w-full"],[1,"flex","flex-col","md:flex-row","bg-background","justify-between","items-center"],[1,"flex","items-center","w-full","p-3","space-x-2","text-sm","font-medium","text-center","rounded-lg","shadow-sm","sm:text-base","sm:p-4","sm:space-x-4","rtl:space-x-reverse"],["class","flex items-center  font-bold h-10 sm:w-full md:w-fit ",3,"ngClass",4,"ngFor","ngForOf"],[1,"flex","flex-col","gap-2","bg-background"],["dcWrapper",""],[1,"flex","items-center","font-bold","h-10","sm:w-full","md:w-fit",3,"ngClass"],[3,"classList"],["class","w-3 h-3 ms-2 sm:ms-4 rtl:rotate-180","aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 12 10",4,"ngIf"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 12 10",1,"w-3","h-3","ms-2","sm:ms-4","rtl:rotate-180"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m7 9 4-4-4-4M1 9l4-4-4-4"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"ol",2),e.DNE(3,qe,5,5,"li",3),e.k0s()(),e.j41(4,"div",4),e.DNE(5,Ze,0,0,"ng-template",5),e.k0s()()),2&t&&(e.R7$(3),e.Y8G("ngForOf",o.forms))},dependencies:[l.MD,l.YU,l.Sq,l.bT,f.l],encapsulation:2})}return s})();var Ke=m(5705);class C{static#e=this.getSlices=(0,p.OD)(Ke.z);static#t=this.getWarehouses=(0,p.Mz)([C.getSlices.warehouses],i=>i);static#o=this.getWarehouse=(0,p.Mz)([C.getSlices.warehouseById],i=>i);static#r=this.getStatus=(0,p.Mz)([C.getSlices.status],i=>i)}var W=m(1935);class q{constructor(i,r){this.name=i,this.status=r}static create(i){const{name:r,status:t}=i;return r?t?[null,new q(r,t)]:["Status Property is Required",void 0]:["Name Property is Required",void 0]}}class Z{constructor(i,r,t){this.warehouse_id=i,this.name=r,this.status=t}static create(i){const{warehouse_id:r,name:t,status:o}=i;return r?t?o?[null,new Z(r,t,o)]:["Status Property is Required",void 0]:["Name Property is Required",void 0]:["Warehouse ID Property is Required",void 0]}}let G=(()=>{class s{constructor(){this._store=(0,e.WQX)(p.il),this.statusAction=this._store.selectSignal(C.getStatus),this.warehouses=this._store.selectSignal(C.getWarehouses),this._store.dispatch(new W.B.GetAll)}addItem(r,t){const[o,n]=q.create({name:r,status:t});if(o)throw new Error("Error al crear la sucursal : "+o);this._store.dispatch(new W.B.Create(n))}updateItem(r,t,o){const[n,c]=Z.create({name:t,status:o,warehouse_id:r});if(n)throw new Error("Error al actualizar la sucursal : "+n);this._store.dispatch(new W.B.Update(c))}deleteItem(r){this._store.dispatch(new W.B.Delete(r))}getWarehouse(r){this._store.dispatch(new W.B.Get(r))}getWarehouses(){this._store.dispatch(new W.B.GetAll)}static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),A=(()=>{class s{constructor(){this.warehouseFacadeService=(0,e.WQX)(G),this.warehouses=this.warehouseFacadeService.warehouses}transform(r,...t){if(this.warehouseFacadeService.statusAction()===g.p.LOADING)return"Cargando...";const o=this.warehouses().find(n=>n.warehouse_id==r);return o?o.name:"No Encontrado "}static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275pipe=e.EJ8({name:"appWarehouse",type:s,pure:!1,standalone:!0})}return s})();var et=m(564);class S{constructor(){this.getProvider=(0,p.Mz)([S.getSlices.providerById],i=>i)}static#e=this.getSlices=(0,p.OD)(et.H);static#t=this.getProviders=(0,p.Mz)([S.getSlices.providers],i=>i);static#o=this.getStatus=(0,p.Mz)([S.getSlices.status],i=>i)}var L=m(7771);class K{constructor(i,r,t,o,n){this.name=i,this.phone=r,this.email=t,this.address=o,this.status=n}static create(i){const{name:r,phone:t,email:o,address:n,status:c}=i;return r?t?o?n?c?[null,new K(r,t,o,n,c)]:["Status Property is Required",void 0]:["Address Property is Required",void 0]:["Email Property is Required",void 0]:["Phone Property is Required",void 0]:["Name Property is Required",void 0]}}class ee{constructor(i,r,t,o,n,c){this.provider_id=i,this.name=r,this.phone=t,this.email=o,this.address=n,this.status=c}static create(i){const{provider_id:r,name:t,phone:o,email:n,address:c,status:u}=i;return r?t?n?c?u?o?[null,new ee(r,t,o,n,c,u)]:["Phone Property is Required",void 0]:["Status Property is Required",void 0]:["Address Property is Required",void 0]:["Email Property is Required",void 0]:["Name Property is Required",void 0]:["Provider_id Property is Required",void 0]}}let te=(()=>{class s{constructor(){this._store=(0,e.WQX)(p.il),this.statusAction=this._store.selectSignal(S.getStatus),this.providers=this._store.selectSignal(S.getProviders),this._store.dispatch(new L.H.GetAll)}addItem(r,t,o,n,c){const[u,h]=K.create({name:r,phone:t,email:o,address:n,status:c});if(u)throw new Error("Error al crear el proveedor : "+u);this._store.dispatch(new L.H.Create(h))}updateItem(r,t,o,n,c,u){const[h,v]=ee.create({provider_id:r,name:t,phone:o,email:n,address:c,status:u});if(h)throw new Error("Error al actualizar el proveedor : "+h);this._store.dispatch(new L.H.Update(v))}deleteItem(r){this._store.dispatch(new L.H.Delete(r))}getProvider(r){this._store.dispatch(new L.H.Get(r))}getProviders(){this._store.dispatch(new L.H.GetAll)}static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),le=(()=>{class s{constructor(){this.providerFacadeService=(0,e.WQX)(te),this.providers=this.providerFacadeService.providers}transform(r){if(this.providerFacadeService.statusAction()===g.p.LOADING)return"Cargando...";const t=this.providers().find(o=>o.provider_id===r);return t?t.name:"No encontrado"}static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275pipe=e.EJ8({name:"appProvider",type:s,pure:!1,standalone:!0})}return s})(),B=(()=>{class s{constructor(){this.typeProductFacadeService=(0,e.WQX)(Y),this.typeProducts=this.typeProductFacadeService.productTypes}transform(r,...t){if(this.typeProductFacadeService.statusAction()===g.p.LOADING)return"Cargando...";const o=this.typeProducts().find(n=>n.product_type_id==r);return o?o.name:"No Encontrado "}static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275pipe=e.EJ8({name:"appProduct",type:s,pure:!1,standalone:!0})}return s})();const tt=["item-table-input",""];let ot=(()=>{class s{static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["","item-table-input",""]],inputs:{inputProduct:"inputProduct",index:"index"},standalone:!0,features:[e.aNF],attrs:tt,decls:32,vars:15,consts:[[1,"py-3","pl-3","text-start"],[1,"pr-1"],[1,"text-sm","text-muted-foreground"],[1,"text-sm","text-foreground"],[1,"py-3","pl-3","text-right"]],template:function(t,o){1&t&&(e.j41(0,"td",0)(1,"div",1)(2,"span",2),e.EFF(3),e.k0s()()(),e.j41(4,"td",0)(5,"div",1)(6,"span",2),e.EFF(7),e.nI1(8,"appProduct"),e.k0s()()(),e.j41(9,"td",0)(10,"div")(11,"span",2),e.EFF(12),e.nI1(13,"appWarehouse"),e.k0s()()(),e.j41(14,"td",0)(15,"div",1)(16,"span",3),e.EFF(17),e.nI1(18,"appProvider"),e.k0s()()(),e.j41(19,"td",0)(20,"div",1)(21,"span",2),e.EFF(22),e.k0s()()(),e.j41(23,"td",0)(24,"div",1)(25,"span",2),e.EFF(26),e.k0s()()(),e.j41(27,"td",4)(28,"div",1)(29,"span",2),e.EFF(30),e.nI1(31,"date"),e.k0s()()()),2&t&&(e.R7$(3),e.JRh(o.index),e.R7$(4),e.JRh(e.bMT(8,7,o.inputProduct.product_type_id)),e.R7$(5),e.JRh(e.bMT(13,9,o.inputProduct.warehouse_id)),e.R7$(5),e.JRh(e.bMT(18,11,o.inputProduct.provider_id)),e.R7$(5),e.JRh(o.inputProduct.quantity),e.R7$(4),e.JRh(o.inputProduct.detail),e.R7$(4),e.JRh(e.bMT(31,13,o.inputProduct.date_created)))},dependencies:[l.MD,l.vh,A,le,B],encapsulation:2})}return s})();const ce=(s,i)=>({"border-primary text-primary outline-none active-tab":s,"text-muted-foreground border-transparent":i});function rt(s,i){if(1&s){const r=e.RV6();e.j41(0,"button",21),e.bIt("click",function(){const o=e.eBV(r).$implicit,n=e.XpG();return e.Njj(n.selectWarehouse(o.warehouse_id))}),e.EFF(1),e.k0s()}if(2&s){const r=i.$implicit,t=e.XpG();e.Y8G("ngClass",e.l_i(2,ce,t.selectedWarehouse===r.warehouse_id,t.selectedWarehouse!==r.warehouse_id)),e.R7$(),e.SpI(" ",r.name," ")}}function st(s,i){if(1&s){const r=e.RV6();e.j41(0,"tr",22),e.bIt("click",function(){const o=e.eBV(r).$implicit,n=e.XpG();return e.Njj(n.onSelectTable(o))}),e.k0s()}if(2&s){const r=i.$implicit,t=i.index,o=e.XpG();e.Y8G("inputProduct",r)("index",t+1+(o.actualPage-1)*o.itemsPerPage)}}let nt=(()=>{class s{constructor(){this.onItemSelect=new e.bkB,this.onfilterEvent=new e.bkB,this.actualPage=1,this.itemsPerPage=30,this.selectedWarehouse=null}ngOnInit(){}onSelectTable(r){this.onItemSelect.emit(r)}selectWarehouse(r){this.selectedWarehouse=r,this.actualPage=1,this.filterEvent()}previousPage(){this.actualPage>1&&(this.actualPage=this.actualPage-1),this.filterEvent()}nextPage(){this.actualPage=this.actualPage+1,this.filterEvent()}filterEvent(){let r;this.selectedWarehouse?(console.log("Con Warehouse"),r={warehouse_id:this.selectedWarehouse,limit:this.itemsPerPage,offset:(this.actualPage-1)*this.itemsPerPage}):(console.log("Sin Warehouse"),r={limit:this.itemsPerPage,offset:(this.actualPage-1)*this.itemsPerPage}),this.onfilterEvent.emit(r)}static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-list-inputs"]],inputs:{warehouses:"warehouses",inputs:"inputs"},outputs:{onItemSelect:"onItemSelect",onfilterEvent:"onfilterEvent"},standalone:!0,features:[e.aNF],decls:46,vars:7,consts:[[1,"flex-col","rounded-lg","bg-background","px-8","py-8","sm:flex-row"],[1,"w-full","mx-auto"],[1,"flex","w-full","overflow-auto","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted"],[1,"py-2","px-4","text-sm","font-medium","text-primary","border-b-2","hover:border-primary","hover:text-primary","focus:outline-none",3,"click","ngClass"],["class","py-2 px-4 text-sm font-medium border-b-2  hover:border-primary hover:text-primary focus:outline-none",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"border-dashed","border-border"],[1,"w-full","flex","flex-col","p-2","gap-2"],[1,"flex","flex-col","gap-2","items-end","md:flex-row","md:items-center","justify-between","w-full"],[1,"w-full","md:w-1/2"],[1,"flex","flex-col","md:flex-row","gap-2"],[1,"text-muted-foreground","text-sm"],["type","date",1,"w-full","border","border-border","rounded-lg","p-2"],[1,"w-full","md:w-1/2","flex","items-center","justify-end","gap-2"],[1,"p-1","text-white","rounded-md","bg-primary",3,"click"],[1,"text-foreground","text-base"],[1,"relative","overflow-x-auto","h-72","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","overflow-auto","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted"],[1,"w-full","table-auto"],[1,"text-xs","uppercase","text-muted-foreground","sticky","top-0","bg-background"],[1,"py-3","text-left"],[1,"py-3","text-right"],["item-table-input","","class","border-b border-dashed border-border hover:bg-card",3,"inputProduct","index","click",4,"ngFor","ngForOf"],[1,"py-2","px-4","text-sm","font-medium","border-b-2","hover:border-primary","hover:text-primary","focus:outline-none",3,"click","ngClass"],["item-table-input","",1,"border-b","border-dashed","border-border","hover:bg-card",3,"click","inputProduct","index"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),e.bIt("click",function(){return o.selectWarehouse(null)}),e.EFF(4," Todos "),e.k0s(),e.DNE(5,rt,2,5,"button",4),e.k0s(),e.nrm(6,"hr",5),e.j41(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",8)(12,"label",10),e.EFF(13,"Desde"),e.k0s(),e.nrm(14,"input",11),e.k0s(),e.j41(15,"div",8)(16,"label",10),e.EFF(17,"Hasta"),e.k0s(),e.nrm(18,"input",11),e.k0s()()(),e.j41(19,"div",12)(20,"button",13),e.bIt("click",function(){return o.previousPage()}),e.EFF(21,"<"),e.k0s(),e.j41(22,"span",14),e.EFF(23),e.k0s(),e.j41(24,"button",13),e.bIt("click",function(){return o.nextPage()}),e.EFF(25,">"),e.k0s()()()(),e.nrm(26,"hr",5),e.j41(27,"div",15)(28,"table",16)(29,"thead",17)(30,"tr"),e.nrm(31,"th",18),e.j41(32,"th",18),e.EFF(33,"Producto"),e.k0s(),e.j41(34,"th",18),e.EFF(35,"Almacen"),e.k0s(),e.j41(36,"th",18),e.EFF(37,"Proveedor"),e.k0s(),e.j41(38,"th",18),e.EFF(39,"Cantidad"),e.k0s(),e.j41(40,"th",18),e.EFF(41,"Detalle"),e.k0s(),e.j41(42,"th",19),e.EFF(43,"Fecha"),e.k0s()()(),e.j41(44,"tbody"),e.DNE(45,st,1,2,"tr",20),e.k0s()()()()()),2&t&&(e.R7$(3),e.Y8G("ngClass",e.l_i(4,ce,null===o.selectedWarehouse,null!==o.selectedWarehouse)),e.R7$(2),e.Y8G("ngForOf",o.warehouses),e.R7$(18),e.JRh(o.actualPage),e.R7$(22),e.Y8G("ngForOf",o.inputs))},dependencies:[l.MD,l.YU,l.Sq,ot],encapsulation:2})}return s})(),it=(()=>{class s{close(){this.inputDetailListener?.close()}static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-input-detail"]],inputs:{inputDetailListener:"inputDetailListener",inputProduct:"inputProduct"},standalone:!0,features:[e.aNF],decls:55,vars:16,consts:[[1,"flex","w-screen","md:w-96","bg-background","h-full","overflow-auto","gap-2","px-3","flex-col","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted"],[1,"sticky","top-0","flex","flex-col","bg-background"],[1,"flex","relative","flex-row","items-center","gap-2","py-3","justify-start"],[1,"text-lg","text-foreground"],[1,"absolute","cursor-pointer","right-0","inline-flex","w-fit","justify-center","rounded-md","bg-background","px-3","py-2","text-sm","font-semibold","text-foreground","shadow-sm","ring-1","ring-inset","ring-foreground","hover:bg-card","sm:mt-0","sm:w-fit",3,"click"],[1,"border-dashed","border-border"],[1,"flex","py-2","flex-col"],[1,"px-2","flex-col","flex"],[1,"text-xs","text-muted-foreground"],[1,"text-base","text-foreground"],[1,"flex","py-2","flex-col","gap-2"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),e.EFF(4),e.k0s(),e.j41(5,"button",4),e.bIt("click",function(){return o.close()}),e.EFF(6," X "),e.k0s()(),e.nrm(7,"hr",5),e.k0s(),e.j41(8,"div",6)(9,"div",7)(10,"span",8),e.EFF(11,"Fecha"),e.k0s(),e.j41(12,"span",9),e.EFF(13),e.nI1(14,"date"),e.k0s()()(),e.nrm(15,"hr",5),e.j41(16,"div",6)(17,"div",7)(18,"span",8),e.EFF(19,"Producto"),e.k0s(),e.j41(20,"span",9),e.EFF(21),e.nI1(22,"appProduct"),e.k0s()()(),e.nrm(23,"hr",5)(24,"div",6),e.j41(25,"div",7)(26,"span",8),e.EFF(27,"Cantidad"),e.k0s(),e.j41(28,"span",9),e.EFF(29),e.k0s()(),e.nrm(30,"hr",5),e.j41(31,"div",6)(32,"div",7)(33,"span",8),e.EFF(34,"Almacen"),e.k0s(),e.j41(35,"span",9),e.EFF(36),e.nI1(37,"appWarehouse"),e.k0s()()(),e.nrm(38,"hr",5),e.j41(39,"div",6)(40,"div",7)(41,"span",8),e.EFF(42,"Proveedor"),e.k0s(),e.j41(43,"span",9),e.EFF(44),e.nI1(45,"appProvider"),e.k0s()()(),e.nrm(46,"hr",5),e.j41(47,"div",6)(48,"div",7)(49,"span",8),e.EFF(50,"Detalles"),e.k0s(),e.j41(51,"span",9),e.EFF(52),e.k0s()()(),e.nrm(53,"hr",5)(54,"div",10),e.k0s()),2&t&&(e.R7$(4),e.JRh("Entrada : "+o.inputProduct.input_id),e.R7$(9),e.JRh(e.i5U(14,7,o.inputProduct.date_created,"short")),e.R7$(8),e.JRh(e.bMT(22,10,o.inputProduct.product_type_id)),e.R7$(8),e.JRh(o.inputProduct.quantity),e.R7$(7),e.JRh(e.bMT(37,12,o.inputProduct.warehouse_id)),e.R7$(8),e.JRh(e.bMT(45,14,o.inputProduct.provider_id)),e.R7$(8),e.JRh(o.inputProduct.detail))},dependencies:[l.MD,l.vh,B,A,le],encapsulation:2})}return s})();var de=m(467),at=m(9372);class E{static#e=this.getSlices=(0,p.OD)(at.W);static#t=this.getInputs=(0,p.Mz)([E.getSlices.inputs],i=>i);static#o=this.getInput=(0,p.Mz)([E.getSlices.inputById],i=>i);static#r=this.getStatus=(0,p.Mz)([E.getSlices.status],i=>i)}var $=m(2863);class oe{constructor(i,r,t,o,n){this.product_type_id=i,this.provider_id=r,this.warehouse_id=t,this.detail=o,this.quantity=n}static create(i){const{product_type_id:r,provider_id:t,warehouse_id:o,detail:n,quantity:c}=i;return r?t?o?n?c?[void 0,new oe(r,t,o,n,c)]:["Quantity required",void 0]:["Detail required",void 0]:["Warehouse id required",void 0]:["Provider id required",void 0]:["Product type id required",void 0]}}var ue=m(4843);function pe(s){return`${Object.keys(s[0]).join(";")}\n${s.map(t=>Object.values(t).join(";")).join("\n")}`}function me(s,i){const r=new Blob([s],{type:"text/csv"}),t=window.URL.createObjectURL(r),o=document.createElement("a");o.href=t,o.download=i,o.click(),window.URL.revokeObjectURL(t)}let lt=(()=>{class s{constructor(r){this.actions$=r,this._store=(0,e.WQX)(p.il),this.statusAction=this._store.selectSignal(E.getStatus),this.inputs=this._store.selectSignal(E.getInputs),this.input=this._store.selectSignal(E.getInput);const t=(new Date).toISOString().split("T")[0],o=new Date((new Date).getTime()+864e5).toISOString().split("T")[0];this._store.dispatch(new $.S.GetAll({init:t,end:o}))}addItem(r,t,o,n,c){console.log(r,t,o,n,c);const[u,h]=oe.create({product_type_id:r,provider_id:t,warehouse_id:o,detail:n,quantity:c});u?console.log(u):this._store.dispatch(new $.S.Create(h))}getItems(r){this._store.dispatch(new $.S.GetAll(r))}getItem(r){this._store.dispatch(new $.S.Get(r))}createReport(r){var t=this;return(0,de.A)(function*(){t._store.dispatch(new $.S.GetAll(r)),yield(0,ue._)(t.actions$.pipe((0,p.rM)($.S.GetAll)));const o=t._store.selectSnapshot(C.getWarehouses),n=t._store.selectSnapshot(y.getProductTypes),c=t._store.selectSnapshot(S.getProviders);me(pe(t.inputs().map(b=>({Fecha:b.date_created,Producto:b.product_type_id,Cantidad:b.quantity,Detalle:b.detail,Almacen:o.find(O=>O.warehouse_id===b.warehouse_id)?.name,TipoProducto:n.find(O=>O.product_type_id===b.product_type_id)?.name,Proveedor:c.find(O=>O.provider_id===b.provider_id)?.name}))),"reporte.csv")})()}static#e=this.\u0275fac=function(t){return new(t||s)(e.KVO(p.En))};static#t=this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),F=(()=>{class s{constructor(){this.validators=[]}static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-input-select"]],inputs:{formControl:"formControl",data:"data",validators:"validators"},standalone:!0,features:[e.aNF],decls:1,vars:2,consts:[[3,"items","formControl"]],template:function(t,o){1&t&&e.nrm(0,"app-select",0),2&t&&e.Y8G("items",o.data.items)("formControl",o.formControl)},dependencies:[l.MD,J.w,a.X1,a.BC,a.l_,a.YN],encapsulation:2})}return s})(),X=(()=>{class s{constructor(){this.validators=[]}static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-input-date"]],inputs:{formControl:"formControl",data:"data",validators:"validators"},standalone:!0,features:[e.aNF],decls:1,vars:1,consts:[["type","date",3,"formControl"]],template:function(t,o){1&t&&e.nrm(0,"input",0),2&t&&e.Y8G("formControl",o.formControl)},dependencies:[l.MD,a.X1,a.me,a.BC,a.l_],encapsulation:2})}return s})();function ct(s,i){}let dt=(()=>{class s{constructor(){this.modalService=(0,e.WQX)(_.B),this.warehouseFacadeService=(0,e.WQX)(G),this.inputFacadeService=(0,e.WQX)(lt),this.productTypeFacadeService=(0,e.WQX)(Y),this.providerFacadeService=(0,e.WQX)(te),this.dialogService=(0,e.WQX)(M.o),this.warehouses$=this.warehouseFacadeService.warehouses,this.inputs$=this.inputFacadeService.inputs,this.productTypes$=this.productTypeFacadeService.productTypes,this.providers$=this.providerFacadeService.providers,this.onLoading$=this.inputFacadeService.statusAction,this.dialogNotifier=new R.B,this.onShowItem=!1,this.inputDetailListener={close:()=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1},submit:()=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1},cancel:()=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1}},(0,e.QZP)(()=>{switch(this.onLoading$()){case g.p.LOADING:this.dialogService.open({typeDialog:d.h.isLoading,listener:this.dialogNotifier,data:{title:"Cargando",description:"Espere un momento por favor",icon:"assets/icons/loading.svg"},options:{withActions:!1,withBackground:!0,position:[d.Y.center],colorIcon:"text-primary"}});break;case g.p.SUCCESS:this.dialogNotifier.next(null);const t={typeDialog:d.h.isSuccess,data:{title:"Operacion Exitosa",description:"La operacion se ha completado con exito",icon:"assets/icons/heroicons/outline/check-badge.svg"},options:{withBackground:!1,position:[d.Y.top,d.Y.right],colorIcon:"text-green-500",timeToShow:(0,D.O)(2e3)}};this.dialogService.open(t);break;default:this.dialogNotifier.next(null)}})}ngOnInit(){}onInputSelected(r){const t=this.dcWrapper.viewContainerRef;t.clear();const o=t.createComponent(it);o.instance.inputDetailListener=this.inputDetailListener,o.instance.inputProduct=r,this.onShowItem=!0}onAddEvent(){const r={component:k,data:{title:"Detalles de la entrada",description:"Especificaciones necesarias de la entrada a agregar"},dynamicFields:[{component:F,data:{title:"Almacen",items:this.warehouses$().map(o=>({id:o.warehouse_id,name:o.name}))},fieldFormControl:new a.MJ("")},{component:F,data:{title:"Producto",items:this.productTypes$().map(o=>({id:o.product_type_id,name:o.name}))},fieldFormControl:new a.MJ("")},{component:F,data:{title:"Proveedor",items:this.providers$().map(o=>({id:o.provider_id,name:o.name}))},fieldFormControl:new a.MJ("")}]},t={component:k,data:{title:"Detalles de la entrada",description:"Especificaciones necesarias de la entrada a agregar"},dynamicFields:[{component:w,data:{placeholder:"Detalle",title:"Detalle"},fieldFormControl:new a.MJ("")},{component:w,data:{placeholder:"Cantidad",title:"Cantidad"},fieldFormControl:new a.MJ("")}]};this.modalService.open(ae,{title:"Agregar Entrada",size:"sm",forms:[r,t],data:{},icon:"assets/icons/heroicons/outline/plus.svg",actions:[{action:x.X.Create,title:"Ingresar"}]}).subscribe({next:o=>{const{Almacen:n,Cantidad:c,Detalle:u,Producto:h,Proveedor:v}=I(o);this.inputFacadeService.addItem(h,v,n,u,c)},error:o=>{console.log({err:o})},complete:()=>{console.log("Complete")}})}onFilterEvents(r){this.inputFacadeService.getItems(r)}onGenerateReport(){const r={component:k,data:{title:"Parametros de Reporte",description:"Filtros necesarios para generar el reporte"},dynamicFields:[{component:F,data:{title:"Almacen",items:this.warehouses$().map(t=>({id:t.warehouse_id,name:t.name}))},fieldFormControl:new a.MJ},{component:F,data:{title:"Producto",items:this.productTypes$().map(t=>({id:t.product_type_id,name:t.name}))},fieldFormControl:new a.MJ},{component:X,data:{title:"Inicio"},fieldFormControl:new a.MJ},{component:X,data:{title:"Fin"},fieldFormControl:new a.MJ}]};this.modalService.open(ae,{title:"Generar Reporte",size:"sm",forms:[r],data:{},icon:"assets/icons/heroicons/outline/plus.svg",actions:[{action:x.X.Create,title:"Generar"}]}).subscribe({next:t=>{const o=I(t),n={warehouse_id:o.Almacen,product_type_id:o.Producto,init:o.Inicio,end:o.Fin},c=Object.keys(n).reduce((u,h)=>(null!=n[h]&&(u[h]=n[h]),u),{});this.inputFacadeService.createReport(c)},error:t=>{console.log({err:t})},complete:()=>{console.log("Complete")}})}static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-inputs"]],viewQuery:function(t,o){if(1&t&&e.GBs(f.l,5),2&t){let n;e.mGM(n=e.lsd())&&(o.dcWrapper=n.first)}},standalone:!0,features:[e.aNF],decls:5,vars:4,consts:[[3,"classList"],[3,"addEvent","generareReport"],[3,"onItemSelect","onfilterEvent","warehouses","inputs"],["dcWrapper",""]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",0)(2,"app-inputs-header",1),e.bIt("addEvent",function(){return o.onAddEvent()})("generareReport",function(){return o.onGenerateReport()}),e.k0s(),e.j41(3,"app-list-inputs",2),e.bIt("onItemSelect",function(c){return o.onInputSelected(c)})("onfilterEvent",function(c){return o.onFilterEvents(c)}),e.k0s()(),e.DNE(4,ct,0,0,"ng-template",3),e.k0s()),2&t&&(e.Y8G("classList",o.onShowItem?"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-auto  h-full ":"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-hidden  h-full "),e.R7$(),e.Y8G("classList",o.onShowItem?" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-0 md:py-4":" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-4"),e.R7$(2),e.Y8G("warehouses",o.warehouses$())("inputs",o.inputs$()))},dependencies:[l.MD,He,nt,f.l],encapsulation:2})}return s})(),ut=(()=>{class s{constructor(){this.addEvent=new e.bkB}onAddToggle(){this.addEvent.emit()}static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-warehouses-header"]],outputs:{addEvent:"addEvent"},standalone:!0,features:[e.aNF],decls:12,vars:0,consts:[[1,"mb-4","flex","justify-between"],[1,"inline-block"],[1,"font-semibold","text-foreground"],[1,"space-x-1","text-xs","font-medium","text-muted-foreground"],["href","",1,"hover:text-primary"],[1,"inline-block","space-x-4"],[1,"flex-none","rounded-md","bg-primary","px-4","py-2.5","text-xs","font-medium","text-primary-foreground",3,"click"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"h3",2),e.EFF(3,"Almacenes - Listado"),e.k0s(),e.j41(4,"div",3)(5,"a",4),e.EFF(6,"Lista"),e.k0s(),e.j41(7,"span"),e.EFF(8," - Almacenes"),e.k0s()()(),e.j41(9,"div",5)(10,"button",6),e.bIt("click",function(){return o.onAddToggle()}),e.EFF(11," Agregar Almacen "),e.k0s()()())},dependencies:[l.MD],encapsulation:2})}return s})();function pt(s,i){1&s&&(e.qSk(),e.j41(0,"svg",9),e.nrm(1,"path",10),e.k0s())}function mt(s,i){if(1&s&&(e.j41(0,"li",6)(1,"span",7),e.EFF(2),e.k0s(),e.EFF(3),e.DNE(4,pt,2,0,"svg",8),e.k0s()),2&s){const r=i.$implicit,t=i.index,o=e.XpG();e.Y8G("ngClass",t==o.actualFormIndex?" text-primary ":t<o.actualFormIndex?"text-primary hidden md:flex":"text-muted-foreground hidden md:flex"),e.R7$(),e.Y8G("classList",t<=o.actualFormIndex?"flex items-center justify-center w-5 h-5 me-2 text-xs border border-primary rounded-full shrink-0 ":"flex items-center justify-center w-5 h-5 me-2 text-xs border border-foreground  rounded-full shrink-0"),e.R7$(),e.SpI(" ",t+1," "),e.R7$(),e.SpI(" ",r.data.title," "),e.R7$(),e.Y8G("ngIf",t+1<=o.forms.length-1)}}function ht(s,i){}let he=(()=>{class s{constructor(){this.onCreateModal=new e.bkB,this.actualFormIndex=0,this.forms=[],this.cdr=(0,e.WQX)(e.gRc)}ngOnInit(){}ngAfterViewInit(){const r=this.createModalListener();this.loadComponent(this.actualFormIndex),this.onCreateModal.emit(r),this.cdr.detectChanges()}loadComponent(r){const t=this.forms[r],o=this.dcWrapper.viewContainerRef;o.clear();const n=o.createComponent(t.component);n.instance.step=r,n.instance.fields=t.dynamicFields,n.instance.data=t.data,n.instance.renderForm()}createModalListener(){return{onNext:()=>this.nextStepForm(),onPrev:()=>this.prevStepForm()}}nextStepForm(){return this.actualFormIndex<this.forms.length-1&&this.actualFormIndex++,this.loadComponent(this.actualFormIndex),{actualForm:this.forms[this.actualFormIndex],actualStep:this.actualFormIndex}}prevStepForm(){return this.actualFormIndex>0&&this.actualFormIndex--,this.loadComponent(this.actualFormIndex),{actualForm:this.forms[this.actualFormIndex],actualStep:this.actualFormIndex}}static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-modal-warehouses"]],viewQuery:function(t,o){if(1&t&&e.GBs(f.l,5),2&t){let n;e.mGM(n=e.lsd())&&(o.dcWrapper=n.first)}},inputs:{forms:"forms",data:"data"},standalone:!0,features:[e.aNF],decls:6,vars:1,consts:[[1,"flex","flex-col","gap-5","w-full"],[1,"flex","flex-col","md:flex-row","bg-background","justify-between","items-center"],[1,"flex","items-center","w-full","p-3","space-x-2","text-sm","font-medium","text-center","rounded-lg","shadow-sm","sm:text-base","sm:p-4","sm:space-x-4","rtl:space-x-reverse"],["class","flex items-center  font-bold h-10 sm:w-full md:w-fit ",3,"ngClass",4,"ngFor","ngForOf"],[1,"flex","flex-col","gap-2","bg-background"],["dcWrapper",""],[1,"flex","items-center","font-bold","h-10","sm:w-full","md:w-fit",3,"ngClass"],[3,"classList"],["class","w-3 h-3 ms-2 sm:ms-4 rtl:rotate-180","aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 12 10",4,"ngIf"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 12 10",1,"w-3","h-3","ms-2","sm:ms-4","rtl:rotate-180"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m7 9 4-4-4-4M1 9l4-4-4-4"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"ol",2),e.DNE(3,mt,5,5,"li",3),e.k0s()(),e.j41(4,"div",4),e.DNE(5,ht,0,0,"ng-template",5),e.k0s()()),2&t&&(e.R7$(3),e.Y8G("ngForOf",o.forms))},dependencies:[l.MD,l.YU,l.Sq,l.bT,f.l],encapsulation:2})}return s})();const ft=["content-table-item",""];let gt=(()=>{class s{constructor(){this.toggleItem=new e.bkB}ngOnInit(){}onToggleItem(){}static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["","content-table-item",""]],inputs:{warehouse:"warehouse"},outputs:{toggleItem:"toggleItem"},standalone:!0,features:[e.aNF],attrs:ft,decls:9,vars:5,consts:[[1,"py-3","pr-3","text-start"],[1,"pl-1"],[1,"mb-1","text-sm","font-semibold","text-foreground","text-center"],[1,"py-3","pl-3","text-right"],[1,"pr-1"],[1,"text-sm","rounded-md",3,"ngClass"]],template:function(t,o){1&t&&(e.j41(0,"td",0)(1,"div",1)(2,"span",2),e.EFF(3),e.k0s()()(),e.j41(4,"td",3)(5,"div",4)(6,"span",5),e.EFF(7),e.nI1(8,"appTypeStatus"),e.k0s()()()),2&t&&(e.R7$(3),e.JRh(o.warehouse.name),e.R7$(3),e.Y8G("ngClass",1===o.warehouse.status?"text-sm text-green-600 border p-1 border-green-600 rounded-md":"text-sm text-red-600 border p-1 border-red-600 rounded-md"),e.R7$(),e.JRh(e.bMT(8,3,o.warehouse.status)))},dependencies:[l.MD,l.YU,ie.N],encapsulation:2})}return s})();function vt(s,i){if(1&s){const r=e.RV6();e.j41(0,"tr",10),e.bIt("click",function(){const o=e.eBV(r).$implicit,n=e.XpG();return e.Njj(n.onSelectTable(o))}),e.k0s()}2&s&&e.Y8G("warehouse",i.$implicit)}let bt=(()=>{class s{constructor(){this.onSelectItem=new e.bkB}ngOnInit(){}onSelectTable(r){this.onSelectItem.emit(r)}static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-list-warehouses"]],inputs:{services:"services",warehouses:"warehouses"},outputs:{onSelectItem:"onSelectItem"},standalone:!0,features:[e.aNF],decls:15,vars:1,consts:[[1,"flex-col","rounded-lg","bg-background","px-8","py-8","sm:flex-row"],[1,"mb-4","flex","items-center","justify-between"],[1,"flex-col","items-center"],[1,"text-xs","text-foreground"],[1,"relative","overflow-x-auto"],[1,"w-full","table-auto"],[1,"text-xs","uppercase","text-muted-foreground"],[1,"py-3","text-left"],[1,"py-3","text-right"],["content-table-item","","class","border-b border-dashed border-border hover:bg-card",3,"warehouse","click",4,"ngFor","ngForOf"],["content-table-item","",1,"border-b","border-dashed","border-border","hover:bg-card",3,"click","warehouse"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),e.EFF(4,"Lista de Almacenes"),e.k0s()()(),e.j41(5,"div",4)(6,"table",5)(7,"thead",6)(8,"tr")(9,"th",7),e.EFF(10,"Almacen"),e.k0s(),e.j41(11,"th",8),e.EFF(12,"Status"),e.k0s()()(),e.j41(13,"tbody"),e.DNE(14,vt,1,1,"tr",9),e.k0s()()()()),2&t&&(e.R7$(14),e.Y8G("ngForOf",o.warehouses))},dependencies:[l.MD,l.Sq,gt],encapsulation:2})}return s})(),wt=(()=>{class s{constructor(){this.items=[{id:1,name:"Activo"},{id:2,name:"Inactivo"}],this.warehouseForm=new a.gE({warehouse_id:new a.MJ,name:new a.MJ,status:new a.MJ})}ngOnInit(){this.warehouseForm=new a.gE({warehouse_id:new a.MJ(this.warehouse.warehouse_id),name:new a.MJ(this.warehouse.name),status:new a.MJ(this.warehouse.status)})}close(){this.detailListener.close()}onSubmit(){this.detailListener.submit(this.warehouseForm)}onDelete(){this.detailListener.delete(this.warehouse.warehouse_id)}static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-warehouse-detail"]],inputs:{detailListener:"detailListener",warehouse:"warehouse"},standalone:!0,features:[e.aNF],decls:25,vars:3,consts:[[1,"flex","w-screen","md:w-96","bg-background","h-full","overflow-auto","gap-2","px-3","flex-col","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted",3,"ngSubmit","formGroup"],[1,"sticky","top-0","flex","flex-col","bg-background"],[1,"flex","relative","flex-row","items-center","gap-2","py-3","justify-start"],[1,"text-lg","text-foreground"],["type","button",1,"absolute","cursor-pointer","right-0","inline-flex","w-fit","justify-center","rounded-md","bg-background","px-3","py-2","text-sm","font-semibold","text-foreground","shadow-sm","ring-1","ring-inset","ring-foreground","hover:bg-card","sm:mt-0","sm:w-fit",3,"click"],[1,"border-dashed","border-border"],[1,"flex","py-2","flex-col"],[1,"px-2","flex-col","flex","gap-2"],[1,"text-xs","text-muted-foreground"],["type","text","formControlName","name","placeholder","google"],["formControlName","status",3,"items"],[1,"flex","py-2","flex-col","gap-2"],["type","submit",1,"bg-primary","text-white","rounded-md","p-2"],["type","button",1,"bg-red-500","text-white","rounded-md","p-2",3,"click"]],template:function(t,o){1&t&&(e.j41(0,"form",0),e.bIt("ngSubmit",function(){return o.onSubmit()}),e.j41(1,"div",1)(2,"div",2)(3,"span",3),e.EFF(4),e.k0s(),e.j41(5,"button",4),e.bIt("click",function(){return o.close()}),e.EFF(6," X "),e.k0s()(),e.nrm(7,"hr",5),e.k0s(),e.j41(8,"div",6)(9,"div",7)(10,"span",8),e.EFF(11,"Nombre"),e.k0s(),e.nrm(12,"input",9),e.k0s()(),e.nrm(13,"hr",5),e.j41(14,"div",6)(15,"div",7)(16,"span",8),e.EFF(17,"Estado"),e.k0s(),e.nrm(18,"app-select",10),e.k0s()(),e.j41(19,"div",11)(20,"button",12),e.EFF(21," Guardar Cambios "),e.k0s(),e.nrm(22,"hr"),e.j41(23,"button",13),e.bIt("click",function(){return o.onDelete()}),e.EFF(24," Eliminar "),e.k0s()()()),2&t&&(e.Y8G("formGroup",o.warehouseForm),e.R7$(4),e.JRh("Detalles del almacen"),e.R7$(14),e.Y8G("items",o.items))},dependencies:[l.MD,a.YN,a.qT,a.me,a.BC,a.cb,a.X1,a.j4,a.JD,J.w],encapsulation:2})}return s})();function xt(s,i){}let Ft=(()=>{class s{ngOnInit(){}constructor(){this.modalService=(0,e.WQX)(_.B),this.dialogService=(0,e.WQX)(M.o),this.warehouseFacadeService=(0,e.WQX)(G),this.warehouses$=this.warehouseFacadeService.warehouses,this.onLoading$=this.warehouseFacadeService.statusAction,this.dialogNotifier=new R.B,this.onShowItem=!1,this.detailListener={close:()=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1},cancel:()=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1},submit:r=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1,this.dialogService.open({typeDialog:d.h.isAlert,data:{title:"Advertencia",description:"Estas seguro de realizar esta accion",icon:"assets/icons/heroicons/outline/exclamation.svg"},options:{withActions:!0,position:[d.Y.center],withBackground:!0,colorIcon:"text-red-500"}}).subscribe(o=>{const{warehouse_id:n,name:c,status:u}=r.value;this.warehouseFacadeService.updateItem(n,c,u)})},delete:r=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1,this.dialogService.open({typeDialog:d.h.isAlert,data:{title:"Advertencia",description:"Estas seguro de realizar esta accion",icon:"assets/icons/heroicons/outline/exclamation.svg"},options:{withActions:!0,position:[d.Y.center],withBackground:!0,colorIcon:"text-red-500"}}).subscribe(o=>{this.warehouseFacadeService.deleteItem(r)})}},(0,e.QZP)(()=>{switch(this.onLoading$()){case g.p.LOADING:this.dialogService.open({typeDialog:d.h.isLoading,listener:this.dialogNotifier,data:{title:"Cargando",description:"Espere un momento por favor",icon:"assets/icons/loading.svg"},options:{withActions:!1,withBackground:!0,position:[d.Y.center],colorIcon:"text-primary"}});break;case g.p.SUCCESS:this.dialogNotifier.next(null);const t={typeDialog:d.h.isSuccess,data:{title:"Operacion Exitosa",description:"La operacion se ha completado con exito",icon:"assets/icons/heroicons/outline/check-badge.svg"},options:{withBackground:!1,position:[d.Y.top,d.Y.right],colorIcon:"text-green-500",timeToShow:(0,D.O)(2e3)}};this.dialogService.open(t);break;default:this.dialogNotifier.next(null)}})}onAddEvent(){const r={component:k,data:{title:"Detalles del nuevo almacen a agregar",description:"Especificaciones necesarias del almacen a agregar"},dynamicFields:[{component:w,data:{placeholder:"Almacen 1",title:"Almacen"},fieldFormControl:new a.MJ("")}]};this.modalService.open(he,{title:"Agregar Almacen",size:"sm",forms:[r],data:{},icon:"assets/icons/heroicons/outline/plus.svg",actions:[{action:x.X.Create,title:"Ingresar"}]}).subscribe({next:t=>{const n=I(t).Almacen;console.log({warehouseName:n}),this.createWareHouse({name:n,status:1})},error:t=>{console.log({err:t})},complete:()=>{console.log("Complete")}})}createWareHouse(r){this.warehouseFacadeService.addItem(r.name,r.status)}onEditEvent(r){const t=this.dcWrapper.viewContainerRef;t.clear();const o=t.createComponent(wt);o.instance.detailListener=this.detailListener,o.instance.warehouse=r,this.onShowItem=!0}static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-warehouses"]],viewQuery:function(t,o){if(1&t&&e.GBs(f.l,5),2&t){let n;e.mGM(n=e.lsd())&&(o.dcWrapper=n.first)}},standalone:!0,features:[e.aNF],decls:5,vars:3,consts:[[3,"classList"],[3,"addEvent"],[3,"onSelectItem","warehouses"],["dcWrapper",""]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",0)(2,"app-warehouses-header",1),e.bIt("addEvent",function(){return o.onAddEvent()}),e.k0s(),e.j41(3,"app-list-warehouses",2),e.bIt("onSelectItem",function(c){return o.onEditEvent(c)}),e.k0s()(),e.DNE(4,xt,0,0,"ng-template",3),e.k0s()),2&t&&(e.Y8G("classList",o.onShowItem?"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-auto  h-full ":"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-hidden  h-full "),e.R7$(),e.Y8G("classList",o.onShowItem?" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-0 md:py-4":" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-4"),e.R7$(2),e.Y8G("warehouses",o.warehouses$()))},dependencies:[l.MD,ut,bt,f.l],encapsulation:2})}return s})(),_t=(()=>{class s{constructor(){this.addEvent=new e.bkB,this.generareReport=new e.bkB}onAddToggle(){this.addEvent.emit()}onGenerateReport(){this.generareReport.emit({})}static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-outputs-header"]],outputs:{addEvent:"addEvent",generareReport:"generareReport"},standalone:!0,features:[e.aNF],decls:14,vars:0,consts:[[1,"mb-4","flex","flex-col","md:flex-row","justify-between"],[1,"inline-block"],[1,"font-semibold","text-foreground"],[1,"space-x-1","text-xs","font-medium","text-muted-foreground"],["href","",1,"hover:text-primary"],[1,"flex","flex-col","gap-2","md:inline-block","md:space-x-4"],[1,"flex-none","w-full","md:w-fit","rounded-md","bg-primary","px-4","py-2.5","text-xs","font-medium","text-primary-foreground",3,"click"],[1,"flex-none","w-full","md:w-fit","rounded-md","bg-green-800","px-4","py-2.5","text-xs","font-medium","text-primary-foreground",3,"click"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"h3",2),e.EFF(3,"Almacenes - Salidas"),e.k0s(),e.j41(4,"div",3)(5,"a",4),e.EFF(6,"Lista"),e.k0s(),e.j41(7,"span"),e.EFF(8," - Salidas"),e.k0s()()(),e.j41(9,"div",5)(10,"button",6),e.bIt("click",function(){return o.onAddToggle()}),e.EFF(11," Agregar Salida "),e.k0s(),e.j41(12,"button",7),e.bIt("click",function(){return o.onGenerateReport()}),e.EFF(13," Generar Reporte "),e.k0s()()())},dependencies:[l.MD],encapsulation:2})}return s})();function yt(s,i){1&s&&(e.qSk(),e.j41(0,"svg",9),e.nrm(1,"path",10),e.k0s())}function kt(s,i){if(1&s&&(e.j41(0,"li",6)(1,"span",7),e.EFF(2),e.k0s(),e.EFF(3),e.DNE(4,yt,2,0,"svg",8),e.k0s()),2&s){const r=i.$implicit,t=i.index,o=e.XpG();e.Y8G("ngClass",t==o.actualFormIndex?" text-primary ":t<o.actualFormIndex?"text-primary hidden md:flex":"text-muted-foreground hidden md:flex"),e.R7$(),e.Y8G("classList",t<=o.actualFormIndex?"flex items-center justify-center w-5 h-5 me-2 text-xs border border-primary rounded-full shrink-0 ":"flex items-center justify-center w-5 h-5 me-2 text-xs border border-foreground  rounded-full shrink-0"),e.R7$(),e.SpI(" ",t+1," "),e.R7$(),e.SpI(" ",r.data.title," "),e.R7$(),e.Y8G("ngIf",t+1<=o.forms.length-1)}}function Ct(s,i){}let fe=(()=>{class s{constructor(){this.onCreateModal=new e.bkB,this.actualFormIndex=0,this.forms=[],this.cdr=(0,e.WQX)(e.gRc)}ngOnInit(){}ngAfterViewInit(){const r=this.createModalListener();this.loadComponent(this.actualFormIndex),this.onCreateModal.emit(r),this.cdr.detectChanges()}loadComponent(r){const t=this.forms[r],o=this.dcWrapper.viewContainerRef;o.clear();const n=o.createComponent(t.component);n.instance.step=r,n.instance.fields=t.dynamicFields,n.instance.data=t.data,n.instance.renderForm()}createModalListener(){return{onNext:()=>this.nextStepForm(),onPrev:()=>this.prevStepForm()}}nextStepForm(){return this.actualFormIndex<this.forms.length-1&&this.actualFormIndex++,this.loadComponent(this.actualFormIndex),{actualForm:this.forms[this.actualFormIndex],actualStep:this.actualFormIndex}}prevStepForm(){return this.actualFormIndex>0&&this.actualFormIndex--,this.loadComponent(this.actualFormIndex),{actualForm:this.forms[this.actualFormIndex],actualStep:this.actualFormIndex}}static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-modal-outputs"]],viewQuery:function(t,o){if(1&t&&e.GBs(f.l,5),2&t){let n;e.mGM(n=e.lsd())&&(o.dcWrapper=n.first)}},inputs:{forms:"forms",data:"data"},standalone:!0,features:[e.aNF],decls:6,vars:1,consts:[[1,"flex","flex-col","gap-5","w-full"],[1,"flex","flex-col","md:flex-row","bg-background","justify-between","items-center"],[1,"flex","items-center","w-full","p-3","space-x-2","text-sm","font-medium","text-center","rounded-lg","shadow-sm","sm:text-base","sm:p-4","sm:space-x-4","rtl:space-x-reverse"],["class","flex items-center  font-bold h-10 sm:w-full md:w-fit ",3,"ngClass",4,"ngFor","ngForOf"],[1,"flex","flex-col","gap-2","bg-background"],["dcWrapper",""],[1,"flex","items-center","font-bold","h-10","sm:w-full","md:w-fit",3,"ngClass"],[3,"classList"],["class","w-3 h-3 ms-2 sm:ms-4 rtl:rotate-180","aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 12 10",4,"ngIf"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 12 10",1,"w-3","h-3","ms-2","sm:ms-4","rtl:rotate-180"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m7 9 4-4-4-4M1 9l4-4-4-4"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"ol",2),e.DNE(3,kt,5,5,"li",3),e.k0s()(),e.j41(4,"div",4),e.DNE(5,Ct,0,0,"ng-template",5),e.k0s()()),2&t&&(e.R7$(3),e.Y8G("ngForOf",o.forms))},dependencies:[l.MD,l.YU,l.Sq,l.bT,f.l],encapsulation:2})}return s})();const It=["item-table-output",""];let St=(()=>{class s{static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["","item-table-output",""]],inputs:{outputProduct:"outputProduct"},standalone:!0,features:[e.aNF],attrs:It,decls:23,vars:12,consts:[[1,"py-3","pl-3","text-start"],[1,"text-sm","text-muted-foreground"],[1,"pr-1"],[1,"text-sm","text-foreground"],[1,"py-3","pl-3","text-end"]],template:function(t,o){1&t&&(e.j41(0,"td",0)(1,"div")(2,"span",1),e.EFF(3),e.nI1(4,"appWarehouse"),e.k0s()()(),e.j41(5,"td",0)(6,"div",2)(7,"span",3),e.EFF(8),e.nI1(9,"appProduct"),e.k0s()()(),e.j41(10,"td",0)(11,"div",2)(12,"span",1),e.EFF(13),e.k0s()()(),e.j41(14,"td",0)(15,"div",2)(16,"span",1),e.EFF(17),e.k0s()()(),e.j41(18,"td",4)(19,"div",2)(20,"span",1),e.EFF(21),e.nI1(22,"date"),e.k0s()()()),2&t&&(e.R7$(3),e.JRh(e.bMT(4,5,o.outputProduct.warehouse_id)),e.R7$(5),e.JRh(e.bMT(9,7,o.outputProduct.product_type_id)),e.R7$(5),e.JRh(o.outputProduct.quantity),e.R7$(4),e.JRh(o.outputProduct.detail),e.R7$(4),e.JRh(e.i5U(22,9,o.outputProduct.date_created,"short")))},dependencies:[l.MD,l.vh,B,A],encapsulation:2})}return s})();const ge=(s,i)=>({"border-primary text-primary outline-none active-tab":s,"text-muted-foreground border-transparent":i});function Et(s,i){if(1&s){const r=e.RV6();e.j41(0,"button",22),e.bIt("click",function(){const o=e.eBV(r).$implicit,n=e.XpG();return e.Njj(n.selectWarehouse(o.warehouse_id))}),e.EFF(1),e.k0s()}if(2&s){const r=i.$implicit,t=e.XpG();e.Y8G("ngClass",e.l_i(2,ge,t.selectedWarehouse===r.warehouse_id,t.selectedWarehouse!==r.warehouse_id)),e.R7$(),e.SpI(" ",r.name," ")}}function jt(s,i){if(1&s){const r=e.RV6();e.j41(0,"tr",23),e.bIt("click",function(){const o=e.eBV(r).$implicit,n=e.XpG();return e.Njj(n.onSelectTable(o))}),e.k0s()}2&s&&e.Y8G("outputProduct",i.$implicit)}let Tt=(()=>{class s{constructor(){this.onItemSelect=new e.bkB,this.onfilterEvent=new e.bkB,this.actualPage=1,this.itemsPerPage=30,this.selectedWarehouse=null}onSelectTable(r){this.onItemSelect.emit(r)}selectWarehouse(r){this.selectedWarehouse=r,this.actualPage=1,this.filterEvent()}previousPage(){this.actualPage>1&&(this.actualPage=this.actualPage-1),this.filterEvent()}nextPage(){this.actualPage=this.actualPage+1,this.filterEvent()}filterEvent(){let r;this.selectedWarehouse?(console.log("Con Warehouse"),r={warehouse_id:this.selectedWarehouse,limit:this.itemsPerPage,offset:(this.actualPage-1)*this.itemsPerPage}):(console.log("Sin Warehouse"),r={limit:this.itemsPerPage,offset:(this.actualPage-1)*this.itemsPerPage}),this.onfilterEvent.emit(r)}static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-list-outputs"]],inputs:{warehouses:"warehouses",outputs:"outputs"},outputs:{onItemSelect:"onItemSelect",onfilterEvent:"onfilterEvent"},standalone:!0,features:[e.aNF],decls:43,vars:7,consts:[[1,"flex-col","rounded-lg","bg-background","px-8","py-8","sm:flex-row"],[1,"w-full","mx-auto"],[1,"flex","w-full","overflow-auto","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted"],[1,"py-2","px-4","text-sm","font-medium","text-primary","border-b-2","hover:border-primary","hover:text-primary","focus:outline-none",3,"click","ngClass"],["class","py-2 px-4 text-sm font-medium border-b-2  hover:border-primary hover:text-primary focus:outline-none",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"border-dashed","border-border"],[1,"w-full","flex","flex-col","p-2","gap-2"],[1,"flex","flex-row","items-center","justify-between","w-full"],[1,"w-1/2"],[1,"flex","flex-row","gap-2"],[1,"text-muted-foreground","text-sm"],["type","date",1,"w-full","border","border-border","rounded-lg","p-2"],[1,"w-1/2","flex","items-center","justify-end","gap-2"],[1,"w-full","md:w-1/2","flex","items-center","justify-end","gap-2"],[1,"p-1","text-white","rounded-md","bg-primary",3,"click"],[1,"text-foreground","text-base"],[1,"relative","overflow-x-auto","h-72","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","overflow-auto","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted"],[1,"w-full","table-auto"],[1,"text-xs","uppercase","text-muted-foreground"],[1,"py-3","text-left"],[1,"py-3","text-right"],["item-table-output","","class","border-b border-dashed border-border hover:bg-card",3,"outputProduct","click",4,"ngFor","ngForOf"],[1,"py-2","px-4","text-sm","font-medium","border-b-2","hover:border-primary","hover:text-primary","focus:outline-none",3,"click","ngClass"],["item-table-output","",1,"border-b","border-dashed","border-border","hover:bg-card",3,"click","outputProduct"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),e.bIt("click",function(){return o.selectWarehouse(null)}),e.EFF(4," Todos "),e.k0s(),e.DNE(5,Et,2,5,"button",4),e.k0s(),e.nrm(6,"hr",5),e.j41(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",8)(12,"label",10),e.EFF(13,"Desde"),e.k0s(),e.nrm(14,"input",11),e.k0s(),e.j41(15,"div",8)(16,"label",10),e.EFF(17,"Hasta"),e.k0s(),e.nrm(18,"input",11),e.k0s()()(),e.j41(19,"div",12)(20,"div",13)(21,"button",14),e.bIt("click",function(){return o.previousPage()}),e.EFF(22,"<"),e.k0s(),e.j41(23,"span",15),e.EFF(24),e.k0s(),e.j41(25,"button",14),e.bIt("click",function(){return o.nextPage()}),e.EFF(26,">"),e.k0s()()()()(),e.j41(27,"div",16)(28,"table",17)(29,"thead",18)(30,"tr")(31,"th",19),e.EFF(32,"Almacen"),e.k0s(),e.j41(33,"th",19),e.EFF(34,"Producto"),e.k0s(),e.j41(35,"th",19),e.EFF(36,"Cantidad"),e.k0s(),e.j41(37,"th",19),e.EFF(38,"Detalle"),e.k0s(),e.j41(39,"th",20),e.EFF(40,"Fecha"),e.k0s()()(),e.j41(41,"tbody"),e.DNE(42,jt,1,1,"tr",21),e.k0s()()()()()),2&t&&(e.R7$(3),e.Y8G("ngClass",e.l_i(4,ge,null===o.selectedWarehouse,null!==o.selectedWarehouse)),e.R7$(2),e.Y8G("ngForOf",o.warehouses),e.R7$(19),e.JRh(o.actualPage),e.R7$(18),e.Y8G("ngForOf",o.outputs))},dependencies:[l.MD,l.YU,l.Sq,St],encapsulation:2})}return s})(),Pt=(()=>{class s{close(){this.outputdetailListener?.close()}static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-output-detail"]],inputs:{outputdetailListener:"outputdetailListener",outputProduct:"outputProduct"},standalone:!0,features:[e.aNF],decls:47,vars:13,consts:[[1,"flex","w-screen","md:w-96","bg-background","h-full","overflow-auto","gap-2","px-3","flex-col","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted"],[1,"sticky","top-0","flex","flex-col","bg-background"],[1,"flex","relative","flex-row","items-center","gap-2","py-3","justify-start"],[1,"text-lg","text-foreground"],[1,"absolute","cursor-pointer","right-0","inline-flex","w-fit","justify-center","rounded-md","bg-background","px-3","py-2","text-sm","font-semibold","text-foreground","shadow-sm","ring-1","ring-inset","ring-foreground","hover:bg-card","sm:mt-0","sm:w-fit",3,"click"],[1,"border-dashed","border-border"],[1,"flex","py-2","flex-col"],[1,"px-2","flex-col","flex"],[1,"text-xs","text-muted-foreground"],[1,"text-base","text-foreground"],[1,"flex","py-2","flex-col","gap-2"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),e.EFF(4),e.k0s(),e.j41(5,"button",4),e.bIt("click",function(){return o.close()}),e.EFF(6," X "),e.k0s()(),e.nrm(7,"hr",5),e.k0s(),e.j41(8,"div",6)(9,"div",7)(10,"span",8),e.EFF(11,"Detalles"),e.k0s(),e.j41(12,"span",9),e.EFF(13),e.k0s()()(),e.nrm(14,"hr",5),e.j41(15,"div",6)(16,"div",7)(17,"span",8),e.EFF(18,"Fecha"),e.k0s(),e.j41(19,"span",9),e.EFF(20),e.nI1(21,"date"),e.k0s()()(),e.nrm(22,"hr",5),e.j41(23,"div",6)(24,"div",7)(25,"span",8),e.EFF(26,"Producto"),e.k0s(),e.j41(27,"span",9),e.EFF(28),e.nI1(29,"appProduct"),e.k0s()()(),e.nrm(30,"hr",5),e.j41(31,"div",6)(32,"div",7)(33,"span",8),e.EFF(34,"Cantidad"),e.k0s(),e.j41(35,"span",9),e.EFF(36),e.k0s()()(),e.nrm(37,"hr",5),e.j41(38,"div",6)(39,"div",7)(40,"span",8),e.EFF(41,"Almacen"),e.k0s(),e.j41(42,"span",9),e.EFF(43),e.nI1(44,"appWarehouse"),e.k0s()()(),e.nrm(45,"hr",5)(46,"div",10),e.k0s()),2&t&&(e.R7$(4),e.JRh("Salida : "+o.outputProduct.output_id),e.R7$(9),e.JRh(o.outputProduct.detail),e.R7$(7),e.JRh(e.i5U(21,6,o.outputProduct.date_created,"short")),e.R7$(8),e.JRh(e.bMT(29,9,o.outputProduct.product_type_id)),e.R7$(8),e.JRh(o.outputProduct.quantity),e.R7$(7),e.JRh(e.bMT(44,11,o.outputProduct.warehouse_id)))},dependencies:[l.MD,l.vh,A,B],encapsulation:2})}return s})();var Rt=m(6141);class j{static#e=this.getSlices=(0,p.OD)(Rt.J);static#t=this.getOutputs=(0,p.Mz)([j.getSlices.outputs],i=>i);static#o=this.getOutput=(0,p.Mz)([j.getSlices.outputById],i=>i);static#r=this.getStatus=(0,p.Mz)([j.getSlices.status],i=>i)}var N=m(1767);class re{constructor(i,r,t,o){this.product_type_id=i,this.warehouse_id=r,this.detail=t,this.quantity=o}static create(i){const{product_type_id:r,warehouse_id:t,detail:o,quantity:n}=i;return r?t?o?n?[void 0,new re(r,t,o,n)]:["Quantity required",void 0]:["Detail required",void 0]:["Warehouse id required",void 0]:["Product type id required",void 0]}}let Dt=(()=>{class s{constructor(r){this.actions$=r,this._store=(0,e.WQX)(p.il),this.statusAction=this._store.selectSignal(j.getStatus),this.outputs=this._store.selectSignal(j.getOutputs),this.output=this._store.selectSignal(j.getOutput);const t=(new Date).toISOString().split("T")[0],o=new Date((new Date).getTime()+864e5).toISOString().split("T")[0];this._store.dispatch(new N.f.GetAll({init:t,end:o}))}addItem(r,t,o,n){const[c,u]=re.create({product_type_id:r,warehouse_id:t,detail:o,quantity:n});if(c)throw c;this._store.dispatch(new N.f.Create(u))}getItems(r){this._store.dispatch(new N.f.GetAll(r))}getItem(r){this._store.dispatch(new N.f.Get(r))}createReport(r){var t=this;return(0,de.A)(function*(){t._store.dispatch(new N.f.GetAll(r)),yield(0,ue._)(t.actions$.pipe((0,p.rM)(N.f.GetAll)));const o=t._store.selectSnapshot(C.getWarehouses),n=t._store.selectSnapshot(y.getProductTypes);me(pe(t.outputs().map(v=>({Fecha:v.date_created,Producto:v.product_type_id,Cantidad:v.quantity,Detalle:v.detail,Almacen:o.find(b=>b.warehouse_id===v.warehouse_id)?.name,TipoProducto:n.find(b=>b.product_type_id===v.product_type_id)?.name}))),"reporte.csv")})()}static#e=this.\u0275fac=function(t){return new(t||s)(e.KVO(p.En))};static#t=this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function Mt(s,i){}let Wt=(()=>{class s{constructor(){this.modalService=(0,e.WQX)(_.B),this.OutputFacadeService=(0,e.WQX)(Dt),this.warehouseFacadeService=(0,e.WQX)(G),this.productTypeFacadeService=(0,e.WQX)(Y),this.dialogService=(0,e.WQX)(M.o),this.warehouses$=this.warehouseFacadeService.warehouses,this.outputs$=this.OutputFacadeService.outputs,this.productTypes$=this.productTypeFacadeService.productTypes,this.onLoading$=this.OutputFacadeService.statusAction,this.onShowItem=!1,this.dialogNotifier=new R.B,this.outputDetailListener={close:()=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1},submit:()=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1},cancel:()=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1}},(0,e.QZP)(()=>{switch(this.onLoading$()){case g.p.LOADING:this.dialogService.open({typeDialog:d.h.isLoading,listener:this.dialogNotifier,data:{title:"Cargando",description:"Espere un momento por favor",icon:"assets/icons/loading.svg"},options:{withActions:!1,withBackground:!0,position:[d.Y.center],colorIcon:"text-primary"}});break;case g.p.SUCCESS:this.dialogNotifier.next(null);const t={typeDialog:d.h.isSuccess,data:{title:"Operacion Exitosa",description:"La operacion se ha completado con exito",icon:"assets/icons/heroicons/outline/check-badge.svg"},options:{withBackground:!1,position:[d.Y.top,d.Y.right],colorIcon:"text-green-500",timeToShow:(0,D.O)(2e3)}};this.dialogService.open(t);break;default:this.dialogNotifier.next(null)}})}ngOnInit(){}onItemSelected(r){const t=this.dcWrapper.viewContainerRef;t.clear();const o=t.createComponent(Pt);o.instance.outputdetailListener=this.outputDetailListener,o.instance.outputProduct=r,this.onShowItem=!0}onAddEvent(){const r={component:k,data:{title:"Detalles de la entrada",description:"Especificaciones necesarias de la entrada a agregar"},dynamicFields:[{component:F,data:{title:"Almacen",items:this.warehouses$().map(t=>({id:t.warehouse_id,name:t.name}))},fieldFormControl:new a.MJ("")},{component:F,data:{title:"Producto",items:this.productTypes$().map(t=>({id:t.product_type_id,name:t.name}))},fieldFormControl:new a.MJ("")},{component:w,data:{placeholder:"Detalle",title:"Detalle"},fieldFormControl:new a.MJ("")},{component:w,data:{placeholder:"Cantidad",title:"Cantidad"},fieldFormControl:new a.MJ("")}]};this.modalService.open(fe,{title:"Ingresar tus api keys",size:"sm",forms:[r],data:{},icon:"assets/icons/heroicons/outline/plus.svg",actions:[{action:x.X.Create,title:"Ingresar"}]}).subscribe({next:t=>{const{Almacen:o,Cantidad:n,Detalle:c,Producto:u}=I(t);this.OutputFacadeService.addItem(u,o,c,n)},error:t=>{console.log({err:t})},complete:()=>{console.log("Complete")}})}onFilterEvents(r){this.OutputFacadeService.getItems(r)}onGenerateReport(){const r={component:k,data:{title:"Parametros de Reporte",description:"Filtros necesarios para generar el reporte"},dynamicFields:[{component:F,data:{title:"Almacen",items:this.warehouses$().map(t=>({id:t.warehouse_id,name:t.name}))},fieldFormControl:new a.MJ},{component:F,data:{title:"Producto",items:this.productTypes$().map(t=>({id:t.product_type_id,name:t.name}))},fieldFormControl:new a.MJ},{component:X,data:{title:"Inicio"},fieldFormControl:new a.MJ},{component:X,data:{title:"Fin"},fieldFormControl:new a.MJ}]};this.modalService.open(fe,{title:"Generar Reporte",size:"sm",forms:[r],data:{},icon:"assets/icons/heroicons/outline/plus.svg",actions:[{action:x.X.Create,title:"Generar"}]}).subscribe({next:t=>{const o=I(t),n={warehouse_id:o.Almacen,product_type_id:o.Producto,init:o.Inicio,end:o.Fin},c=Object.keys(n).reduce((u,h)=>(null!=n[h]&&(u[h]=n[h]),u),{});this.OutputFacadeService.createReport(c)},error:t=>{console.log({err:t})},complete:()=>{console.log("Complete")}})}static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-outputs"]],viewQuery:function(t,o){if(1&t&&e.GBs(f.l,5),2&t){let n;e.mGM(n=e.lsd())&&(o.dcWrapper=n.first)}},standalone:!0,features:[e.Jv_([_.B]),e.aNF],decls:5,vars:4,consts:[[3,"classList"],[3,"generareReport","addEvent"],[3,"onfilterEvent","onItemSelect","warehouses","outputs"],["dcWrapper",""]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",0)(2,"app-outputs-header",1),e.bIt("generareReport",function(){return o.onGenerateReport()})("addEvent",function(){return o.onAddEvent()}),e.k0s(),e.j41(3,"app-list-outputs",2),e.bIt("onfilterEvent",function(c){return o.onFilterEvents(c)})("onItemSelect",function(c){return o.onItemSelected(c)}),e.k0s()(),e.DNE(4,Mt,0,0,"ng-template",3),e.k0s()),2&t&&(e.Y8G("classList",o.onShowItem?"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-auto  h-full ":"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-hidden  h-full "),e.R7$(),e.Y8G("classList",o.onShowItem?" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-0 md:py-4":" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-4"),e.R7$(2),e.Y8G("warehouses",o.warehouses$())("outputs",o.outputs$()))},dependencies:[l.MD,_t,Tt,f.l],encapsulation:2})}return s})(),Lt=(()=>{class s{constructor(){this.onToggleBtn=new e.bkB}onAddToggle(){this.onToggleBtn.emit()}static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-providers-header"]],outputs:{onToggleBtn:"onToggleBtn"},standalone:!0,features:[e.aNF],decls:12,vars:0,consts:[[1,"mb-4","flex","justify-between"],[1,"inline-block"],[1,"font-semibold","text-foreground"],[1,"space-x-1","text-xs","font-medium","text-muted-foreground"],["href","",1,"hover:text-primary"],[1,"inline-block","space-x-4"],[1,"flex-none","rounded-md","bg-primary","px-4","py-2.5","text-xs","font-medium","text-primary-foreground",3,"click"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"h3",2),e.EFF(3,"Almacenes - Proveedores"),e.k0s(),e.j41(4,"div",3)(5,"a",4),e.EFF(6,"Lista"),e.k0s(),e.j41(7,"span"),e.EFF(8," - Proveedores"),e.k0s()()(),e.j41(9,"div",5)(10,"button",6),e.bIt("click",function(){return o.onAddToggle()}),e.EFF(11," Agregar Proveedor "),e.k0s()()())},dependencies:[l.MD],encapsulation:2})}return s})();const $t=["item-table-provider",""];let Nt=(()=>{class s{static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["","item-table-provider",""]],inputs:{providerProduct:"providerProduct"},standalone:!0,features:[e.aNF],attrs:$t,decls:16,vars:4,consts:[[1,"py-3","pr-3","text-start"],[1,"pl-1"],[1,"mb-1","text-sm","font-semibold","text-muted-foreground","text-center"],[1,"mb-1","text-sm","text-muted-foreground","text-center"],[1,"py-3","pl-3","text-right"],[1,"pr-1"],[1,"text-sm","text-muted-foreground","border","p-1","rounded-md"]],template:function(t,o){1&t&&(e.j41(0,"td",0)(1,"div",1)(2,"span",2),e.EFF(3),e.k0s()()(),e.j41(4,"td",0)(5,"div",1)(6,"span",3),e.EFF(7),e.k0s()()(),e.j41(8,"td",0)(9,"div",1)(10,"span",2),e.EFF(11),e.k0s()()(),e.j41(12,"td",4)(13,"div",5)(14,"span",6),e.EFF(15),e.k0s()()()),2&t&&(e.R7$(3),e.JRh(o.providerProduct.name),e.R7$(4),e.JRh(o.providerProduct.phone),e.R7$(4),e.JRh(o.providerProduct.email),e.R7$(4),e.JRh(o.providerProduct.address))},dependencies:[l.MD],encapsulation:2})}return s})();function Gt(s,i){if(1&s){const r=e.RV6();e.j41(0,"tr",8),e.bIt("click",function(){const o=e.eBV(r).$implicit,n=e.XpG();return e.Njj(n.onSelectTable(o))}),e.k0s()}2&s&&e.Y8G("providerProduct",i.$implicit)}let At=(()=>{class s{constructor(){this.providers=[],this.onSelectItem=new e.bkB}onSelectTable(r){this.onSelectItem.emit(r)}static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-list-providers"]],inputs:{providers:"providers"},outputs:{onSelectItem:"onSelectItem"},standalone:!0,features:[e.aNF],decls:16,vars:1,consts:[[1,"flex-col","rounded-lg","bg-background","px-8","py-8","sm:flex-row"],[1,"w-full","mx-auto"],[1,"relative","overflow-x-auto","h-72","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","overflow-auto","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted"],[1,"w-full","table-auto"],[1,"text-xs","uppercase","text-muted-foreground","sticky","top-0","bg-background"],[1,"py-3","text-left"],[1,"py-3","text-right"],["item-table-provider","","class","border-b border-dashed border-border hover:bg-card",3,"providerProduct","click",4,"ngFor","ngForOf"],["item-table-provider","",1,"border-b","border-dashed","border-border","hover:bg-card",3,"click","providerProduct"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"table",3)(4,"thead",4)(5,"tr")(6,"th",5),e.EFF(7,"Nombre"),e.k0s(),e.j41(8,"th",5),e.EFF(9,"Telefono"),e.k0s(),e.j41(10,"th",5),e.EFF(11,"Correo"),e.k0s(),e.j41(12,"th",6),e.EFF(13,"Direccion"),e.k0s()()(),e.j41(14,"tbody"),e.DNE(15,Gt,1,1,"tr",7),e.k0s()()()()()),2&t&&(e.R7$(15),e.Y8G("ngForOf",o.providers))},dependencies:[l.MD,l.Sq,Nt],encapsulation:2})}return s})(),Bt=(()=>{class s{constructor(){this.items=[{id:1,name:"Activo"},{id:2,name:"Inactivo"}],this.providerForm=new a.gE({provider_id:new a.MJ,name:new a.MJ,phone:new a.MJ,email:new a.MJ,address:new a.MJ,status:new a.MJ})}ngOnInit(){this.providerForm=new a.gE({provider_id:new a.MJ(this.provider.provider_id),name:new a.MJ(this.provider.name),phone:new a.MJ(this.provider.phone),email:new a.MJ(this.provider.email),address:new a.MJ(this.provider.address),status:new a.MJ(this.provider.status)})}close(){this.detailListener.close()}onSubmit(){this.detailListener.submit(this.providerForm)}onDelete(){this.detailListener.delete(this.provider.provider_id)}static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-providers-detail"]],inputs:{detailListener:"detailListener",provider:"provider"},standalone:!0,features:[e.aNF],decls:44,vars:3,consts:[[1,"flex","w-screen","md:w-96","bg-background","h-full","overflow-auto","gap-2","px-3","flex-col","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted",3,"ngSubmit","formGroup"],[1,"sticky","top-0","flex","flex-col","bg-background"],[1,"flex","relative","flex-row","items-center","gap-2","py-3","justify-start"],[1,"text-lg","text-foreground"],[1,"absolute","cursor-pointer","right-0","inline-flex","w-fit","justify-center","rounded-md","bg-background","px-3","py-2","text-sm","font-semibold","text-foreground","shadow-sm","ring-1","ring-inset","ring-foreground","hover:bg-card","sm:mt-0","sm:w-fit",3,"click"],[1,"border-dashed","border-border"],[1,"flex","py-2","flex-col"],[1,"px-2","flex-col","flex"],[1,"text-xs","text-muted-foreground"],["type","text","formControlName","name"],["type","text","formControlName","phone"],["type","text","formControlName","email"],["type","text","formControlName","address"],["formControlName","status",3,"items"],[1,"flex","py-2","flex-col","gap-2"],["type","submit",1,"bg-primary","text-white","rounded-md","p-2"],["type","button",1,"bg-red-500","text-white","rounded-md","p-2",3,"click"]],template:function(t,o){1&t&&(e.j41(0,"form",0),e.bIt("ngSubmit",function(){return o.onSubmit()}),e.j41(1,"div",1)(2,"div",2)(3,"span",3),e.EFF(4),e.k0s(),e.j41(5,"button",4),e.bIt("click",function(){return o.close()}),e.EFF(6," X "),e.k0s()(),e.nrm(7,"hr",5),e.k0s(),e.j41(8,"div",6)(9,"div",7)(10,"span",8),e.EFF(11,"Nombre"),e.k0s(),e.nrm(12,"input",9),e.k0s()(),e.nrm(13,"hr",5),e.j41(14,"div",6)(15,"div",7)(16,"span",8),e.EFF(17,"Telefono"),e.k0s(),e.nrm(18,"input",10),e.k0s()(),e.nrm(19,"hr",5),e.j41(20,"div",6)(21,"div",7)(22,"span",8),e.EFF(23,"Email"),e.k0s(),e.nrm(24,"input",11),e.k0s()(),e.nrm(25,"hr",5),e.j41(26,"div",6)(27,"div",7)(28,"span",8),e.EFF(29,"Address"),e.k0s(),e.nrm(30,"input",12),e.k0s()(),e.nrm(31,"hr",5),e.j41(32,"div",6)(33,"div",7)(34,"span",8),e.EFF(35,"Estado"),e.k0s(),e.nrm(36,"app-select",13),e.k0s()(),e.nrm(37,"hr",5),e.j41(38,"div",14)(39,"button",15),e.EFF(40," Guardar Cambios "),e.k0s(),e.nrm(41,"hr"),e.j41(42,"button",16),e.bIt("click",function(){return o.onDelete()}),e.EFF(43," Eliminar "),e.k0s()()()),2&t&&(e.Y8G("formGroup",o.providerForm),e.R7$(4),e.JRh("Proveedores"),e.R7$(32),e.Y8G("items",o.items))},dependencies:[l.MD,a.YN,a.qT,a.me,a.BC,a.cb,a.X1,a.j4,a.JD,J.w],encapsulation:2})}return s})();function Ot(s,i){}let Jt=(()=>{class s{ngOnInit(){}constructor(){this.onShowItem=!1,this.modalService=(0,e.WQX)(_.B),this.dialogService=(0,e.WQX)(M.o),this.providerFacadeService=(0,e.WQX)(te),this.providers$=this.providerFacadeService.providers,this.onLoading$=this.providerFacadeService.statusAction,this.dialogNotifier=new R.B,this.detailListener={close:()=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1},cancel:()=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1},submit:r=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1,this.dialogService.open({typeDialog:d.h.isAlert,data:{title:"Advertencia",description:"Estas seguro de realizar esta accion",icon:"assets/icons/heroicons/outline/exclamation.svg"},options:{withActions:!0,position:[d.Y.center],withBackground:!0,colorIcon:"text-red-500"}}).subscribe(o=>{const{provider_id:n,name:c,phone:u,email:h,address:v,status:b}=r.value;this.providerFacadeService.updateItem(n,c,u,h,v,b)})},delete:r=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1,this.dialogService.open({typeDialog:d.h.isAlert,data:{title:"Advertencia",description:"Estas seguro de realizar esta accion",icon:"assets/icons/heroicons/outline/exclamation.svg"},options:{withActions:!0,position:[d.Y.center],withBackground:!0,colorIcon:"text-red-500"}}).subscribe(o=>{this.providerFacadeService.deleteItem(r)})}},(0,e.QZP)(()=>{switch(this.onLoading$()){case g.p.LOADING:this.dialogService.open({typeDialog:d.h.isLoading,listener:this.dialogNotifier,data:{title:"Cargando",description:"Espere un momento por favor",icon:"assets/icons/loading.svg"},options:{withActions:!1,withBackground:!0,position:[d.Y.center],colorIcon:"text-primary"}});break;case g.p.SUCCESS:this.dialogNotifier.next(null);const t={typeDialog:d.h.isSuccess,data:{title:"Operacion Exitosa",description:"La operacion se ha completado con exito",icon:"assets/icons/heroicons/outline/check-badge.svg"},options:{withBackground:!1,position:[d.Y.top,d.Y.right],colorIcon:"text-green-500",timeToShow:(0,D.O)(2e3)}};this.dialogService.open(t);break;default:this.dialogNotifier.next(null)}})}onAddProvider(){const r={component:k,data:{title:"Detalles del nuevo proveedor",description:"Especificaciones necesarias del proveedor a agregar"},dynamicFields:[{component:w,data:{placeholder:"Nombre del proveedor",title:"Proveedor"},fieldFormControl:new a.MJ("")},{component:w,data:{placeholder:"78140498",title:"Telefono"},fieldFormControl:new a.MJ("")},{component:w,data:{placeholder:"monster@gmail.com",title:"Email"},fieldFormControl:new a.MJ("")},{component:w,data:{placeholder:"Av. 123",title:"Direccion"},fieldFormControl:new a.MJ("")}]};this.modalService.open(he,{title:"Agregar Almacen",size:"sm",forms:[r],data:{},icon:"assets/icons/heroicons/outline/plus.svg",actions:[{action:x.X.Create,title:"Ingresar"}]}).subscribe({next:t=>{const o=I(t);this.providerFacadeService.addItem(o.Proveedor,o.Telefono,o.Email,o.Direccion,1)},error:t=>{},complete:()=>{}})}onSelectProvider(r){const t=this.dcWrapper.viewContainerRef;t.clear();const o=t.createComponent(Bt);o.instance.detailListener=this.detailListener,o.instance.provider=r,this.onShowItem=!0}static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-providers"]],viewQuery:function(t,o){if(1&t&&e.GBs(f.l,5),2&t){let n;e.mGM(n=e.lsd())&&(o.dcWrapper=n.first)}},standalone:!0,features:[e.aNF],decls:5,vars:3,consts:[[3,"classList"],[3,"onToggleBtn"],[3,"onSelectItem","providers"],["dcWrapper",""]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",0)(2,"app-providers-header",1),e.bIt("onToggleBtn",function(){return o.onAddProvider()}),e.k0s(),e.j41(3,"app-list-providers",2),e.bIt("onSelectItem",function(c){return o.onSelectProvider(c)}),e.k0s()(),e.DNE(4,Ot,0,0,"ng-template",3),e.k0s()),2&t&&(e.Y8G("classList",o.onShowItem?"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-auto  h-full ":"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-hidden  h-full "),e.R7$(),e.Y8G("classList",o.onShowItem?" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-0 md:py-4":" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-4"),e.R7$(2),e.Y8G("providers",o.providers$()))},dependencies:[l.MD,Lt,At,f.l],encapsulation:2})}return s})();const Yt=["item-list-products-warehouse",""];let Vt=(()=>{class s{static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["","item-list-products-warehouse",""]],inputs:{product:"product"},standalone:!0,features:[e.aNF],attrs:Yt,decls:14,vars:7,consts:[[1,"py-3","pl-3","text-start"],[1,"pr-1"],[1,"text-sm","text-muted-foreground"],[1,"py-3","pl-3","text-right"]],template:function(t,o){1&t&&(e.j41(0,"td",0)(1,"div",1)(2,"span",2),e.EFF(3),e.nI1(4,"appProduct"),e.k0s()()(),e.j41(5,"td",0)(6,"div",1)(7,"span",2),e.EFF(8),e.nI1(9,"appWarehouse"),e.k0s()()(),e.j41(10,"td",3)(11,"div",1)(12,"span",2),e.EFF(13),e.k0s()()()),2&t&&(e.R7$(3),e.JRh(e.bMT(4,3,o.product.product_type_id)),e.R7$(5),e.JRh(e.bMT(9,5,o.product.warehouse_id)),e.R7$(5),e.JRh(o.product.quantity))},dependencies:[l.MD,A,B],encapsulation:2})}return s})();const ve=(s,i)=>({"border-primary text-primary outline-none active-tab":s,"text-muted-foreground border-transparent":i});function Xt(s,i){if(1&s){const r=e.RV6();e.j41(0,"button",18),e.bIt("click",function(){const o=e.eBV(r).$implicit,n=e.XpG();return e.Njj(n.selectWarehouse(o.warehouse_id))}),e.EFF(1),e.k0s()}if(2&s){const r=i.$implicit,t=e.XpG();e.Y8G("ngClass",e.l_i(2,ve,t.selectedWarehouse===r.warehouse_id,t.selectedWarehouse!==r.warehouse_id)),e.R7$(),e.SpI(" ",r.name," ")}}function Ut(s,i){if(1&s){const r=e.RV6();e.j41(0,"tr",19),e.bIt("click",function(){const o=e.eBV(r).$implicit,n=e.XpG();return e.Njj(n.onSelectTable(o))}),e.k0s()}2&s&&e.Y8G("product",i.$implicit)}let Qt=(()=>{class s{constructor(){this.onItemSelect=new e.bkB,this.onfilterEvent=new e.bkB,this.actualPage=1,this.itemsPerPage=30,this.selectedWarehouse=null}selectWarehouse(r){this.selectedWarehouse=r,this.actualPage=1,this.filterEvent()}onSelectTable(r){this.onItemSelect.emit(r)}previousPage(){this.actualPage>1&&(this.actualPage=this.actualPage-1),this.filterEvent()}nextPage(){this.actualPage=this.actualPage+1,this.filterEvent()}filterEvent(){let r;this.selectedWarehouse?(console.log("Con Warehouse"),r={warehouse_id:this.selectedWarehouse,limit:this.itemsPerPage,offset:(this.actualPage-1)*this.itemsPerPage}):(console.log("Sin Warehouse"),r={limit:this.itemsPerPage,offset:(this.actualPage-1)*this.itemsPerPage}),this.onfilterEvent.emit(r)}static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-list-products-warehouse"]],inputs:{products:"products",warehouses:"warehouses"},outputs:{onItemSelect:"onItemSelect",onfilterEvent:"onfilterEvent"},standalone:!0,features:[e.aNF],decls:30,vars:7,consts:[[1,"flex-col","rounded-lg","bg-background","px-8","py-8","sm:flex-row"],[1,"w-full","mx-auto"],[1,"flex","w-full","overflow-auto","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted"],[1,"py-2","px-4","text-sm","font-medium","text-primary","border-b-2","hover:border-primary","hover:text-primary","focus:outline-none",3,"click","ngClass"],["class","py-2 px-4 text-sm font-medium border-b-2  hover:border-primary hover:text-primary focus:outline-none",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"border-dashed","border-border"],[1,"w-full","flex","flex-col","p-2","gap-2"],[1,"flex","flex-col","gap-2","items-end","md:flex-row","md:items-center","justify-between","w-full"],[1,"w-full","md:w-1/2"],[1,"w-full","md:w-1/2","flex","items-center","justify-end","gap-2"],[1,"p-1","text-white","rounded-md","bg-primary",3,"click"],[1,"text-foreground","text-base"],[1,"relative","overflow-x-auto","h-72","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","overflow-auto","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted"],[1,"w-full","table-auto"],[1,"text-xs","uppercase","text-muted-foreground","sticky","top-0","bg-background"],[1,"py-3","text-left"],[1,"py-3","text-right"],["item-list-products-warehouse","","class","border-b border-dashed border-border hover:bg-card",3,"product","click",4,"ngFor","ngForOf"],[1,"py-2","px-4","text-sm","font-medium","border-b-2","hover:border-primary","hover:text-primary","focus:outline-none",3,"click","ngClass"],["item-list-products-warehouse","",1,"border-b","border-dashed","border-border","hover:bg-card",3,"click","product"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),e.bIt("click",function(){return o.selectWarehouse(null)}),e.EFF(4," Todos "),e.k0s(),e.DNE(5,Xt,2,5,"button",4),e.k0s(),e.nrm(6,"hr",5),e.j41(7,"div",6)(8,"div",7),e.nrm(9,"div",8),e.j41(10,"div",9)(11,"button",10),e.bIt("click",function(){return o.previousPage()}),e.EFF(12,"<"),e.k0s(),e.j41(13,"span",11),e.EFF(14),e.k0s(),e.j41(15,"button",10),e.bIt("click",function(){return o.nextPage()}),e.EFF(16,">"),e.k0s()()()(),e.nrm(17,"hr",5),e.j41(18,"div",12)(19,"table",13)(20,"thead",14)(21,"tr")(22,"th",15),e.EFF(23,"Producto"),e.k0s(),e.j41(24,"th",15),e.EFF(25,"Almacen"),e.k0s(),e.j41(26,"th",16),e.EFF(27,"Cantidad"),e.k0s()()(),e.j41(28,"tbody"),e.DNE(29,Ut,1,1,"tr",17),e.k0s()()()()()),2&t&&(e.R7$(3),e.Y8G("ngClass",e.l_i(4,ve,null===o.selectedWarehouse,null!==o.selectedWarehouse)),e.R7$(2),e.Y8G("ngForOf",o.warehouses),e.R7$(9),e.JRh(o.actualPage),e.R7$(15),e.Y8G("ngForOf",o.products))},dependencies:[l.MD,l.YU,l.Sq,Vt],encapsulation:2})}return s})(),Ht=(()=>{class s{onAddToggle(){}static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-products-warehouse-header"]],standalone:!0,features:[e.aNF],decls:10,vars:0,consts:[[1,"mb-4","flex","justify-between"],[1,"inline-block"],[1,"font-semibold","text-foreground"],[1,"space-x-1","text-xs","font-medium","text-muted-foreground"],["href","",1,"hover:text-primary"],[1,"inline-block","space-x-4"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"h3",2),e.EFF(3,"Productos - Lista"),e.k0s(),e.j41(4,"div",3)(5,"a",4),e.EFF(6,"Lista"),e.k0s(),e.j41(7,"span"),e.EFF(8," - Productos"),e.k0s()()(),e.nrm(9,"div",5),e.k0s())},dependencies:[l.MD],encapsulation:2})}return s})();var se=m(9751),zt=m(7253);class T{static#e=this.getSlices=(0,p.OD)(zt.Z);static#t=this.getProducts=(0,p.Mz)([T.getSlices.products],i=>i);static#o=this.getProduct=(0,p.Mz)([T.getSlices.productById],i=>i);static#r=this.getStatus=(0,p.Mz)([T.getSlices.status],i=>i)}let qt=(()=>{class s{constructor(){this._store=(0,e.WQX)(p.il),this.statusAction=this._store.selectSignal(T.getStatus),this.products=this._store.selectSignal(T.getProducts),this.product=this._store.selectSignal(T.getProduct),this._store.dispatch(new se.R.GetAll({}))}getItem(r){this._store.dispatch(new se.R.Get(r))}getItems(r){this._store.dispatch(new se.R.GetAll(r))}static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function Zt(s,i){}const Kt=[{path:"",component:Qe,children:[{path:"",redirectTo:"warehouses",pathMatch:"full"},{path:"products",component:Me},{path:"products-warehouse",component:(()=>{class s{constructor(){this.onShowItem=!1,this.warehouseFacadeService=(0,e.WQX)(G),this.productFacadeService=(0,e.WQX)(qt),this.onLoading$=this.productFacadeService.statusAction,this.products$=this.productFacadeService.products,this.warehouses$=this.warehouseFacadeService.warehouses,this.dialogService=(0,e.WQX)(M.o),this.dialogNotifier=new R.B,(0,e.QZP)(()=>{switch(this.onLoading$()){case g.p.LOADING:this.dialogService.open({typeDialog:d.h.isLoading,listener:this.dialogNotifier,data:{title:"Cargando",description:"Espere un momento por favor",icon:"assets/icons/loading.svg"},options:{withActions:!1,withBackground:!0,position:[d.Y.center],colorIcon:"text-primary"}});break;case g.p.SUCCESS:this.dialogNotifier.next(null);const t={typeDialog:d.h.isSuccess,data:{title:"Operacion Exitosa",description:"La operacion se ha completado con exito",icon:"assets/icons/heroicons/outline/check-badge.svg"},options:{withBackground:!1,position:[d.Y.top,d.Y.right],colorIcon:"text-green-500",timeToShow:(0,D.O)(2e3)}};this.dialogService.open(t);break;default:this.dialogNotifier.next(null)}})}onFilterEvents(r){this.productFacadeService.getItems(r)}static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-products-warehouse"]],standalone:!0,features:[e.aNF],decls:5,vars:4,consts:[[3,"classList"],[3,"onfilterEvent","products","warehouses"],["dcWrapper",""]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",0),e.nrm(2,"app-products-warehouse-header"),e.j41(3,"app-list-products-warehouse",1),e.bIt("onfilterEvent",function(c){return o.onFilterEvents(c)}),e.k0s()(),e.DNE(4,Zt,0,0,"ng-template",2),e.k0s()),2&t&&(e.Y8G("classList",o.onShowItem?"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-auto  h-full ":"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-hidden  h-full "),e.R7$(),e.Y8G("classList",o.onShowItem?" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-0 md:py-4":" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-4"),e.R7$(2),e.Y8G("products",o.products$())("warehouses",o.warehouses$()))},dependencies:[l.MD,Qt,Ht],encapsulation:2})}return s})()},{path:"discounts",component:$e},{path:"categories",component:Ue},{path:"warehouses",component:Ft},{path:"inputs",component:dt},{path:"outputs",component:Wt},{path:"providers",component:Jt},{path:"**",redirectTo:"errors/404"}]}];let eo=(()=>{class s{static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275mod=e.$C({type:s});static#o=this.\u0275inj=e.G2t({imports:[U.iI.forChild(Kt),U.iI]})}return s})(),to=(()=>{class s{static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275mod=e.$C({type:s});static#o=this.\u0275inj=e.G2t({imports:[eo]})}return s})()}}]);