"use strict";(self.webpackChunkinv=self.webpackChunkinv||[]).push([[966],{7966:(Vt,H,p)=>{p.r(H),p.d(H,{WarehouseModule:()=>Yt});var O=p(3030),l=p(177),e=p(3953);let de=(()=>{class r{constructor(){this.addEvent=new e.bkB}onAddToggle(){this.addEvent.emit()}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-products-header"]],outputs:{addEvent:"addEvent"},standalone:!0,features:[e.aNF],decls:12,vars:0,consts:[[1,"mb-4","flex","justify-between"],[1,"inline-block"],[1,"font-semibold","text-foreground"],[1,"space-x-1","text-xs","font-medium","text-muted-foreground"],["href","",1,"hover:text-primary"],[1,"inline-block","space-x-4"],[1,"flex-none","rounded-md","bg-primary","px-4","py-2.5","text-xs","font-medium","text-primary-foreground",3,"click"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"h3",2),e.EFF(3,"Productos - Lista"),e.k0s(),e.j41(4,"div",3)(5,"a",4),e.EFF(6,"Lista"),e.k0s(),e.j41(7,"span"),e.EFF(8," - Productos"),e.k0s()()(),e.j41(9,"div",5)(10,"button",6),e.bIt("click",function(){return o.onAddToggle()}),e.EFF(11," Agregar Producto "),e.k0s()()())},dependencies:[l.MD],encapsulation:2})}return r})();var h=p(6494);function ue(r,i){1&r&&(e.qSk(),e.j41(0,"svg",9),e.nrm(1,"path",10),e.k0s())}function pe(r,i){if(1&r&&(e.j41(0,"li",6)(1,"span",7),e.EFF(2),e.k0s(),e.EFF(3),e.DNE(4,ue,2,0,"svg",8),e.k0s()),2&r){const n=i.$implicit,t=i.index,o=e.XpG();e.Y8G("ngClass",t==o.actualFormIndex?" text-primary ":t<o.actualFormIndex?"text-primary hidden md:flex":"text-muted-foreground hidden md:flex"),e.R7$(),e.Y8G("classList",t<=o.actualFormIndex?"flex items-center justify-center w-5 h-5 me-2 text-xs border border-primary rounded-full shrink-0 ":"flex items-center justify-center w-5 h-5 me-2 text-xs border border-foreground  rounded-full shrink-0"),e.R7$(),e.SpI(" ",t+1," "),e.R7$(),e.SpI(" ",n.data.title," "),e.R7$(),e.Y8G("ngIf",t+1<=o.forms.length-1)}}function me(r,i){}let he=(()=>{class r{constructor(){this.onCreateModal=new e.bkB,this.actualFormIndex=0,this.forms=[],this.cdr=(0,e.WQX)(e.gRc)}ngOnInit(){}ngAfterViewInit(){const n=this.createModalListener();this.loadComponent(this.actualFormIndex),this.onCreateModal.emit(n),this.cdr.detectChanges()}loadComponent(n){const t=this.forms[n],o=this.dcWrapper.viewContainerRef;o.clear();const s=o.createComponent(t.component);s.instance.step=n,s.instance.fields=t.dynamicFields,s.instance.data=t.data,s.instance.renderForm()}createModalListener(){return{onNext:()=>this.nextStepForm(),onPrev:()=>this.prevStepForm()}}nextStepForm(){return this.actualFormIndex<this.forms.length-1&&this.actualFormIndex++,this.loadComponent(this.actualFormIndex),{actualForm:this.forms[this.actualFormIndex],actualStep:this.actualFormIndex}}prevStepForm(){return this.actualFormIndex>0&&this.actualFormIndex--,this.loadComponent(this.actualFormIndex),{actualForm:this.forms[this.actualFormIndex],actualStep:this.actualFormIndex}}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-modal-products"]],viewQuery:function(t,o){if(1&t&&e.GBs(h.l,5),2&t){let s;e.mGM(s=e.lsd())&&(o.dcWrapper=s.first)}},inputs:{forms:"forms",data:"data"},standalone:!0,features:[e.aNF],decls:6,vars:1,consts:[[1,"flex","flex-col","gap-5","w-full"],[1,"flex","flex-col","md:flex-row","bg-background","justify-between","items-center"],[1,"flex","items-center","w-full","p-3","space-x-2","text-sm","font-medium","text-center","rounded-lg","shadow-sm","sm:text-base","sm:p-4","sm:space-x-4","rtl:space-x-reverse"],["class","flex items-center  font-bold h-10 sm:w-full md:w-fit ",3,"ngClass",4,"ngFor","ngForOf"],[1,"flex","flex-col","gap-2","bg-background"],["dcWrapper",""],[1,"flex","items-center","font-bold","h-10","sm:w-full","md:w-fit",3,"ngClass"],[3,"classList"],["class","w-3 h-3 ms-2 sm:ms-4 rtl:rotate-180","aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 12 10",4,"ngIf"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 12 10",1,"w-3","h-3","ms-2","sm:ms-4","rtl:rotate-180"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m7 9 4-4-4-4M1 9l4-4-4-4"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"ol",2),e.DNE(3,pe,5,5,"li",3),e.k0s()(),e.j41(4,"div",4),e.DNE(5,me,0,0,"ng-template",5),e.k0s()()),2&t&&(e.R7$(3),e.Y8G("ngForOf",o.forms))},dependencies:[l.MD,l.YU,l.Sq,l.bT,h.l],encapsulation:2})}return r})();var z=p(8860),L=function(r){return r[r.INTERN=1]="INTERN",r[r.TOSOLD=2]="TOSOLD",r[r.ELABORATED=3]="ELABORATED",r[r.SEMIELABORATED=4]="SEMIELABORATED",r}(L||{});let fe=(()=>{class r{transform(n,...t){let o="";switch(n){case L.INTERN:o+="Interno";break;case L.TOSOLD:o+="Para vender";break;case L.ELABORATED:o+="Elaborado";break;case L.SEMIELABORATED:o+="Semi Elaborado";break;default:o+="No definido"}return o}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275pipe=e.EJ8({name:"appTypeProduct",type:r,pure:!0,standalone:!0})}return r})();const ge=["item-list-products",""];let ve=(()=>{class r{static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["","item-list-products",""]],inputs:{product:"product"},standalone:!0,features:[e.aNF],attrs:ge,decls:14,vars:7,consts:[[1,"py-3","pl-3","text-start"],[1,"text-sm","text-muted-foreground"],[1,"py-3","pl-3","text-end"]],template:function(t,o){1&t&&(e.j41(0,"td",0)(1,"div")(2,"span",1),e.EFF(3),e.k0s()()(),e.j41(4,"td",0)(5,"div")(6,"span",1),e.EFF(7),e.nI1(8,"appTypeProduct"),e.k0s()()(),e.j41(9,"td",2)(10,"div")(11,"span",1),e.EFF(12),e.nI1(13,"appTypeStatus"),e.k0s()()()),2&t&&(e.R7$(3),e.JRh(o.product.name),e.R7$(4),e.JRh(e.bMT(8,3,o.product.type)),e.R7$(5),e.JRh(e.bMT(13,5,o.product.status)))},dependencies:[l.MD,z.N,fe],encapsulation:2})}return r})();function be(r,i){if(1&r){const n=e.RV6();e.j41(0,"tr",16),e.bIt("click",function(){const o=e.eBV(n).$implicit,s=e.XpG();return e.Njj(s.onSelectTable(o))}),e.k0s()}2&r&&e.Y8G("product",i.$implicit)}let xe=(()=>{class r{constructor(){this.onSelectItem=new e.bkB}ngOnInit(){}onSelectTable(n){this.onSelectItem.emit(n)}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-list-products"]],inputs:{productTypes:"productTypes"},outputs:{onSelectItem:"onSelectItem"},standalone:!0,features:[e.aNF],decls:23,vars:1,consts:[[1,"flex-col","rounded-lg","bg-background","px-8","py-8","sm:flex-row"],[1,"w-full","mx-auto"],[1,"w-full","flex","flex-col","p-2","gap-2"],[1,"flex","flex-row","items-center","justify-between","w-full"],[1,"w-1/2"],[1,"flex","flex-row","gap-2"],[1,"w-full"],[1,"text-muted-foreground","text-sm"],["type","text","placeholder","Alitas 12 piezas",1,"w-full","border","border-border","rounded-lg","p-2"],[1,"border-dashed","border-border"],[1,"relative","overflow-x-auto","h-72","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","overflow-auto","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted"],[1,"w-full","table-auto"],[1,"text-xs","uppercase","text-muted-foreground","sticky","top-0","bg-background"],[1,"py-3","text-left"],[1,"py-3","text-right"],["item-list-products","","class","border-b border-dashed border-border hover:bg-card",3,"product","click",4,"ngFor","ngForOf"],["item-list-products","",1,"border-b","border-dashed","border-border","hover:bg-card",3,"click","product"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"label",7),e.EFF(8,"Productos"),e.k0s(),e.nrm(9,"input",8),e.k0s()()()()(),e.nrm(10,"hr",9),e.j41(11,"div",10)(12,"table",11)(13,"thead",12)(14,"tr")(15,"th",13),e.EFF(16,"Producto"),e.k0s(),e.j41(17,"th",13),e.EFF(18,"Tipo"),e.k0s(),e.j41(19,"th",14),e.EFF(20,"Status"),e.k0s()()(),e.j41(21,"tbody"),e.DNE(22,be,1,1,"tr",15),e.k0s()()()()()),2&t&&(e.R7$(22),e.Y8G("ngForOf",o.productTypes))},dependencies:[l.MD,l.Sq,ve],encapsulation:2})}return r})();var F=p(7827),_=p(9207),a=p(9417),A=p(1467);let we=(()=>{class r{constructor(){this.items=[{id:1,name:"Activo"},{id:2,name:"Inactivo"}],this.types=[{id:1,name:"Interno"},{id:2,name:"Venta"},{id:3,name:"Elaborado"},{id:4,name:"Semi Elaborado"}],this.productTypeForm=new a.gE({product_type_id:new a.MJ,name:new a.MJ,status:new a.MJ,type:new a.MJ,categories:new a.MJ})}ngOnInit(){this.productTypeForm=new a.gE({product_type_id:new a.MJ(this.productType.product_type_id),name:new a.MJ(this.productType.name),status:new a.MJ(this.productType.status),type:new a.MJ(this.productType.type),categories:new a.MJ(this.productType.categories)})}close(){this.detailListener.close()}onSubmit(){this.detailListener.submit(this.productTypeForm)}onDelete(){this.detailListener.delete(this.productType.product_type_id)}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-detail-product"]],inputs:{detailListener:"detailListener",productType:"productType"},standalone:!0,features:[e.aNF],decls:31,vars:4,consts:[[1,"flex","w-screen","md:w-96","bg-background","h-full","overflow-auto","gap-2","px-3","flex-col","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted",3,"ngSubmit","formGroup"],[1,"sticky","top-0","flex","flex-col","bg-background"],[1,"flex","relative","flex-row","items-center","gap-2","py-3","justify-start"],[1,"text-lg","text-foreground"],["type","button",1,"absolute","cursor-pointer","right-0","inline-flex","w-fit","justify-center","rounded-md","bg-background","px-3","py-2","text-sm","font-semibold","text-foreground","shadow-sm","ring-1","ring-inset","ring-foreground","hover:bg-card","sm:mt-0","sm:w-fit",3,"click"],[1,"border-dashed","border-border"],[1,"flex","py-2","flex-col"],[1,"px-2","flex-col","flex","gap-2"],[1,"text-xs","text-muted-foreground"],["type","text","formControlName","name","placeholder","google"],["formControlName","type",3,"items"],["formControlName","status",3,"items"],[1,"flex","py-2","flex-col","gap-2"],["type","submit",1,"bg-primary","text-white","rounded-md","p-2"],["type","button",1,"bg-red-500","text-white","rounded-md","p-2",3,"click"]],template:function(t,o){1&t&&(e.j41(0,"form",0),e.bIt("ngSubmit",function(){return o.onSubmit()}),e.j41(1,"div",1)(2,"div",2)(3,"span",3),e.EFF(4),e.k0s(),e.j41(5,"button",4),e.bIt("click",function(){return o.close()}),e.EFF(6," X "),e.k0s()(),e.nrm(7,"hr",5),e.k0s(),e.j41(8,"div",6)(9,"div",7)(10,"span",8),e.EFF(11,"Nombre"),e.k0s(),e.nrm(12,"input",9),e.k0s()(),e.nrm(13,"hr",5),e.j41(14,"div",6)(15,"div",7)(16,"span",8),e.EFF(17,"Tipo"),e.k0s(),e.nrm(18,"app-select",10),e.k0s()(),e.nrm(19,"hr",5),e.j41(20,"div",6)(21,"div",7)(22,"span",8),e.EFF(23,"Estado"),e.k0s(),e.nrm(24,"app-select",11),e.k0s()(),e.j41(25,"div",12)(26,"button",13),e.EFF(27," Guardar Cambios "),e.k0s(),e.nrm(28,"hr"),e.j41(29,"button",14),e.bIt("click",function(){return o.onDelete()}),e.EFF(30," Eliminar "),e.k0s()()()),2&t&&(e.Y8G("formGroup",o.productTypeForm),e.R7$(4),e.JRh("Detalles del Producto"),e.R7$(14),e.Y8G("items",o.types),e.R7$(6),e.Y8G("items",o.items))},dependencies:[l.MD,A.w,a.YN,a.qT,a.me,a.BC,a.cb,a.X1,a.j4,a.JD],encapsulation:2})}return r})();var J=p(2938),S=p(1413),j=p(7249),f=p(6007),d=p(4449),T=p(9652);function Fe(r,i){}let _e=(()=>{class r{constructor(){this.titleField=null,this.cdr=(0,e.WQX)(e.gRc)}ngAfterViewInit(){this.cdr.detectChanges(),this.loadComponent()}loadComponent(){const n=this.dcWrapper.viewContainerRef;n.clear();const t=n.createComponent(this.dynamicField.component);t.instance.formControl=this.dynamicField.fieldFormControl,t.instance.data=this.dynamicField.data,this.titleField=this.dynamicField.data.title,this.cdr.detectChanges()}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-field-template"]],viewQuery:function(t,o){if(1&t&&e.GBs(h.l,5),2&t){let s;e.mGM(s=e.lsd())&&(o.dcWrapper=s.first)}},inputs:{fieldListener:"fieldListener",dynamicField:"dynamicField"},standalone:!0,features:[e.aNF],decls:4,vars:1,consts:[[1,"flex","flex-col","w-full","gap-1","p-2"],[1,"text-sm","font-semibold","text-muted-foreground","text-start"],["dcWrapper","","id","item"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"label",1),e.EFF(2),e.k0s(),e.DNE(3,Fe,0,0,"ng-template",2),e.k0s()),2&t&&(e.R7$(2),e.JRh(o.titleField||"Titulo"))},dependencies:[l.MD,h.l],encapsulation:2})}return r})();function ke(r,i){1&r&&e.nrm(0,"app-field-template",4),2&r&&e.Y8G("dynamicField",i.$implicit)}let k=(()=>{class r{constructor(){this.fields=[],this.cdr=(0,e.WQX)(e.gRc)}ngOnInit(){}renderForm(){this.cdr.detectChanges()}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-form-template"]],inputs:{fields:"fields",step:"step",formListener:"formListener",data:"data"},standalone:!0,features:[e.aNF],decls:5,vars:2,consts:[[1,"flex","w-full","flex-col","gap-2","bg-background","p-3"],[1,"text-sm","font-semibold","text-foreground","text-start"],[1,"flex","gap-2","flex-col","w-full"],["class","w-full",3,"dynamicField",4,"ngFor","ngForOf"],[1,"w-full",3,"dynamicField"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"label",1),e.EFF(2),e.k0s(),e.j41(3,"div",2),e.DNE(4,ke,1,1,"app-field-template",3),e.k0s()()),2&t&&(e.R7$(2),e.JRh(o.data.description||""),e.R7$(2),e.Y8G("ngForOf",o.fields))},dependencies:[l.MD,l.Sq,_e],encapsulation:2})}return r})(),x=(()=>{class r{constructor(){this.validators=[]}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-input-text"]],inputs:{formControl:"formControl",data:"data",validators:"validators"},standalone:!0,features:[e.aNF],decls:1,vars:2,consts:[["type","text",3,"formControl","placeholder"]],template:function(t,o){1&t&&e.nrm(0,"input",0),2&t&&e.Y8G("formControl",o.formControl)("placeholder",o.data.placeholder)},dependencies:[l.MD,a.YN,a.me,a.BC,a.X1,a.l_],encapsulation:2})}return r})();function y(r){let i;return r.form.forEach(t=>{t.dynamicFields.forEach(s=>{i={...i,[s.data.title]:s.fieldFormControl.value}})}),i}let w=(()=>{class r{constructor(){this.validators=[]}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-input-select"]],inputs:{formControl:"formControl",data:"data",validators:"validators"},standalone:!0,features:[e.aNF],decls:1,vars:2,consts:[[3,"items","formControl"]],template:function(t,o){1&t&&e.nrm(0,"app-select",0),2&t&&e.Y8G("items",o.data.items)("formControl",o.formControl)},dependencies:[l.MD,A.w,a.X1,a.BC,a.l_,a.YN],encapsulation:2})}return r})();function ye(r,i){}let Ce=(()=>{class r{constructor(){this.onShowItem=!1,this.dialogNotifier=new S.B,this.productTypeFacadeService=(0,e.WQX)(J.p),this.modalService=(0,e.WQX)(_.B),this.dialogService=(0,e.WQX)(T.o),this.typesProducts=[{id:1,name:"Interno"},{id:2,name:"Venta"},{id:3,name:"Elaborado"},{id:4,name:"Semi Elaborado"}],this.productTypes$=this.productTypeFacadeService.productTypes,this.onLoading$=this.productTypeFacadeService.statusAction,this.detailListener={close:()=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1},cancel:()=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1},delete:n=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1,this.dialogService.open({typeDialog:d.h.isAlert,data:{title:"Advertencia",description:"Estas seguro de realizar esta accion",icon:"assets/icons/heroicons/outline/exclamation.svg"},options:{withActions:!0,position:[d.Y.center],withBackground:!0,colorIcon:"text-red-500"}}).subscribe(o=>{this.productTypeFacadeService.deleteItem(n)})},submit:n=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1,this.dialogService.open({typeDialog:d.h.isAlert,data:{title:"Advertencia",description:"Estas seguro de realizar esta accion",icon:"assets/icons/heroicons/outline/exclamation.svg"},options:{withActions:!0,position:[d.Y.center],withBackground:!0,colorIcon:"text-red-500"}}).subscribe(o=>{const{product_type_id:s,name:c,status:u,categories:m,type:v}=n.value;this.productTypeFacadeService.updateItem(s,c,u,m,v)})}},(0,e.QZP)(()=>{switch(this.onLoading$()){case f.p.LOADING:this.dialogService.open({typeDialog:d.h.isLoading,listener:this.dialogNotifier,data:{title:"Cargando",description:"Espere un momento por favor",icon:"assets/icons/loading.svg"},options:{withActions:!1,withBackground:!0,position:[d.Y.center],colorIcon:"text-primary"}});break;case f.p.SUCCESS:this.dialogNotifier.next(null);const t={typeDialog:d.h.isSuccess,data:{title:"Operacion Exitosa",description:"La operacion se ha completado con exito",icon:"assets/icons/heroicons/outline/check-badge.svg"},options:{withBackground:!1,position:[d.Y.top,d.Y.right],colorIcon:"text-green-500",timeToShow:(0,j.O)(2e3)}};this.dialogService.open(t);break;default:this.dialogNotifier.next(null)}})}ngOnInit(){}onAddEvent(){const n={component:k,data:{title:"Detalles del nuevo tipo de producto a agregar",description:"Especificaciones necesarias del tipo de producto a agregar"},dynamicFields:[{component:w,data:{items:this.typesProducts,title:"Tipo"},fieldFormControl:new a.MJ(1)},{component:x,data:{placeholder:"Nombre de Producto",title:"Producto"},fieldFormControl:new a.MJ("")}]};this.modalService.open(he,{title:"Agrega un nuevo tipo de producto",size:"sm",forms:[n],data:{},icon:"assets/icons/heroicons/outline/plus.svg",actions:[{action:F.X.Create,title:"Ingresar"}]}).subscribe({next:t=>{const{Tipo:o,Producto:s}=y(t);this.productTypeFacadeService.addItem(s,"1","0",o)}})}onViewItem(n){const t=this.dcWrapper.viewContainerRef;t.clear();const o=t.createComponent(we);o.instance.detailListener=this.detailListener,o.instance.productType=n,this.onShowItem=!0}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-products"]],viewQuery:function(t,o){if(1&t&&e.GBs(h.l,5),2&t){let s;e.mGM(s=e.lsd())&&(o.dcWrapper=s.first)}},standalone:!0,features:[e.aNF],decls:5,vars:3,consts:[[3,"classList"],[3,"addEvent"],[3,"onSelectItem","productTypes"],["dcWrapper",""]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",0)(2,"app-products-header",1),e.bIt("addEvent",function(){return o.onAddEvent()}),e.k0s(),e.j41(3,"app-list-products",2),e.bIt("onSelectItem",function(c){return o.onViewItem(c)}),e.k0s()(),e.DNE(4,ye,0,0,"ng-template",3),e.k0s()),2&t&&(e.Y8G("classList",o.onShowItem?"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-auto  h-full ":"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-hidden  h-full "),e.R7$(),e.Y8G("classList",o.onShowItem?" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-0 md:py-4":" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-4"),e.R7$(2),e.Y8G("productTypes",o.productTypes$()))},dependencies:[l.MD,de,xe,h.l],encapsulation:2})}return r})(),Ie=(()=>{class r{constructor(){this.addEvent=new e.bkB}onAddToggle(){this.addEvent.emit()}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-discounts-header"]],outputs:{addEvent:"addEvent"},standalone:!0,features:[e.aNF],decls:12,vars:0,consts:[[1,"mb-4","flex","justify-between"],[1,"inline-block"],[1,"font-semibold","text-foreground"],[1,"space-x-1","text-xs","font-medium","text-muted-foreground"],["href","",1,"hover:text-primary"],[1,"inline-block","space-x-4"],[1,"flex-none","rounded-md","bg-primary","px-4","py-2.5","text-xs","font-medium","text-primary-foreground",3,"click"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"h3",2),e.EFF(3,"Productos Descuentos"),e.k0s(),e.j41(4,"div",3)(5,"a",4),e.EFF(6,"Lista"),e.k0s(),e.j41(7,"span"),e.EFF(8," - Descuentos"),e.k0s()()(),e.j41(9,"div",5)(10,"button",6),e.bIt("click",function(){return o.onAddToggle()}),e.EFF(11," Agregar Descuento "),e.k0s()()())},dependencies:[l.MD],encapsulation:2})}return r})(),Ee=(()=>{class r{constructor(){this.forms=null,this.addEvent=new e.bkB}onAddToggle(){this.addEvent.emit()}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-modal-discounts"]],inputs:{form:"form",data:"data"},outputs:{addEvent:"addEvent"},standalone:!0,features:[e.aNF],decls:0,vars:0,template:function(t,o){},dependencies:[l.MD],encapsulation:2})}return r})(),Se=(()=>{class r{constructor(){this.modalService=(0,e.WQX)(_.B)}onAddEvent(){console.log({onAddEvent:"onAddEvent"}),this.modalService.open(Ee,{title:"Ingresar tus api keys",size:"sm",forms:null,data:{},icon:"assets/icons/heroicons/outline/plus.svg",actions:[{action:F.X.Create,title:"Ingresar"}]})}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-discounts"]],standalone:!0,features:[e.aNF],decls:2,vars:0,consts:[[1,"mx-auto","px-4","py-4","sm:px-8","lg:container"],[3,"addEvent"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"app-discounts-header",1),e.bIt("addEvent",function(){return o.onAddEvent()}),e.k0s()())},dependencies:[l.MD,Ie],encapsulation:2})}return r})(),je=(()=>{class r{constructor(){this.addEvent=new e.bkB}onAddToggle(){this.addEvent.emit()}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-categories-header"]],outputs:{addEvent:"addEvent"},standalone:!0,features:[e.aNF],decls:12,vars:0,consts:[[1,"mb-4","flex","justify-between"],[1,"inline-block"],[1,"font-semibold","text-foreground"],[1,"space-x-1","text-xs","font-medium","text-muted-foreground"],["href","",1,"hover:text-primary"],[1,"inline-block","space-x-4"],[1,"flex-none","rounded-md","bg-primary","px-4","py-2.5","text-xs","font-medium","text-primary-foreground",3,"click"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"h3",2),e.EFF(3,"Productos - Categorias"),e.k0s(),e.j41(4,"div",3)(5,"a",4),e.EFF(6,"Lista"),e.k0s(),e.j41(7,"span"),e.EFF(8," - Categorias"),e.k0s()()(),e.j41(9,"div",5)(10,"button",6),e.bIt("click",function(){return o.onAddToggle()}),e.EFF(11," Agregar Categoria "),e.k0s()()())},dependencies:[l.MD],encapsulation:2})}return r})(),Te=(()=>{class r{constructor(){this.forms=null,this.addEvent=new e.bkB}onAddToggle(){this.addEvent.emit()}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-modal-categories"]],inputs:{form:"form",data:"data"},outputs:{addEvent:"addEvent"},standalone:!0,features:[e.aNF],decls:0,vars:0,template:function(t,o){},dependencies:[l.MD],encapsulation:2})}return r})();const Pe=["item-list-categories",""];let Re=(()=>{class r{static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["","item-list-categories",""]],inputs:{category:"category"},standalone:!0,features:[e.aNF],attrs:Pe,decls:12,vars:3,consts:[[1,"py-3","pl-3","text-start"],[1,"text-sm","text-muted-foreground"],[1,"pr-1"],[1,"text-sm","text-foreground"],[1,"py-3","pl-3","text-right"]],template:function(t,o){1&t&&(e.j41(0,"td",0)(1,"div")(2,"span",1),e.EFF(3),e.k0s()()(),e.j41(4,"td",0)(5,"div",2)(6,"span",3),e.EFF(7),e.k0s()()(),e.j41(8,"td",4)(9,"div",2)(10,"span",1),e.EFF(11),e.k0s()()()),2&t&&(e.R7$(3),e.JRh(o.category.name),e.R7$(4),e.JRh(o.category.description),e.R7$(4),e.JRh(o.category.status))},dependencies:[l.MD],encapsulation:2})}return r})();function De(r,i){if(1&r){const n=e.RV6();e.j41(0,"tr",19),e.bIt("click",function(){const o=e.eBV(n).$implicit,s=e.XpG();return e.Njj(s.onSelectTable(o))}),e.k0s()}2&r&&e.Y8G("category",i.$implicit)}let Le=(()=>{class r{constructor(){this.onSelectItem=new e.bkB}onSelectTable(n){this.onSelectItem.emit(n)}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-list-categories"]],inputs:{categories:"categories"},outputs:{onSelectItem:"onSelectItem"},standalone:!0,features:[e.aNF],decls:36,vars:1,consts:[[1,"flex-col","rounded-lg","bg-background","px-8","py-8","sm:flex-row"],[1,"border-dashed","border-border"],[1,"w-full","flex","flex-col","p-2","gap-2"],[1,"flex","flex-row","items-center","justify-between","w-full"],[1,"w-1/2"],[1,"flex","flex-row","gap-2"],[1,"w-full"],[1,"text-muted-foreground","text-sm"],["type","text","placeholder","demostracion",1,"w-full","border","border-border","rounded-lg","p-2"],[1,"w-1/2","flex","items-center","justify-end","gap-2"],[1,"p-1","text-foreground","rounded-md","hover:bg-muted"],[1,"p-2","bg-primary","text-white","rounded-md"],[1,"p-2","text-foreground","rounded-md","hover:bg-muted"],[1,"relative","overflow-x-auto","h-72","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","overflow-auto","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted"],[1,"w-full","table-auto"],[1,"text-xs","uppercase","text-muted-foreground","sticky","top-0","bg-background"],[1,"py-3","text-left"],[1,"py-3","text-right"],["item-list-categories","","class","border-b border-dashed border-border hover:bg-card",3,"category","click",4,"ngFor","ngForOf"],["item-list-categories","",1,"border-b","border-dashed","border-border","hover:bg-card",3,"click","category"]],template:function(t,o){1&t&&(e.j41(0,"div",0),e.nrm(1,"hr",1),e.j41(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"label",7),e.EFF(8,"Categorias"),e.k0s(),e.nrm(9,"input",8),e.k0s()()(),e.j41(10,"div",9)(11,"button",10),e.EFF(12,"<"),e.k0s(),e.j41(13,"button",11),e.EFF(14,"1"),e.k0s(),e.j41(15,"button",12),e.EFF(16,"2"),e.k0s(),e.j41(17,"button",12),e.EFF(18,"3"),e.k0s(),e.j41(19,"button",12),e.EFF(20,"..."),e.k0s(),e.j41(21,"button",10),e.EFF(22,">"),e.k0s()()()(),e.nrm(23,"hr",1),e.j41(24,"div",13)(25,"table",14)(26,"thead",15)(27,"tr")(28,"th",16),e.EFF(29,"Nombre"),e.k0s(),e.j41(30,"th",16),e.EFF(31,"Descripcion"),e.k0s(),e.j41(32,"th",17),e.EFF(33,"status"),e.k0s()()(),e.j41(34,"tbody"),e.DNE(35,De,1,1,"tr",18),e.k0s()()()()),2&t&&(e.R7$(35),e.Y8G("ngForOf",o.categories))},dependencies:[l.MD,l.Sq,Re],encapsulation:2})}return r})();var G=p(1985);let Me=(()=>{class r{constructor(){this.mockData=[{id:1,name:"Limpieza",description:"Productos de limpieza",date:"2021-01-01",status:1},{id:2,name:"Herramientas",description:"Herramientas de trabajo",date:"2021-01-02",status:1},{id:3,name:"Alimentos",description:"Productos comestibles",date:"2021-01-03",status:1},{id:4,name:"Electrodomesticos",description:"Electrodomesticos para el hogar",date:"2021-01-04",status:1}]}getCategory(){return new G.c(n=>{n.next(this.mockData),n.complete()})}createCategory(n){return new G.c(t=>{this.mockData.push(n),t.next(this.mockData),t.complete()})}updateCategory(n){return new G.c(t=>{const o=this.mockData.findIndex(s=>s.id===n.id);this.mockData[o]=n,t.next(this.mockData),t.complete()})}deleteCategory(n){return new G.c(t=>{this.mockData=this.mockData.filter(o=>o.id!==n),t.next(this.mockData),t.complete()})}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),We=(()=>{class r{close(){}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-category-detail"]],standalone:!0,features:[e.aNF],decls:28,vars:3,consts:[[1,"flex","w-screen","md:w-96","bg-background","h-full","overflow-auto","gap-2","px-3","flex-col","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted"],[1,"sticky","top-0","flex","flex-col","bg-background"],[1,"flex","relative","flex-row","items-center","gap-2","py-3","justify-start"],[1,"text-lg","text-foreground"],[1,"absolute","cursor-pointer","right-0","inline-flex","w-fit","justify-center","rounded-md","bg-background","px-3","py-2","text-sm","font-semibold","text-foreground","shadow-sm","ring-1","ring-inset","ring-foreground","hover:bg-card","sm:mt-0","sm:w-fit",3,"click"],[1,"border-dashed","border-border"],[1,"flex","py-2","flex-col"],[1,"px-2","flex-col","flex"],[1,"text-xs","text-muted-foreground"],[1,"text-base","text-foreground"],[1,"flex","py-2","flex-col","gap-2"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),e.EFF(4),e.k0s(),e.j41(5,"button",4),e.bIt("click",function(){return o.close()}),e.EFF(6," X "),e.k0s()(),e.nrm(7,"hr",5),e.k0s(),e.j41(8,"div",6),e.nrm(9,"div",7)(10,"hr",5)(11,"div",6)(12,"hr",5),e.j41(13,"div",6)(14,"div",7)(15,"span",8),e.EFF(16,"Almacen"),e.k0s(),e.j41(17,"span",9),e.EFF(18),e.k0s()()(),e.nrm(19,"hr",5),e.j41(20,"div",6)(21,"div",7)(22,"span",8),e.EFF(23,"Proveedor"),e.k0s(),e.j41(24,"span",9),e.EFF(25),e.k0s()()(),e.nrm(26,"hr",5)(27,"div",10),e.k0s()()),2&t&&(e.R7$(4),e.JRh("Categoria"),e.R7$(14),e.JRh("Las Brisas"),e.R7$(7),e.JRh("Distribuidor general"))},dependencies:[l.MD],encapsulation:2})}return r})();function $e(r,i){}let Ne=(()=>{class r{constructor(){this.modalService=(0,e.WQX)(_.B),this.categoryService=(0,e.WQX)(Me),this.categories=[],this.onShowItem=!1}ngOnInit(){this.categoryService.getCategory().subscribe({next:n=>{this.categories=n},error:n=>{},complete:()=>{}})}onAddEvent(){console.log({onAddEvent:"onAddEvent"}),this.modalService.open(Te,{title:"Ingresar tus api keys",size:"sm",forms:null,data:{},icon:"assets/icons/heroicons/outline/plus.svg",actions:[{action:F.X.Create,title:"Ingresar"}]})}onSelectItem(n){const t=this.dcWrapper.viewContainerRef;t.clear(),t.createComponent(We),this.onShowItem=!0}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-categories"]],viewQuery:function(t,o){if(1&t&&e.GBs(h.l,5),2&t){let s;e.mGM(s=e.lsd())&&(o.dcWrapper=s.first)}},standalone:!0,features:[e.aNF],decls:5,vars:3,consts:[[3,"classList"],[3,"addEvent"],[3,"onSelectItem","categories"],["dcWrapper",""]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",0)(2,"app-categories-header",1),e.bIt("addEvent",function(){return o.onAddEvent()}),e.k0s(),e.j41(3,"app-list-categories",2),e.bIt("onSelectItem",function(c){return o.onSelectItem(c)}),e.k0s()(),e.DNE(4,$e,0,0,"ng-template",3),e.k0s()),2&t&&(e.Y8G("classList",o.onShowItem?"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-auto  h-full ":"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-hidden  h-full "),e.R7$(),e.Y8G("classList",o.onShowItem?" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-0 md:py-4":" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-4"),e.R7$(2),e.Y8G("categories",o.categories))},dependencies:[l.MD,je,Le,h.l],encapsulation:2})}return r})(),Ae=(()=>{class r{static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-warehouse"]],standalone:!0,features:[e.aNF],decls:1,vars:0,template:function(t,o){1&t&&e.nrm(0,"router-outlet")},dependencies:[O.n3],encapsulation:2})}return r})(),Ge=(()=>{class r{constructor(){this.addEvent=new e.bkB,this.generareReport=new e.bkB}onAddToggle(){this.addEvent.emit()}onGenerateReport(){this.generareReport.emit()}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-inputs-header"]],outputs:{addEvent:"addEvent",generareReport:"generareReport"},standalone:!0,features:[e.aNF],decls:14,vars:0,consts:[[1,"mb-4","flex","flex-col","md:flex-row","justify-between"],[1,"inline-block"],[1,"font-semibold","text-foreground"],[1,"space-x-1","text-xs","font-medium","text-muted-foreground"],["href","",1,"hover:text-primary"],[1,"flex","flex-col","gap-2","md:inline-block","md:space-x-4"],[1,"flex-none","w-full","md:w-fit","rounded-md","bg-primary","px-4","py-2.5","text-xs","font-medium","text-primary-foreground",3,"click"],[1,"flex-none","w-full","md:w-fit","rounded-md","bg-green-800","px-4","py-2.5","text-xs","font-medium","text-primary-foreground",3,"click"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"h3",2),e.EFF(3,"Almacenes - Entradas"),e.k0s(),e.j41(4,"div",3)(5,"a",4),e.EFF(6,"Lista"),e.k0s(),e.j41(7,"span"),e.EFF(8," - Entradas"),e.k0s()()(),e.j41(9,"div",5)(10,"button",6),e.bIt("click",function(){return o.onAddToggle()}),e.EFF(11," Agregar Entrada "),e.k0s(),e.j41(12,"button",7),e.bIt("click",function(){return o.onGenerateReport()}),e.EFF(13," Generar Reporte "),e.k0s()()())},dependencies:[l.MD],encapsulation:2})}return r})();function Be(r,i){1&r&&(e.qSk(),e.j41(0,"svg",9),e.nrm(1,"path",10),e.k0s())}function Oe(r,i){if(1&r&&(e.j41(0,"li",6)(1,"span",7),e.EFF(2),e.k0s(),e.EFF(3),e.DNE(4,Be,2,0,"svg",8),e.k0s()),2&r){const n=i.$implicit,t=i.index,o=e.XpG();e.Y8G("ngClass",t==o.actualFormIndex?" text-primary ":t<o.actualFormIndex?"text-primary hidden md:flex":"text-muted-foreground hidden md:flex"),e.R7$(),e.Y8G("classList",t<=o.actualFormIndex?"flex items-center justify-center w-5 h-5 me-2 text-xs border border-primary rounded-full shrink-0 ":"flex items-center justify-center w-5 h-5 me-2 text-xs border border-foreground  rounded-full shrink-0"),e.R7$(),e.SpI(" ",t+1," "),e.R7$(),e.SpI(" ",n.data.title," "),e.R7$(),e.Y8G("ngIf",t+1<=o.forms.length-1)}}function Je(r,i){}let q=(()=>{class r{constructor(){this.onCreateModal=new e.bkB,this.actualFormIndex=0,this.forms=[],this.cdr=(0,e.WQX)(e.gRc)}ngOnInit(){}ngAfterViewInit(){const n=this.createModalListener();this.loadComponent(this.actualFormIndex),this.onCreateModal.emit(n),this.cdr.detectChanges()}loadComponent(n){const t=this.forms[n],o=this.dcWrapper.viewContainerRef;o.clear();const s=o.createComponent(t.component);s.instance.step=n,s.instance.fields=t.dynamicFields,s.instance.data=t.data,s.instance.renderForm()}createModalListener(){return{onNext:()=>this.nextStepForm(),onPrev:()=>this.prevStepForm()}}nextStepForm(){return this.actualFormIndex<this.forms.length-1&&this.actualFormIndex++,this.loadComponent(this.actualFormIndex),{actualForm:this.forms[this.actualFormIndex],actualStep:this.actualFormIndex}}prevStepForm(){return this.actualFormIndex>0&&this.actualFormIndex--,this.loadComponent(this.actualFormIndex),{actualForm:this.forms[this.actualFormIndex],actualStep:this.actualFormIndex}}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-modal-inputs"]],viewQuery:function(t,o){if(1&t&&e.GBs(h.l,5),2&t){let s;e.mGM(s=e.lsd())&&(o.dcWrapper=s.first)}},inputs:{forms:"forms",data:"data"},standalone:!0,features:[e.aNF],decls:6,vars:1,consts:[[1,"flex","flex-col","gap-5","w-full"],[1,"flex","flex-col","md:flex-row","bg-background","justify-between","items-center"],[1,"flex","items-center","w-full","p-3","space-x-2","text-sm","font-medium","text-center","rounded-lg","shadow-sm","sm:text-base","sm:p-4","sm:space-x-4","rtl:space-x-reverse"],["class","flex items-center  font-bold h-10 sm:w-full md:w-fit ",3,"ngClass",4,"ngFor","ngForOf"],[1,"flex","flex-col","gap-2","bg-background"],["dcWrapper",""],[1,"flex","items-center","font-bold","h-10","sm:w-full","md:w-fit",3,"ngClass"],[3,"classList"],["class","w-3 h-3 ms-2 sm:ms-4 rtl:rotate-180","aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 12 10",4,"ngIf"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 12 10",1,"w-3","h-3","ms-2","sm:ms-4","rtl:rotate-180"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m7 9 4-4-4-4M1 9l4-4-4-4"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"ol",2),e.DNE(3,Oe,5,5,"li",3),e.k0s()(),e.j41(4,"div",4),e.DNE(5,Je,0,0,"ng-template",5),e.k0s()()),2&t&&(e.R7$(3),e.Y8G("ngForOf",o.forms))},dependencies:[l.MD,l.YU,l.Sq,l.bT,h.l],encapsulation:2})}return r})();var M=p(2109);let W=(()=>{class r{constructor(){this.warehouseFacadeService=(0,e.WQX)(M.p),this.warehouses=this.warehouseFacadeService.warehouses}transform(n,...t){if(this.warehouseFacadeService.statusAction()===f.p.LOADING)return"Cargando...";const o=this.warehouses().find(s=>s.warehouse_id==n);return o?o.name:"No Encontrado "}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275pipe=e.EJ8({name:"appWarehouse",type:r,pure:!1,standalone:!0})}return r})();var g=p(2934),Ye=p(564);class C{constructor(){this.getProvider=(0,g.Mz)([C.getSlices.providerById],i=>i)}static#e=this.getSlices=(0,g.OD)(Ye.H);static#t=this.getProviders=(0,g.Mz)([C.getSlices.providers],i=>i);static#o=this.getStatus=(0,g.Mz)([C.getSlices.status],i=>i)}var P=p(7771);class Y{constructor(i,n,t,o,s){this.name=i,this.phone=n,this.email=t,this.address=o,this.status=s}static create(i){const{name:n,phone:t,email:o,address:s,status:c}=i;return n?t?o?s?c?[null,new Y(n,t,o,s,c)]:["Status Property is Required",void 0]:["Address Property is Required",void 0]:["Email Property is Required",void 0]:["Phone Property is Required",void 0]:["Name Property is Required",void 0]}}class V{constructor(i,n,t,o,s,c){this.provider_id=i,this.name=n,this.phone=t,this.email=o,this.address=s,this.status=c}static create(i){const{provider_id:n,name:t,phone:o,email:s,address:c,status:u}=i;return n?t?s?c?u?o?[null,new V(n,t,o,s,c,u)]:["Phone Property is Required",void 0]:["Status Property is Required",void 0]:["Address Property is Required",void 0]:["Email Property is Required",void 0]:["Name Property is Required",void 0]:["Provider_id Property is Required",void 0]}}let X=(()=>{class r{constructor(){this._store=(0,e.WQX)(g.il),this.statusAction=this._store.selectSignal(C.getStatus),this.providers=this._store.selectSignal(C.getProviders),this._store.dispatch(new P.H.GetAll)}addItem(n,t,o,s,c){const[u,m]=Y.create({name:n,phone:t,email:o,address:s,status:c});if(u)throw new Error("Error al crear el proveedor : "+u);this._store.dispatch(new P.H.Create(m))}updateItem(n,t,o,s,c,u){const[m,v]=V.create({provider_id:n,name:t,phone:o,email:s,address:c,status:u});if(m)throw new Error("Error al actualizar el proveedor : "+m);this._store.dispatch(new P.H.Update(v))}deleteItem(n){this._store.dispatch(new P.H.Delete(n))}getProvider(n){this._store.dispatch(new P.H.Get(n))}getProviders(){this._store.dispatch(new P.H.GetAll)}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Z=(()=>{class r{constructor(){this.providerFacadeService=(0,e.WQX)(X),this.providers=this.providerFacadeService.providers}transform(n){if(this.providerFacadeService.statusAction()===f.p.LOADING)return"Cargando...";const t=this.providers().find(o=>o.provider_id===n);return t?t.name:"No encontrado"}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275pipe=e.EJ8({name:"appProvider",type:r,pure:!1,standalone:!0})}return r})();var $=p(6194);const Ve=["item-table-input",""];let Xe=(()=>{class r{static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["","item-table-input",""]],inputs:{inputProduct:"inputProduct",index:"index"},standalone:!0,features:[e.aNF],attrs:Ve,decls:32,vars:15,consts:[[1,"py-3","pl-3","text-start"],[1,"pr-1"],[1,"text-sm","text-muted-foreground"],[1,"text-sm","text-foreground"],[1,"py-3","pl-3","text-right"]],template:function(t,o){1&t&&(e.j41(0,"td",0)(1,"div",1)(2,"span",2),e.EFF(3),e.k0s()()(),e.j41(4,"td",0)(5,"div",1)(6,"span",2),e.EFF(7),e.nI1(8,"appProduct"),e.k0s()()(),e.j41(9,"td",0)(10,"div")(11,"span",2),e.EFF(12),e.nI1(13,"appWarehouse"),e.k0s()()(),e.j41(14,"td",0)(15,"div",1)(16,"span",3),e.EFF(17),e.nI1(18,"appProvider"),e.k0s()()(),e.j41(19,"td",0)(20,"div",1)(21,"span",2),e.EFF(22),e.k0s()()(),e.j41(23,"td",0)(24,"div",1)(25,"span",2),e.EFF(26),e.k0s()()(),e.j41(27,"td",4)(28,"div",1)(29,"span",2),e.EFF(30),e.nI1(31,"date"),e.k0s()()()),2&t&&(e.R7$(3),e.JRh(o.index),e.R7$(4),e.JRh(e.bMT(8,7,o.inputProduct.product_type_id)),e.R7$(5),e.JRh(e.bMT(13,9,o.inputProduct.warehouse_id)),e.R7$(5),e.JRh(e.bMT(18,11,o.inputProduct.provider_id)),e.R7$(5),e.JRh(o.inputProduct.quantity),e.R7$(4),e.JRh(o.inputProduct.detail),e.R7$(4),e.JRh(e.bMT(31,13,o.inputProduct.date_created)))},dependencies:[l.MD,l.vh,W,Z,$.I],encapsulation:2})}return r})();const K=(r,i)=>({"border-primary text-primary outline-none active-tab":r,"text-muted-foreground border-transparent":i});function Ue(r,i){if(1&r){const n=e.RV6();e.j41(0,"button",21),e.bIt("click",function(){const o=e.eBV(n).$implicit,s=e.XpG();return e.Njj(s.selectWarehouse(o.warehouse_id))}),e.EFF(1),e.k0s()}if(2&r){const n=i.$implicit,t=e.XpG();e.Y8G("ngClass",e.l_i(2,K,t.selectedWarehouse===n.warehouse_id,t.selectedWarehouse!==n.warehouse_id)),e.R7$(),e.SpI(" ",n.name," ")}}function Qe(r,i){if(1&r){const n=e.RV6();e.j41(0,"tr",22),e.bIt("click",function(){const o=e.eBV(n).$implicit,s=e.XpG();return e.Njj(s.onSelectTable(o))}),e.k0s()}if(2&r){const n=i.$implicit,t=i.index,o=e.XpG();e.Y8G("inputProduct",n)("index",t+1+(o.actualPage-1)*o.itemsPerPage)}}let He=(()=>{class r{constructor(){this.onItemSelect=new e.bkB,this.onfilterEvent=new e.bkB,this.actualPage=1,this.itemsPerPage=30,this.selectedWarehouse=null}ngOnInit(){}onSelectTable(n){this.onItemSelect.emit(n)}selectWarehouse(n){this.selectedWarehouse=n,this.actualPage=1,this.filterEvent()}previousPage(){this.actualPage>1&&(this.actualPage=this.actualPage-1),this.filterEvent()}nextPage(){this.actualPage=this.actualPage+1,this.filterEvent()}filterEvent(){let n;this.selectedWarehouse?(console.log("Con Warehouse"),n={warehouse_id:this.selectedWarehouse,limit:this.itemsPerPage,offset:(this.actualPage-1)*this.itemsPerPage}):(console.log("Sin Warehouse"),n={limit:this.itemsPerPage,offset:(this.actualPage-1)*this.itemsPerPage}),this.onfilterEvent.emit(n)}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-list-inputs"]],inputs:{warehouses:"warehouses",inputs:"inputs"},outputs:{onItemSelect:"onItemSelect",onfilterEvent:"onfilterEvent"},standalone:!0,features:[e.aNF],decls:46,vars:7,consts:[[1,"flex-col","rounded-lg","bg-background","px-8","py-8","sm:flex-row"],[1,"w-full","mx-auto"],[1,"flex","w-full","overflow-auto","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted"],[1,"py-2","px-4","text-sm","font-medium","text-primary","border-b-2","hover:border-primary","hover:text-primary","focus:outline-none",3,"click","ngClass"],["class","py-2 px-4 text-sm font-medium border-b-2  hover:border-primary hover:text-primary focus:outline-none",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"border-dashed","border-border"],[1,"w-full","flex","flex-col","p-2","gap-2"],[1,"flex","flex-col","gap-2","items-end","md:flex-row","md:items-center","justify-between","w-full"],[1,"w-full","md:w-1/2"],[1,"flex","flex-col","md:flex-row","gap-2"],[1,"text-muted-foreground","text-sm"],["type","date",1,"w-full","border","border-border","rounded-lg","p-2"],[1,"w-full","md:w-1/2","flex","items-center","justify-end","gap-2"],[1,"p-1","text-white","rounded-md","bg-primary",3,"click"],[1,"text-foreground","text-base"],[1,"relative","overflow-x-auto","h-72","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","overflow-auto","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted"],[1,"w-full","table-auto"],[1,"text-xs","uppercase","text-muted-foreground","sticky","top-0","bg-background"],[1,"py-3","text-left"],[1,"py-3","text-right"],["item-table-input","","class","border-b border-dashed border-border hover:bg-card",3,"inputProduct","index","click",4,"ngFor","ngForOf"],[1,"py-2","px-4","text-sm","font-medium","border-b-2","hover:border-primary","hover:text-primary","focus:outline-none",3,"click","ngClass"],["item-table-input","",1,"border-b","border-dashed","border-border","hover:bg-card",3,"click","inputProduct","index"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),e.bIt("click",function(){return o.selectWarehouse(null)}),e.EFF(4," Todos "),e.k0s(),e.DNE(5,Ue,2,5,"button",4),e.k0s(),e.nrm(6,"hr",5),e.j41(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",8)(12,"label",10),e.EFF(13,"Desde"),e.k0s(),e.nrm(14,"input",11),e.k0s(),e.j41(15,"div",8)(16,"label",10),e.EFF(17,"Hasta"),e.k0s(),e.nrm(18,"input",11),e.k0s()()(),e.j41(19,"div",12)(20,"button",13),e.bIt("click",function(){return o.previousPage()}),e.EFF(21,"<"),e.k0s(),e.j41(22,"span",14),e.EFF(23),e.k0s(),e.j41(24,"button",13),e.bIt("click",function(){return o.nextPage()}),e.EFF(25,">"),e.k0s()()()(),e.nrm(26,"hr",5),e.j41(27,"div",15)(28,"table",16)(29,"thead",17)(30,"tr"),e.nrm(31,"th",18),e.j41(32,"th",18),e.EFF(33,"Producto"),e.k0s(),e.j41(34,"th",18),e.EFF(35,"Almacen"),e.k0s(),e.j41(36,"th",18),e.EFF(37,"Proveedor"),e.k0s(),e.j41(38,"th",18),e.EFF(39,"Cantidad"),e.k0s(),e.j41(40,"th",18),e.EFF(41,"Detalle"),e.k0s(),e.j41(42,"th",19),e.EFF(43,"Fecha"),e.k0s()()(),e.j41(44,"tbody"),e.DNE(45,Qe,1,2,"tr",20),e.k0s()()()()()),2&t&&(e.R7$(3),e.Y8G("ngClass",e.l_i(4,K,null===o.selectedWarehouse,null!==o.selectedWarehouse)),e.R7$(2),e.Y8G("ngForOf",o.warehouses),e.R7$(18),e.JRh(o.actualPage),e.R7$(22),e.Y8G("ngForOf",o.inputs))},dependencies:[l.MD,l.YU,l.Sq,Xe],encapsulation:2})}return r})(),ze=(()=>{class r{close(){this.inputDetailListener?.close()}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-input-detail"]],inputs:{inputDetailListener:"inputDetailListener",inputProduct:"inputProduct"},standalone:!0,features:[e.aNF],decls:55,vars:16,consts:[[1,"flex","w-screen","md:w-96","bg-background","h-full","overflow-auto","gap-2","px-3","flex-col","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted"],[1,"sticky","top-0","flex","flex-col","bg-background"],[1,"flex","relative","flex-row","items-center","gap-2","py-3","justify-start"],[1,"text-lg","text-foreground"],[1,"absolute","cursor-pointer","right-0","inline-flex","w-fit","justify-center","rounded-md","bg-background","px-3","py-2","text-sm","font-semibold","text-foreground","shadow-sm","ring-1","ring-inset","ring-foreground","hover:bg-card","sm:mt-0","sm:w-fit",3,"click"],[1,"border-dashed","border-border"],[1,"flex","py-2","flex-col"],[1,"px-2","flex-col","flex"],[1,"text-xs","text-muted-foreground"],[1,"text-base","text-foreground"],[1,"flex","py-2","flex-col","gap-2"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),e.EFF(4),e.k0s(),e.j41(5,"button",4),e.bIt("click",function(){return o.close()}),e.EFF(6," X "),e.k0s()(),e.nrm(7,"hr",5),e.k0s(),e.j41(8,"div",6)(9,"div",7)(10,"span",8),e.EFF(11,"Fecha"),e.k0s(),e.j41(12,"span",9),e.EFF(13),e.nI1(14,"date"),e.k0s()()(),e.nrm(15,"hr",5),e.j41(16,"div",6)(17,"div",7)(18,"span",8),e.EFF(19,"Producto"),e.k0s(),e.j41(20,"span",9),e.EFF(21),e.nI1(22,"appProduct"),e.k0s()()(),e.nrm(23,"hr",5)(24,"div",6),e.j41(25,"div",7)(26,"span",8),e.EFF(27,"Cantidad"),e.k0s(),e.j41(28,"span",9),e.EFF(29),e.k0s()(),e.nrm(30,"hr",5),e.j41(31,"div",6)(32,"div",7)(33,"span",8),e.EFF(34,"Almacen"),e.k0s(),e.j41(35,"span",9),e.EFF(36),e.nI1(37,"appWarehouse"),e.k0s()()(),e.nrm(38,"hr",5),e.j41(39,"div",6)(40,"div",7)(41,"span",8),e.EFF(42,"Proveedor"),e.k0s(),e.j41(43,"span",9),e.EFF(44),e.nI1(45,"appProvider"),e.k0s()()(),e.nrm(46,"hr",5),e.j41(47,"div",6)(48,"div",7)(49,"span",8),e.EFF(50,"Detalles"),e.k0s(),e.j41(51,"span",9),e.EFF(52),e.k0s()()(),e.nrm(53,"hr",5)(54,"div",10),e.k0s()),2&t&&(e.R7$(4),e.JRh("Entrada : "+o.inputProduct.input_id),e.R7$(9),e.JRh(e.i5U(14,7,o.inputProduct.date_created,"short")),e.R7$(8),e.JRh(e.bMT(22,10,o.inputProduct.product_type_id)),e.R7$(8),e.JRh(o.inputProduct.quantity),e.R7$(7),e.JRh(e.bMT(37,12,o.inputProduct.warehouse_id)),e.R7$(8),e.JRh(e.bMT(45,14,o.inputProduct.provider_id)),e.R7$(8),e.JRh(o.inputProduct.detail))},dependencies:[l.MD,l.vh,$.I,W,Z],encapsulation:2})}return r})();var ee=p(467),qe=p(9372);class I{static#e=this.getSlices=(0,g.OD)(qe.W);static#t=this.getInputs=(0,g.Mz)([I.getSlices.inputs],i=>i);static#o=this.getInput=(0,g.Mz)([I.getSlices.inputById],i=>i);static#r=this.getStatus=(0,g.Mz)([I.getSlices.status],i=>i)}var R=p(2863);class U{constructor(i,n,t,o,s){this.product_type_id=i,this.provider_id=n,this.warehouse_id=t,this.detail=o,this.quantity=s}static create(i){const{product_type_id:n,provider_id:t,warehouse_id:o,detail:s,quantity:c}=i;return n?t?o?s?c?[void 0,new U(n,t,o,s,c)]:["Quantity required",void 0]:["Detail required",void 0]:["Warehouse id required",void 0]:["Provider id required",void 0]:["Product type id required",void 0]}}var te=p(4843);function oe(r){return`${Object.keys(r[0]).join(";")}\n${r.map(t=>Object.values(t).join(";")).join("\n")}`}function re(r,i){const n=new Blob([r],{type:"text/csv"}),t=window.URL.createObjectURL(n),o=document.createElement("a");o.href=t,o.download=i,o.click(),window.URL.revokeObjectURL(t)}var ne=p(2510),se=p(7076);let Ze=(()=>{class r{constructor(n){this.actions$=n,this._store=(0,e.WQX)(g.il),this.statusAction=this._store.selectSignal(I.getStatus),this.inputs=this._store.selectSignal(I.getInputs),this.input=this._store.selectSignal(I.getInput);const t=(new Date).toISOString().split("T")[0],o=new Date((new Date).getTime()+864e5).toISOString().split("T")[0];this._store.dispatch(new R.S.GetAll({init:t,end:o}))}addItem(n,t,o,s,c){console.log(n,t,o,s,c);const[u,m]=U.create({product_type_id:n,provider_id:t,warehouse_id:o,detail:s,quantity:c});u?console.log(u):this._store.dispatch(new R.S.Create(m))}getItems(n){this._store.dispatch(new R.S.GetAll(n))}getItem(n){this._store.dispatch(new R.S.Get(n))}createReport(n){var t=this;return(0,ee.A)(function*(){t._store.dispatch(new R.S.GetAll(n)),yield(0,te._)(t.actions$.pipe((0,g.rM)(R.S.GetAll)));const o=t._store.selectSnapshot(se.i.getWarehouses),s=t._store.selectSnapshot(ne.e.getProductTypes),c=t._store.selectSnapshot(C.getProviders);re(oe(t.inputs().map(b=>({Fecha:b.date_created,Producto:b.product_type_id,Cantidad:b.quantity,Detalle:b.detail,Almacen:o.find(N=>N.warehouse_id===b.warehouse_id)?.name,TipoProducto:s.find(N=>N.product_type_id===b.product_type_id)?.name,Proveedor:c.find(N=>N.provider_id===b.provider_id)?.name}))),"reporte.csv")})()}static#e=this.\u0275fac=function(t){return new(t||r)(e.KVO(g.En))};static#t=this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),B=(()=>{class r{constructor(){this.validators=[]}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-input-date"]],inputs:{formControl:"formControl",data:"data",validators:"validators"},standalone:!0,features:[e.aNF],decls:1,vars:1,consts:[["type","date",3,"formControl"]],template:function(t,o){1&t&&e.nrm(0,"input",0),2&t&&e.Y8G("formControl",o.formControl)},dependencies:[l.MD,a.X1,a.me,a.BC,a.l_],encapsulation:2})}return r})();function Ke(r,i){}let et=(()=>{class r{constructor(){this.modalService=(0,e.WQX)(_.B),this.warehouseFacadeService=(0,e.WQX)(M.p),this.inputFacadeService=(0,e.WQX)(Ze),this.productTypeFacadeService=(0,e.WQX)(J.p),this.providerFacadeService=(0,e.WQX)(X),this.dialogService=(0,e.WQX)(T.o),this.warehouses$=this.warehouseFacadeService.warehouses,this.inputs$=this.inputFacadeService.inputs,this.productTypes$=this.productTypeFacadeService.productTypes,this.providers$=this.providerFacadeService.providers,this.onLoading$=this.inputFacadeService.statusAction,this.dialogNotifier=new S.B,this.onShowItem=!1,this.inputDetailListener={close:()=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1},submit:()=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1},cancel:()=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1}},(0,e.QZP)(()=>{switch(this.onLoading$()){case f.p.LOADING:this.dialogService.open({typeDialog:d.h.isLoading,listener:this.dialogNotifier,data:{title:"Cargando",description:"Espere un momento por favor",icon:"assets/icons/loading.svg"},options:{withActions:!1,withBackground:!0,position:[d.Y.center],colorIcon:"text-primary"}});break;case f.p.SUCCESS:this.dialogNotifier.next(null);const t={typeDialog:d.h.isSuccess,data:{title:"Operacion Exitosa",description:"La operacion se ha completado con exito",icon:"assets/icons/heroicons/outline/check-badge.svg"},options:{withBackground:!1,position:[d.Y.top,d.Y.right],colorIcon:"text-green-500",timeToShow:(0,j.O)(2e3)}};this.dialogService.open(t);break;default:this.dialogNotifier.next(null)}})}ngOnInit(){}onInputSelected(n){const t=this.dcWrapper.viewContainerRef;t.clear();const o=t.createComponent(ze);o.instance.inputDetailListener=this.inputDetailListener,o.instance.inputProduct=n,this.onShowItem=!0}onAddEvent(){const n={component:k,data:{title:"Detalles de la entrada",description:"Especificaciones necesarias de la entrada a agregar"},dynamicFields:[{component:w,data:{title:"Almacen",items:this.warehouses$().map(o=>({id:o.warehouse_id,name:o.name}))},fieldFormControl:new a.MJ("")},{component:w,data:{title:"Producto",items:this.productTypes$().map(o=>({id:o.product_type_id,name:o.name}))},fieldFormControl:new a.MJ("")},{component:w,data:{title:"Proveedor",items:this.providers$().map(o=>({id:o.provider_id,name:o.name}))},fieldFormControl:new a.MJ("")}]},t={component:k,data:{title:"Detalles de la entrada",description:"Especificaciones necesarias de la entrada a agregar"},dynamicFields:[{component:x,data:{placeholder:"Detalle",title:"Detalle"},fieldFormControl:new a.MJ("")},{component:x,data:{placeholder:"Cantidad",title:"Cantidad"},fieldFormControl:new a.MJ("")}]};this.modalService.open(q,{title:"Agregar Entrada",size:"sm",forms:[n,t],data:{},icon:"assets/icons/heroicons/outline/plus.svg",actions:[{action:F.X.Create,title:"Ingresar"}]}).subscribe({next:o=>{const{Almacen:s,Cantidad:c,Detalle:u,Producto:m,Proveedor:v}=y(o);this.inputFacadeService.addItem(m,v,s,u,c)},error:o=>{console.log({err:o})},complete:()=>{console.log("Complete")}})}onFilterEvents(n){this.inputFacadeService.getItems(n)}onGenerateReport(){const n={component:k,data:{title:"Parametros de Reporte",description:"Filtros necesarios para generar el reporte"},dynamicFields:[{component:w,data:{title:"Almacen",items:this.warehouses$().map(t=>({id:t.warehouse_id,name:t.name}))},fieldFormControl:new a.MJ},{component:w,data:{title:"Producto",items:this.productTypes$().map(t=>({id:t.product_type_id,name:t.name}))},fieldFormControl:new a.MJ},{component:B,data:{title:"Inicio"},fieldFormControl:new a.MJ},{component:B,data:{title:"Fin"},fieldFormControl:new a.MJ}]};this.modalService.open(q,{title:"Generar Reporte",size:"sm",forms:[n],data:{},icon:"assets/icons/heroicons/outline/plus.svg",actions:[{action:F.X.Create,title:"Generar"}]}).subscribe({next:t=>{const o=y(t),s={warehouse_id:o.Almacen,product_type_id:o.Producto,init:o.Inicio,end:o.Fin},c=Object.keys(s).reduce((u,m)=>(null!=s[m]&&(u[m]=s[m]),u),{});this.inputFacadeService.createReport(c)},error:t=>{console.log({err:t})},complete:()=>{console.log("Complete")}})}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-inputs"]],viewQuery:function(t,o){if(1&t&&e.GBs(h.l,5),2&t){let s;e.mGM(s=e.lsd())&&(o.dcWrapper=s.first)}},standalone:!0,features:[e.aNF],decls:5,vars:4,consts:[[3,"classList"],[3,"addEvent","generareReport"],[3,"onItemSelect","onfilterEvent","warehouses","inputs"],["dcWrapper",""]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",0)(2,"app-inputs-header",1),e.bIt("addEvent",function(){return o.onAddEvent()})("generareReport",function(){return o.onGenerateReport()}),e.k0s(),e.j41(3,"app-list-inputs",2),e.bIt("onItemSelect",function(c){return o.onInputSelected(c)})("onfilterEvent",function(c){return o.onFilterEvents(c)}),e.k0s()(),e.DNE(4,Ke,0,0,"ng-template",3),e.k0s()),2&t&&(e.Y8G("classList",o.onShowItem?"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-auto  h-full ":"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-hidden  h-full "),e.R7$(),e.Y8G("classList",o.onShowItem?" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-0 md:py-4":" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-4"),e.R7$(2),e.Y8G("warehouses",o.warehouses$())("inputs",o.inputs$()))},dependencies:[l.MD,Ge,He,h.l],encapsulation:2})}return r})(),tt=(()=>{class r{constructor(){this.addEvent=new e.bkB}onAddToggle(){this.addEvent.emit()}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-warehouses-header"]],outputs:{addEvent:"addEvent"},standalone:!0,features:[e.aNF],decls:12,vars:0,consts:[[1,"mb-4","flex","justify-between"],[1,"inline-block"],[1,"font-semibold","text-foreground"],[1,"space-x-1","text-xs","font-medium","text-muted-foreground"],["href","",1,"hover:text-primary"],[1,"inline-block","space-x-4"],[1,"flex-none","rounded-md","bg-primary","px-4","py-2.5","text-xs","font-medium","text-primary-foreground",3,"click"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"h3",2),e.EFF(3,"Almacenes - Listado"),e.k0s(),e.j41(4,"div",3)(5,"a",4),e.EFF(6,"Lista"),e.k0s(),e.j41(7,"span"),e.EFF(8," - Almacenes"),e.k0s()()(),e.j41(9,"div",5)(10,"button",6),e.bIt("click",function(){return o.onAddToggle()}),e.EFF(11," Agregar Almacen "),e.k0s()()())},dependencies:[l.MD],encapsulation:2})}return r})();function ot(r,i){1&r&&(e.qSk(),e.j41(0,"svg",9),e.nrm(1,"path",10),e.k0s())}function rt(r,i){if(1&r&&(e.j41(0,"li",6)(1,"span",7),e.EFF(2),e.k0s(),e.EFF(3),e.DNE(4,ot,2,0,"svg",8),e.k0s()),2&r){const n=i.$implicit,t=i.index,o=e.XpG();e.Y8G("ngClass",t==o.actualFormIndex?" text-primary ":t<o.actualFormIndex?"text-primary hidden md:flex":"text-muted-foreground hidden md:flex"),e.R7$(),e.Y8G("classList",t<=o.actualFormIndex?"flex items-center justify-center w-5 h-5 me-2 text-xs border border-primary rounded-full shrink-0 ":"flex items-center justify-center w-5 h-5 me-2 text-xs border border-foreground  rounded-full shrink-0"),e.R7$(),e.SpI(" ",t+1," "),e.R7$(),e.SpI(" ",n.data.title," "),e.R7$(),e.Y8G("ngIf",t+1<=o.forms.length-1)}}function nt(r,i){}let ie=(()=>{class r{constructor(){this.onCreateModal=new e.bkB,this.actualFormIndex=0,this.forms=[],this.cdr=(0,e.WQX)(e.gRc)}ngOnInit(){}ngAfterViewInit(){const n=this.createModalListener();this.loadComponent(this.actualFormIndex),this.onCreateModal.emit(n),this.cdr.detectChanges()}loadComponent(n){const t=this.forms[n],o=this.dcWrapper.viewContainerRef;o.clear();const s=o.createComponent(t.component);s.instance.step=n,s.instance.fields=t.dynamicFields,s.instance.data=t.data,s.instance.renderForm()}createModalListener(){return{onNext:()=>this.nextStepForm(),onPrev:()=>this.prevStepForm()}}nextStepForm(){return this.actualFormIndex<this.forms.length-1&&this.actualFormIndex++,this.loadComponent(this.actualFormIndex),{actualForm:this.forms[this.actualFormIndex],actualStep:this.actualFormIndex}}prevStepForm(){return this.actualFormIndex>0&&this.actualFormIndex--,this.loadComponent(this.actualFormIndex),{actualForm:this.forms[this.actualFormIndex],actualStep:this.actualFormIndex}}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-modal-warehouses"]],viewQuery:function(t,o){if(1&t&&e.GBs(h.l,5),2&t){let s;e.mGM(s=e.lsd())&&(o.dcWrapper=s.first)}},inputs:{forms:"forms",data:"data"},standalone:!0,features:[e.aNF],decls:6,vars:1,consts:[[1,"flex","flex-col","gap-5","w-full"],[1,"flex","flex-col","md:flex-row","bg-background","justify-between","items-center"],[1,"flex","items-center","w-full","p-3","space-x-2","text-sm","font-medium","text-center","rounded-lg","shadow-sm","sm:text-base","sm:p-4","sm:space-x-4","rtl:space-x-reverse"],["class","flex items-center  font-bold h-10 sm:w-full md:w-fit ",3,"ngClass",4,"ngFor","ngForOf"],[1,"flex","flex-col","gap-2","bg-background"],["dcWrapper",""],[1,"flex","items-center","font-bold","h-10","sm:w-full","md:w-fit",3,"ngClass"],[3,"classList"],["class","w-3 h-3 ms-2 sm:ms-4 rtl:rotate-180","aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 12 10",4,"ngIf"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 12 10",1,"w-3","h-3","ms-2","sm:ms-4","rtl:rotate-180"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m7 9 4-4-4-4M1 9l4-4-4-4"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"ol",2),e.DNE(3,rt,5,5,"li",3),e.k0s()(),e.j41(4,"div",4),e.DNE(5,nt,0,0,"ng-template",5),e.k0s()()),2&t&&(e.R7$(3),e.Y8G("ngForOf",o.forms))},dependencies:[l.MD,l.YU,l.Sq,l.bT,h.l],encapsulation:2})}return r})();const st=["content-table-item",""];let it=(()=>{class r{constructor(){this.toggleItem=new e.bkB}ngOnInit(){}onToggleItem(){}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["","content-table-item",""]],inputs:{warehouse:"warehouse"},outputs:{toggleItem:"toggleItem"},standalone:!0,features:[e.aNF],attrs:st,decls:9,vars:5,consts:[[1,"py-3","pr-3","text-start"],[1,"pl-1"],[1,"mb-1","text-sm","font-semibold","text-foreground","text-center"],[1,"py-3","pl-3","text-right"],[1,"pr-1"],[1,"text-sm","rounded-md",3,"ngClass"]],template:function(t,o){1&t&&(e.j41(0,"td",0)(1,"div",1)(2,"span",2),e.EFF(3),e.k0s()()(),e.j41(4,"td",3)(5,"div",4)(6,"span",5),e.EFF(7),e.nI1(8,"appTypeStatus"),e.k0s()()()),2&t&&(e.R7$(3),e.JRh(o.warehouse.name),e.R7$(3),e.Y8G("ngClass",1===o.warehouse.status?"text-sm text-green-600 border p-1 border-green-600 rounded-md":"text-sm text-red-600 border p-1 border-red-600 rounded-md"),e.R7$(),e.JRh(e.bMT(8,3,o.warehouse.status)))},dependencies:[l.MD,l.YU,z.N],encapsulation:2})}return r})();function at(r,i){if(1&r){const n=e.RV6();e.j41(0,"tr",10),e.bIt("click",function(){const o=e.eBV(n).$implicit,s=e.XpG();return e.Njj(s.onSelectTable(o))}),e.k0s()}2&r&&e.Y8G("warehouse",i.$implicit)}let lt=(()=>{class r{constructor(){this.onSelectItem=new e.bkB}ngOnInit(){}onSelectTable(n){this.onSelectItem.emit(n)}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-list-warehouses"]],inputs:{services:"services",warehouses:"warehouses"},outputs:{onSelectItem:"onSelectItem"},standalone:!0,features:[e.aNF],decls:15,vars:1,consts:[[1,"flex-col","rounded-lg","bg-background","px-8","py-8","sm:flex-row"],[1,"mb-4","flex","items-center","justify-between"],[1,"flex-col","items-center"],[1,"text-xs","text-foreground"],[1,"relative","overflow-x-auto"],[1,"w-full","table-auto"],[1,"text-xs","uppercase","text-muted-foreground"],[1,"py-3","text-left"],[1,"py-3","text-right"],["content-table-item","","class","border-b border-dashed border-border hover:bg-card",3,"warehouse","click",4,"ngFor","ngForOf"],["content-table-item","",1,"border-b","border-dashed","border-border","hover:bg-card",3,"click","warehouse"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),e.EFF(4,"Lista de Almacenes"),e.k0s()()(),e.j41(5,"div",4)(6,"table",5)(7,"thead",6)(8,"tr")(9,"th",7),e.EFF(10,"Almacen"),e.k0s(),e.j41(11,"th",8),e.EFF(12,"Status"),e.k0s()()(),e.j41(13,"tbody"),e.DNE(14,at,1,1,"tr",9),e.k0s()()()()),2&t&&(e.R7$(14),e.Y8G("ngForOf",o.warehouses))},dependencies:[l.MD,l.Sq,it],encapsulation:2})}return r})(),ct=(()=>{class r{constructor(){this.items=[{id:1,name:"Activo"},{id:2,name:"Inactivo"}],this.warehouseForm=new a.gE({warehouse_id:new a.MJ,name:new a.MJ,status:new a.MJ})}ngOnInit(){this.warehouseForm=new a.gE({warehouse_id:new a.MJ(this.warehouse.warehouse_id),name:new a.MJ(this.warehouse.name),status:new a.MJ(this.warehouse.status)})}close(){this.detailListener.close()}onSubmit(){this.detailListener.submit(this.warehouseForm)}onDelete(){this.detailListener.delete(this.warehouse.warehouse_id)}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-warehouse-detail"]],inputs:{detailListener:"detailListener",warehouse:"warehouse"},standalone:!0,features:[e.aNF],decls:25,vars:3,consts:[[1,"flex","w-screen","md:w-96","bg-background","h-full","overflow-auto","gap-2","px-3","flex-col","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted",3,"ngSubmit","formGroup"],[1,"sticky","top-0","flex","flex-col","bg-background"],[1,"flex","relative","flex-row","items-center","gap-2","py-3","justify-start"],[1,"text-lg","text-foreground"],["type","button",1,"absolute","cursor-pointer","right-0","inline-flex","w-fit","justify-center","rounded-md","bg-background","px-3","py-2","text-sm","font-semibold","text-foreground","shadow-sm","ring-1","ring-inset","ring-foreground","hover:bg-card","sm:mt-0","sm:w-fit",3,"click"],[1,"border-dashed","border-border"],[1,"flex","py-2","flex-col"],[1,"px-2","flex-col","flex","gap-2"],[1,"text-xs","text-muted-foreground"],["type","text","formControlName","name","placeholder","google"],["formControlName","status",3,"items"],[1,"flex","py-2","flex-col","gap-2"],["type","submit",1,"bg-primary","text-white","rounded-md","p-2"],["type","button",1,"bg-red-500","text-white","rounded-md","p-2",3,"click"]],template:function(t,o){1&t&&(e.j41(0,"form",0),e.bIt("ngSubmit",function(){return o.onSubmit()}),e.j41(1,"div",1)(2,"div",2)(3,"span",3),e.EFF(4),e.k0s(),e.j41(5,"button",4),e.bIt("click",function(){return o.close()}),e.EFF(6," X "),e.k0s()(),e.nrm(7,"hr",5),e.k0s(),e.j41(8,"div",6)(9,"div",7)(10,"span",8),e.EFF(11,"Nombre"),e.k0s(),e.nrm(12,"input",9),e.k0s()(),e.nrm(13,"hr",5),e.j41(14,"div",6)(15,"div",7)(16,"span",8),e.EFF(17,"Estado"),e.k0s(),e.nrm(18,"app-select",10),e.k0s()(),e.j41(19,"div",11)(20,"button",12),e.EFF(21," Guardar Cambios "),e.k0s(),e.nrm(22,"hr"),e.j41(23,"button",13),e.bIt("click",function(){return o.onDelete()}),e.EFF(24," Eliminar "),e.k0s()()()),2&t&&(e.Y8G("formGroup",o.warehouseForm),e.R7$(4),e.JRh("Detalles del almacen"),e.R7$(14),e.Y8G("items",o.items))},dependencies:[l.MD,a.YN,a.qT,a.me,a.BC,a.cb,a.X1,a.j4,a.JD,A.w],encapsulation:2})}return r})();function dt(r,i){}let ut=(()=>{class r{ngOnInit(){}constructor(){this.modalService=(0,e.WQX)(_.B),this.dialogService=(0,e.WQX)(T.o),this.warehouseFacadeService=(0,e.WQX)(M.p),this.warehouses$=this.warehouseFacadeService.warehouses,this.onLoading$=this.warehouseFacadeService.statusAction,this.dialogNotifier=new S.B,this.onShowItem=!1,this.detailListener={close:()=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1},cancel:()=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1},submit:n=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1,this.dialogService.open({typeDialog:d.h.isAlert,data:{title:"Advertencia",description:"Estas seguro de realizar esta accion",icon:"assets/icons/heroicons/outline/exclamation.svg"},options:{withActions:!0,position:[d.Y.center],withBackground:!0,colorIcon:"text-red-500"}}).subscribe(o=>{const{warehouse_id:s,name:c,status:u}=n.value;this.warehouseFacadeService.updateItem(s,c,u)})},delete:n=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1,this.dialogService.open({typeDialog:d.h.isAlert,data:{title:"Advertencia",description:"Estas seguro de realizar esta accion",icon:"assets/icons/heroicons/outline/exclamation.svg"},options:{withActions:!0,position:[d.Y.center],withBackground:!0,colorIcon:"text-red-500"}}).subscribe(o=>{this.warehouseFacadeService.deleteItem(n)})}},(0,e.QZP)(()=>{switch(this.onLoading$()){case f.p.LOADING:this.dialogService.open({typeDialog:d.h.isLoading,listener:this.dialogNotifier,data:{title:"Cargando",description:"Espere un momento por favor",icon:"assets/icons/loading.svg"},options:{withActions:!1,withBackground:!0,position:[d.Y.center],colorIcon:"text-primary"}});break;case f.p.SUCCESS:this.dialogNotifier.next(null);const t={typeDialog:d.h.isSuccess,data:{title:"Operacion Exitosa",description:"La operacion se ha completado con exito",icon:"assets/icons/heroicons/outline/check-badge.svg"},options:{withBackground:!1,position:[d.Y.top,d.Y.right],colorIcon:"text-green-500",timeToShow:(0,j.O)(2e3)}};this.dialogService.open(t);break;default:this.dialogNotifier.next(null)}})}onAddEvent(){const n={component:k,data:{title:"Detalles del nuevo almacen a agregar",description:"Especificaciones necesarias del almacen a agregar"},dynamicFields:[{component:x,data:{placeholder:"Almacen 1",title:"Almacen"},fieldFormControl:new a.MJ("")}]};this.modalService.open(ie,{title:"Agregar Almacen",size:"sm",forms:[n],data:{},icon:"assets/icons/heroicons/outline/plus.svg",actions:[{action:F.X.Create,title:"Ingresar"}]}).subscribe({next:t=>{const s=y(t).Almacen;console.log({warehouseName:s}),this.createWareHouse({name:s,status:1})},error:t=>{console.log({err:t})},complete:()=>{console.log("Complete")}})}createWareHouse(n){this.warehouseFacadeService.addItem(n.name,n.status)}onEditEvent(n){const t=this.dcWrapper.viewContainerRef;t.clear();const o=t.createComponent(ct);o.instance.detailListener=this.detailListener,o.instance.warehouse=n,this.onShowItem=!0}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-warehouses"]],viewQuery:function(t,o){if(1&t&&e.GBs(h.l,5),2&t){let s;e.mGM(s=e.lsd())&&(o.dcWrapper=s.first)}},standalone:!0,features:[e.aNF],decls:5,vars:3,consts:[[3,"classList"],[3,"addEvent"],[3,"onSelectItem","warehouses"],["dcWrapper",""]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",0)(2,"app-warehouses-header",1),e.bIt("addEvent",function(){return o.onAddEvent()}),e.k0s(),e.j41(3,"app-list-warehouses",2),e.bIt("onSelectItem",function(c){return o.onEditEvent(c)}),e.k0s()(),e.DNE(4,dt,0,0,"ng-template",3),e.k0s()),2&t&&(e.Y8G("classList",o.onShowItem?"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-auto  h-full ":"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-hidden  h-full "),e.R7$(),e.Y8G("classList",o.onShowItem?" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-0 md:py-4":" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-4"),e.R7$(2),e.Y8G("warehouses",o.warehouses$()))},dependencies:[l.MD,tt,lt,h.l],encapsulation:2})}return r})(),pt=(()=>{class r{constructor(){this.addEvent=new e.bkB,this.generareReport=new e.bkB}onAddToggle(){this.addEvent.emit()}onGenerateReport(){this.generareReport.emit({})}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-outputs-header"]],outputs:{addEvent:"addEvent",generareReport:"generareReport"},standalone:!0,features:[e.aNF],decls:14,vars:0,consts:[[1,"mb-4","flex","flex-col","md:flex-row","justify-between"],[1,"inline-block"],[1,"font-semibold","text-foreground"],[1,"space-x-1","text-xs","font-medium","text-muted-foreground"],["href","",1,"hover:text-primary"],[1,"flex","flex-col","gap-2","md:inline-block","md:space-x-4"],[1,"flex-none","w-full","md:w-fit","rounded-md","bg-primary","px-4","py-2.5","text-xs","font-medium","text-primary-foreground",3,"click"],[1,"flex-none","w-full","md:w-fit","rounded-md","bg-green-800","px-4","py-2.5","text-xs","font-medium","text-primary-foreground",3,"click"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"h3",2),e.EFF(3,"Almacenes - Salidas"),e.k0s(),e.j41(4,"div",3)(5,"a",4),e.EFF(6,"Lista"),e.k0s(),e.j41(7,"span"),e.EFF(8," - Salidas"),e.k0s()()(),e.j41(9,"div",5)(10,"button",6),e.bIt("click",function(){return o.onAddToggle()}),e.EFF(11," Agregar Salida "),e.k0s(),e.j41(12,"button",7),e.bIt("click",function(){return o.onGenerateReport()}),e.EFF(13," Generar Reporte "),e.k0s()()())},dependencies:[l.MD],encapsulation:2})}return r})();function mt(r,i){1&r&&(e.qSk(),e.j41(0,"svg",9),e.nrm(1,"path",10),e.k0s())}function ht(r,i){if(1&r&&(e.j41(0,"li",6)(1,"span",7),e.EFF(2),e.k0s(),e.EFF(3),e.DNE(4,mt,2,0,"svg",8),e.k0s()),2&r){const n=i.$implicit,t=i.index,o=e.XpG();e.Y8G("ngClass",t==o.actualFormIndex?" text-primary ":t<o.actualFormIndex?"text-primary hidden md:flex":"text-muted-foreground hidden md:flex"),e.R7$(),e.Y8G("classList",t<=o.actualFormIndex?"flex items-center justify-center w-5 h-5 me-2 text-xs border border-primary rounded-full shrink-0 ":"flex items-center justify-center w-5 h-5 me-2 text-xs border border-foreground  rounded-full shrink-0"),e.R7$(),e.SpI(" ",t+1," "),e.R7$(),e.SpI(" ",n.data.title," "),e.R7$(),e.Y8G("ngIf",t+1<=o.forms.length-1)}}function ft(r,i){}let ae=(()=>{class r{constructor(){this.onCreateModal=new e.bkB,this.actualFormIndex=0,this.forms=[],this.cdr=(0,e.WQX)(e.gRc)}ngOnInit(){}ngAfterViewInit(){const n=this.createModalListener();this.loadComponent(this.actualFormIndex),this.onCreateModal.emit(n),this.cdr.detectChanges()}loadComponent(n){const t=this.forms[n],o=this.dcWrapper.viewContainerRef;o.clear();const s=o.createComponent(t.component);s.instance.step=n,s.instance.fields=t.dynamicFields,s.instance.data=t.data,s.instance.renderForm()}createModalListener(){return{onNext:()=>this.nextStepForm(),onPrev:()=>this.prevStepForm()}}nextStepForm(){return this.actualFormIndex<this.forms.length-1&&this.actualFormIndex++,this.loadComponent(this.actualFormIndex),{actualForm:this.forms[this.actualFormIndex],actualStep:this.actualFormIndex}}prevStepForm(){return this.actualFormIndex>0&&this.actualFormIndex--,this.loadComponent(this.actualFormIndex),{actualForm:this.forms[this.actualFormIndex],actualStep:this.actualFormIndex}}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-modal-outputs"]],viewQuery:function(t,o){if(1&t&&e.GBs(h.l,5),2&t){let s;e.mGM(s=e.lsd())&&(o.dcWrapper=s.first)}},inputs:{forms:"forms",data:"data"},standalone:!0,features:[e.aNF],decls:6,vars:1,consts:[[1,"flex","flex-col","gap-5","w-full"],[1,"flex","flex-col","md:flex-row","bg-background","justify-between","items-center"],[1,"flex","items-center","w-full","p-3","space-x-2","text-sm","font-medium","text-center","rounded-lg","shadow-sm","sm:text-base","sm:p-4","sm:space-x-4","rtl:space-x-reverse"],["class","flex items-center  font-bold h-10 sm:w-full md:w-fit ",3,"ngClass",4,"ngFor","ngForOf"],[1,"flex","flex-col","gap-2","bg-background"],["dcWrapper",""],[1,"flex","items-center","font-bold","h-10","sm:w-full","md:w-fit",3,"ngClass"],[3,"classList"],["class","w-3 h-3 ms-2 sm:ms-4 rtl:rotate-180","aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 12 10",4,"ngIf"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 12 10",1,"w-3","h-3","ms-2","sm:ms-4","rtl:rotate-180"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m7 9 4-4-4-4M1 9l4-4-4-4"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"ol",2),e.DNE(3,ht,5,5,"li",3),e.k0s()(),e.j41(4,"div",4),e.DNE(5,ft,0,0,"ng-template",5),e.k0s()()),2&t&&(e.R7$(3),e.Y8G("ngForOf",o.forms))},dependencies:[l.MD,l.YU,l.Sq,l.bT,h.l],encapsulation:2})}return r})();const gt=["item-table-output",""];let vt=(()=>{class r{static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["","item-table-output",""]],inputs:{outputProduct:"outputProduct"},standalone:!0,features:[e.aNF],attrs:gt,decls:23,vars:12,consts:[[1,"py-3","pl-3","text-start"],[1,"text-sm","text-muted-foreground"],[1,"pr-1"],[1,"text-sm","text-foreground"],[1,"py-3","pl-3","text-end"]],template:function(t,o){1&t&&(e.j41(0,"td",0)(1,"div")(2,"span",1),e.EFF(3),e.nI1(4,"appWarehouse"),e.k0s()()(),e.j41(5,"td",0)(6,"div",2)(7,"span",3),e.EFF(8),e.nI1(9,"appProduct"),e.k0s()()(),e.j41(10,"td",0)(11,"div",2)(12,"span",1),e.EFF(13),e.k0s()()(),e.j41(14,"td",0)(15,"div",2)(16,"span",1),e.EFF(17),e.k0s()()(),e.j41(18,"td",4)(19,"div",2)(20,"span",1),e.EFF(21),e.nI1(22,"date"),e.k0s()()()),2&t&&(e.R7$(3),e.JRh(e.bMT(4,5,o.outputProduct.warehouse_id)),e.R7$(5),e.JRh(e.bMT(9,7,o.outputProduct.product_type_id)),e.R7$(5),e.JRh(o.outputProduct.quantity),e.R7$(4),e.JRh(o.outputProduct.detail),e.R7$(4),e.JRh(e.i5U(22,9,o.outputProduct.date_created,"short")))},dependencies:[l.MD,l.vh,$.I,W],encapsulation:2})}return r})();const le=(r,i)=>({"border-primary text-primary outline-none active-tab":r,"text-muted-foreground border-transparent":i});function bt(r,i){if(1&r){const n=e.RV6();e.j41(0,"button",22),e.bIt("click",function(){const o=e.eBV(n).$implicit,s=e.XpG();return e.Njj(s.selectWarehouse(o.warehouse_id))}),e.EFF(1),e.k0s()}if(2&r){const n=i.$implicit,t=e.XpG();e.Y8G("ngClass",e.l_i(2,le,t.selectedWarehouse===n.warehouse_id,t.selectedWarehouse!==n.warehouse_id)),e.R7$(),e.SpI(" ",n.name," ")}}function xt(r,i){if(1&r){const n=e.RV6();e.j41(0,"tr",23),e.bIt("click",function(){const o=e.eBV(n).$implicit,s=e.XpG();return e.Njj(s.onSelectTable(o))}),e.k0s()}2&r&&e.Y8G("outputProduct",i.$implicit)}let wt=(()=>{class r{constructor(){this.onItemSelect=new e.bkB,this.onfilterEvent=new e.bkB,this.actualPage=1,this.itemsPerPage=30,this.selectedWarehouse=null}onSelectTable(n){this.onItemSelect.emit(n)}selectWarehouse(n){this.selectedWarehouse=n,this.actualPage=1,this.filterEvent()}previousPage(){this.actualPage>1&&(this.actualPage=this.actualPage-1),this.filterEvent()}nextPage(){this.actualPage=this.actualPage+1,this.filterEvent()}filterEvent(){let n;this.selectedWarehouse?(console.log("Con Warehouse"),n={warehouse_id:this.selectedWarehouse,limit:this.itemsPerPage,offset:(this.actualPage-1)*this.itemsPerPage}):(console.log("Sin Warehouse"),n={limit:this.itemsPerPage,offset:(this.actualPage-1)*this.itemsPerPage}),this.onfilterEvent.emit(n)}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-list-outputs"]],inputs:{warehouses:"warehouses",outputs:"outputs"},outputs:{onItemSelect:"onItemSelect",onfilterEvent:"onfilterEvent"},standalone:!0,features:[e.aNF],decls:43,vars:7,consts:[[1,"flex-col","rounded-lg","bg-background","px-8","py-8","sm:flex-row"],[1,"w-full","mx-auto"],[1,"flex","w-full","overflow-auto","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted"],[1,"py-2","px-4","text-sm","font-medium","text-primary","border-b-2","hover:border-primary","hover:text-primary","focus:outline-none",3,"click","ngClass"],["class","py-2 px-4 text-sm font-medium border-b-2  hover:border-primary hover:text-primary focus:outline-none",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"border-dashed","border-border"],[1,"w-full","flex","flex-col","p-2","gap-2"],[1,"flex","flex-row","items-center","justify-between","w-full"],[1,"w-1/2"],[1,"flex","flex-row","gap-2"],[1,"text-muted-foreground","text-sm"],["type","date",1,"w-full","border","border-border","rounded-lg","p-2"],[1,"w-1/2","flex","items-center","justify-end","gap-2"],[1,"w-full","md:w-1/2","flex","items-center","justify-end","gap-2"],[1,"p-1","text-white","rounded-md","bg-primary",3,"click"],[1,"text-foreground","text-base"],[1,"relative","overflow-x-auto","h-72","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","overflow-auto","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted"],[1,"w-full","table-auto"],[1,"text-xs","uppercase","text-muted-foreground"],[1,"py-3","text-left"],[1,"py-3","text-right"],["item-table-output","","class","border-b border-dashed border-border hover:bg-card",3,"outputProduct","click",4,"ngFor","ngForOf"],[1,"py-2","px-4","text-sm","font-medium","border-b-2","hover:border-primary","hover:text-primary","focus:outline-none",3,"click","ngClass"],["item-table-output","",1,"border-b","border-dashed","border-border","hover:bg-card",3,"click","outputProduct"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),e.bIt("click",function(){return o.selectWarehouse(null)}),e.EFF(4," Todos "),e.k0s(),e.DNE(5,bt,2,5,"button",4),e.k0s(),e.nrm(6,"hr",5),e.j41(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",8)(12,"label",10),e.EFF(13,"Desde"),e.k0s(),e.nrm(14,"input",11),e.k0s(),e.j41(15,"div",8)(16,"label",10),e.EFF(17,"Hasta"),e.k0s(),e.nrm(18,"input",11),e.k0s()()(),e.j41(19,"div",12)(20,"div",13)(21,"button",14),e.bIt("click",function(){return o.previousPage()}),e.EFF(22,"<"),e.k0s(),e.j41(23,"span",15),e.EFF(24),e.k0s(),e.j41(25,"button",14),e.bIt("click",function(){return o.nextPage()}),e.EFF(26,">"),e.k0s()()()()(),e.j41(27,"div",16)(28,"table",17)(29,"thead",18)(30,"tr")(31,"th",19),e.EFF(32,"Almacen"),e.k0s(),e.j41(33,"th",19),e.EFF(34,"Producto"),e.k0s(),e.j41(35,"th",19),e.EFF(36,"Cantidad"),e.k0s(),e.j41(37,"th",19),e.EFF(38,"Detalle"),e.k0s(),e.j41(39,"th",20),e.EFF(40,"Fecha"),e.k0s()()(),e.j41(41,"tbody"),e.DNE(42,xt,1,1,"tr",21),e.k0s()()()()()),2&t&&(e.R7$(3),e.Y8G("ngClass",e.l_i(4,le,null===o.selectedWarehouse,null!==o.selectedWarehouse)),e.R7$(2),e.Y8G("ngForOf",o.warehouses),e.R7$(19),e.JRh(o.actualPage),e.R7$(18),e.Y8G("ngForOf",o.outputs))},dependencies:[l.MD,l.YU,l.Sq,vt],encapsulation:2})}return r})(),Ft=(()=>{class r{close(){this.outputdetailListener?.close()}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-output-detail"]],inputs:{outputdetailListener:"outputdetailListener",outputProduct:"outputProduct"},standalone:!0,features:[e.aNF],decls:47,vars:13,consts:[[1,"flex","w-screen","md:w-96","bg-background","h-full","overflow-auto","gap-2","px-3","flex-col","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted"],[1,"sticky","top-0","flex","flex-col","bg-background"],[1,"flex","relative","flex-row","items-center","gap-2","py-3","justify-start"],[1,"text-lg","text-foreground"],[1,"absolute","cursor-pointer","right-0","inline-flex","w-fit","justify-center","rounded-md","bg-background","px-3","py-2","text-sm","font-semibold","text-foreground","shadow-sm","ring-1","ring-inset","ring-foreground","hover:bg-card","sm:mt-0","sm:w-fit",3,"click"],[1,"border-dashed","border-border"],[1,"flex","py-2","flex-col"],[1,"px-2","flex-col","flex"],[1,"text-xs","text-muted-foreground"],[1,"text-base","text-foreground"],[1,"flex","py-2","flex-col","gap-2"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),e.EFF(4),e.k0s(),e.j41(5,"button",4),e.bIt("click",function(){return o.close()}),e.EFF(6," X "),e.k0s()(),e.nrm(7,"hr",5),e.k0s(),e.j41(8,"div",6)(9,"div",7)(10,"span",8),e.EFF(11,"Detalles"),e.k0s(),e.j41(12,"span",9),e.EFF(13),e.k0s()()(),e.nrm(14,"hr",5),e.j41(15,"div",6)(16,"div",7)(17,"span",8),e.EFF(18,"Fecha"),e.k0s(),e.j41(19,"span",9),e.EFF(20),e.nI1(21,"date"),e.k0s()()(),e.nrm(22,"hr",5),e.j41(23,"div",6)(24,"div",7)(25,"span",8),e.EFF(26,"Producto"),e.k0s(),e.j41(27,"span",9),e.EFF(28),e.nI1(29,"appProduct"),e.k0s()()(),e.nrm(30,"hr",5),e.j41(31,"div",6)(32,"div",7)(33,"span",8),e.EFF(34,"Cantidad"),e.k0s(),e.j41(35,"span",9),e.EFF(36),e.k0s()()(),e.nrm(37,"hr",5),e.j41(38,"div",6)(39,"div",7)(40,"span",8),e.EFF(41,"Almacen"),e.k0s(),e.j41(42,"span",9),e.EFF(43),e.nI1(44,"appWarehouse"),e.k0s()()(),e.nrm(45,"hr",5)(46,"div",10),e.k0s()),2&t&&(e.R7$(4),e.JRh("Salida : "+o.outputProduct.output_id),e.R7$(9),e.JRh(o.outputProduct.detail),e.R7$(7),e.JRh(e.i5U(21,6,o.outputProduct.date_created,"short")),e.R7$(8),e.JRh(e.bMT(29,9,o.outputProduct.product_type_id)),e.R7$(8),e.JRh(o.outputProduct.quantity),e.R7$(7),e.JRh(e.bMT(44,11,o.outputProduct.warehouse_id)))},dependencies:[l.MD,l.vh,W,$.I],encapsulation:2})}return r})();var _t=p(6141);class E{static#e=this.getSlices=(0,g.OD)(_t.J);static#t=this.getOutputs=(0,g.Mz)([E.getSlices.outputs],i=>i);static#o=this.getOutput=(0,g.Mz)([E.getSlices.outputById],i=>i);static#r=this.getStatus=(0,g.Mz)([E.getSlices.status],i=>i)}var D=p(1767);class Q{constructor(i,n,t,o){this.product_type_id=i,this.warehouse_id=n,this.detail=t,this.quantity=o}static create(i){const{product_type_id:n,warehouse_id:t,detail:o,quantity:s}=i;return n?t?o?s?[void 0,new Q(n,t,o,s)]:["Quantity required",void 0]:["Detail required",void 0]:["Warehouse id required",void 0]:["Product type id required",void 0]}}let kt=(()=>{class r{constructor(n){this.actions$=n,this._store=(0,e.WQX)(g.il),this.statusAction=this._store.selectSignal(E.getStatus),this.outputs=this._store.selectSignal(E.getOutputs),this.output=this._store.selectSignal(E.getOutput);const t=(new Date).toISOString().split("T")[0],o=new Date((new Date).getTime()+864e5).toISOString().split("T")[0];this._store.dispatch(new D.f.GetAll({init:t,end:o}))}addItem(n,t,o,s){const[c,u]=Q.create({product_type_id:n,warehouse_id:t,detail:o,quantity:s});if(c)throw c;this._store.dispatch(new D.f.Create(u))}getItems(n){this._store.dispatch(new D.f.GetAll(n))}getItem(n){this._store.dispatch(new D.f.Get(n))}createReport(n){var t=this;return(0,ee.A)(function*(){t._store.dispatch(new D.f.GetAll(n)),yield(0,te._)(t.actions$.pipe((0,g.rM)(D.f.GetAll)));const o=t._store.selectSnapshot(se.i.getWarehouses),s=t._store.selectSnapshot(ne.e.getProductTypes);re(oe(t.outputs().map(v=>({Fecha:v.date_created,Producto:v.product_type_id,Cantidad:v.quantity,Detalle:v.detail,Almacen:o.find(b=>b.warehouse_id===v.warehouse_id)?.name,TipoProducto:s.find(b=>b.product_type_id===v.product_type_id)?.name}))),"reporte.csv")})()}static#e=this.\u0275fac=function(t){return new(t||r)(e.KVO(g.En))};static#t=this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function yt(r,i){}let Ct=(()=>{class r{constructor(){this.modalService=(0,e.WQX)(_.B),this.OutputFacadeService=(0,e.WQX)(kt),this.warehouseFacadeService=(0,e.WQX)(M.p),this.productTypeFacadeService=(0,e.WQX)(J.p),this.dialogService=(0,e.WQX)(T.o),this.warehouses$=this.warehouseFacadeService.warehouses,this.outputs$=this.OutputFacadeService.outputs,this.productTypes$=this.productTypeFacadeService.productTypes,this.onLoading$=this.OutputFacadeService.statusAction,this.onShowItem=!1,this.dialogNotifier=new S.B,this.outputDetailListener={close:()=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1},submit:()=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1},cancel:()=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1}},(0,e.QZP)(()=>{switch(this.onLoading$()){case f.p.LOADING:this.dialogService.open({typeDialog:d.h.isLoading,listener:this.dialogNotifier,data:{title:"Cargando",description:"Espere un momento por favor",icon:"assets/icons/loading.svg"},options:{withActions:!1,withBackground:!0,position:[d.Y.center],colorIcon:"text-primary"}});break;case f.p.SUCCESS:this.dialogNotifier.next(null);const t={typeDialog:d.h.isSuccess,data:{title:"Operacion Exitosa",description:"La operacion se ha completado con exito",icon:"assets/icons/heroicons/outline/check-badge.svg"},options:{withBackground:!1,position:[d.Y.top,d.Y.right],colorIcon:"text-green-500",timeToShow:(0,j.O)(2e3)}};this.dialogService.open(t);break;default:this.dialogNotifier.next(null)}})}ngOnInit(){}onItemSelected(n){const t=this.dcWrapper.viewContainerRef;t.clear();const o=t.createComponent(Ft);o.instance.outputdetailListener=this.outputDetailListener,o.instance.outputProduct=n,this.onShowItem=!0}onAddEvent(){const n={component:k,data:{title:"Detalles de la entrada",description:"Especificaciones necesarias de la entrada a agregar"},dynamicFields:[{component:w,data:{title:"Almacen",items:this.warehouses$().map(t=>({id:t.warehouse_id,name:t.name}))},fieldFormControl:new a.MJ("")},{component:w,data:{title:"Producto",items:this.productTypes$().map(t=>({id:t.product_type_id,name:t.name}))},fieldFormControl:new a.MJ("")},{component:x,data:{placeholder:"Detalle",title:"Detalle"},fieldFormControl:new a.MJ("")},{component:x,data:{placeholder:"Cantidad",title:"Cantidad"},fieldFormControl:new a.MJ("")}]};this.modalService.open(ae,{title:"Ingresar tus api keys",size:"sm",forms:[n],data:{},icon:"assets/icons/heroicons/outline/plus.svg",actions:[{action:F.X.Create,title:"Ingresar"}]}).subscribe({next:t=>{const{Almacen:o,Cantidad:s,Detalle:c,Producto:u}=y(t);this.OutputFacadeService.addItem(u,o,c,s)},error:t=>{console.log({err:t})},complete:()=>{console.log("Complete")}})}onFilterEvents(n){this.OutputFacadeService.getItems(n)}onGenerateReport(){const n={component:k,data:{title:"Parametros de Reporte",description:"Filtros necesarios para generar el reporte"},dynamicFields:[{component:w,data:{title:"Almacen",items:this.warehouses$().map(t=>({id:t.warehouse_id,name:t.name}))},fieldFormControl:new a.MJ},{component:w,data:{title:"Producto",items:this.productTypes$().map(t=>({id:t.product_type_id,name:t.name}))},fieldFormControl:new a.MJ},{component:B,data:{title:"Inicio"},fieldFormControl:new a.MJ},{component:B,data:{title:"Fin"},fieldFormControl:new a.MJ}]};this.modalService.open(ae,{title:"Generar Reporte",size:"sm",forms:[n],data:{},icon:"assets/icons/heroicons/outline/plus.svg",actions:[{action:F.X.Create,title:"Generar"}]}).subscribe({next:t=>{const o=y(t),s={warehouse_id:o.Almacen,product_type_id:o.Producto,init:o.Inicio,end:o.Fin},c=Object.keys(s).reduce((u,m)=>(null!=s[m]&&(u[m]=s[m]),u),{});this.OutputFacadeService.createReport(c)},error:t=>{console.log({err:t})},complete:()=>{console.log("Complete")}})}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-outputs"]],viewQuery:function(t,o){if(1&t&&e.GBs(h.l,5),2&t){let s;e.mGM(s=e.lsd())&&(o.dcWrapper=s.first)}},standalone:!0,features:[e.Jv_([_.B]),e.aNF],decls:5,vars:4,consts:[[3,"classList"],[3,"generareReport","addEvent"],[3,"onfilterEvent","onItemSelect","warehouses","outputs"],["dcWrapper",""]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",0)(2,"app-outputs-header",1),e.bIt("generareReport",function(){return o.onGenerateReport()})("addEvent",function(){return o.onAddEvent()}),e.k0s(),e.j41(3,"app-list-outputs",2),e.bIt("onfilterEvent",function(c){return o.onFilterEvents(c)})("onItemSelect",function(c){return o.onItemSelected(c)}),e.k0s()(),e.DNE(4,yt,0,0,"ng-template",3),e.k0s()),2&t&&(e.Y8G("classList",o.onShowItem?"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-auto  h-full ":"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-hidden  h-full "),e.R7$(),e.Y8G("classList",o.onShowItem?" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-0 md:py-4":" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-4"),e.R7$(2),e.Y8G("warehouses",o.warehouses$())("outputs",o.outputs$()))},dependencies:[l.MD,pt,wt,h.l],encapsulation:2})}return r})(),It=(()=>{class r{constructor(){this.onToggleBtn=new e.bkB}onAddToggle(){this.onToggleBtn.emit()}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-providers-header"]],outputs:{onToggleBtn:"onToggleBtn"},standalone:!0,features:[e.aNF],decls:12,vars:0,consts:[[1,"mb-4","flex","justify-between"],[1,"inline-block"],[1,"font-semibold","text-foreground"],[1,"space-x-1","text-xs","font-medium","text-muted-foreground"],["href","",1,"hover:text-primary"],[1,"inline-block","space-x-4"],[1,"flex-none","rounded-md","bg-primary","px-4","py-2.5","text-xs","font-medium","text-primary-foreground",3,"click"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"h3",2),e.EFF(3,"Almacenes - Proveedores"),e.k0s(),e.j41(4,"div",3)(5,"a",4),e.EFF(6,"Lista"),e.k0s(),e.j41(7,"span"),e.EFF(8," - Proveedores"),e.k0s()()(),e.j41(9,"div",5)(10,"button",6),e.bIt("click",function(){return o.onAddToggle()}),e.EFF(11," Agregar Proveedor "),e.k0s()()())},dependencies:[l.MD],encapsulation:2})}return r})();const Et=["item-table-provider",""];let St=(()=>{class r{static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["","item-table-provider",""]],inputs:{providerProduct:"providerProduct"},standalone:!0,features:[e.aNF],attrs:Et,decls:16,vars:4,consts:[[1,"py-3","pr-3","text-start"],[1,"pl-1"],[1,"mb-1","text-sm","font-semibold","text-muted-foreground","text-center"],[1,"mb-1","text-sm","text-muted-foreground","text-center"],[1,"py-3","pl-3","text-right"],[1,"pr-1"],[1,"text-sm","text-muted-foreground","border","p-1","rounded-md"]],template:function(t,o){1&t&&(e.j41(0,"td",0)(1,"div",1)(2,"span",2),e.EFF(3),e.k0s()()(),e.j41(4,"td",0)(5,"div",1)(6,"span",3),e.EFF(7),e.k0s()()(),e.j41(8,"td",0)(9,"div",1)(10,"span",2),e.EFF(11),e.k0s()()(),e.j41(12,"td",4)(13,"div",5)(14,"span",6),e.EFF(15),e.k0s()()()),2&t&&(e.R7$(3),e.JRh(o.providerProduct.name),e.R7$(4),e.JRh(o.providerProduct.phone),e.R7$(4),e.JRh(o.providerProduct.email),e.R7$(4),e.JRh(o.providerProduct.address))},dependencies:[l.MD],encapsulation:2})}return r})();function jt(r,i){if(1&r){const n=e.RV6();e.j41(0,"tr",8),e.bIt("click",function(){const o=e.eBV(n).$implicit,s=e.XpG();return e.Njj(s.onSelectTable(o))}),e.k0s()}2&r&&e.Y8G("providerProduct",i.$implicit)}let Tt=(()=>{class r{constructor(){this.providers=[],this.onSelectItem=new e.bkB}onSelectTable(n){this.onSelectItem.emit(n)}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-list-providers"]],inputs:{providers:"providers"},outputs:{onSelectItem:"onSelectItem"},standalone:!0,features:[e.aNF],decls:16,vars:1,consts:[[1,"flex-col","rounded-lg","bg-background","px-8","py-8","sm:flex-row"],[1,"w-full","mx-auto"],[1,"relative","overflow-x-auto","h-72","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","overflow-auto","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted"],[1,"w-full","table-auto"],[1,"text-xs","uppercase","text-muted-foreground","sticky","top-0","bg-background"],[1,"py-3","text-left"],[1,"py-3","text-right"],["item-table-provider","","class","border-b border-dashed border-border hover:bg-card",3,"providerProduct","click",4,"ngFor","ngForOf"],["item-table-provider","",1,"border-b","border-dashed","border-border","hover:bg-card",3,"click","providerProduct"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"table",3)(4,"thead",4)(5,"tr")(6,"th",5),e.EFF(7,"Nombre"),e.k0s(),e.j41(8,"th",5),e.EFF(9,"Telefono"),e.k0s(),e.j41(10,"th",5),e.EFF(11,"Correo"),e.k0s(),e.j41(12,"th",6),e.EFF(13,"Direccion"),e.k0s()()(),e.j41(14,"tbody"),e.DNE(15,jt,1,1,"tr",7),e.k0s()()()()()),2&t&&(e.R7$(15),e.Y8G("ngForOf",o.providers))},dependencies:[l.MD,l.Sq,St],encapsulation:2})}return r})(),Pt=(()=>{class r{constructor(){this.items=[{id:1,name:"Activo"},{id:2,name:"Inactivo"}],this.providerForm=new a.gE({provider_id:new a.MJ,name:new a.MJ,phone:new a.MJ,email:new a.MJ,address:new a.MJ,status:new a.MJ})}ngOnInit(){this.providerForm=new a.gE({provider_id:new a.MJ(this.provider.provider_id),name:new a.MJ(this.provider.name),phone:new a.MJ(this.provider.phone),email:new a.MJ(this.provider.email),address:new a.MJ(this.provider.address),status:new a.MJ(this.provider.status)})}close(){this.detailListener.close()}onSubmit(){this.detailListener.submit(this.providerForm)}onDelete(){this.detailListener.delete(this.provider.provider_id)}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-providers-detail"]],inputs:{detailListener:"detailListener",provider:"provider"},standalone:!0,features:[e.aNF],decls:44,vars:3,consts:[[1,"flex","w-screen","md:w-96","bg-background","h-full","overflow-auto","gap-2","px-3","flex-col","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted",3,"ngSubmit","formGroup"],[1,"sticky","top-0","flex","flex-col","bg-background"],[1,"flex","relative","flex-row","items-center","gap-2","py-3","justify-start"],[1,"text-lg","text-foreground"],[1,"absolute","cursor-pointer","right-0","inline-flex","w-fit","justify-center","rounded-md","bg-background","px-3","py-2","text-sm","font-semibold","text-foreground","shadow-sm","ring-1","ring-inset","ring-foreground","hover:bg-card","sm:mt-0","sm:w-fit",3,"click"],[1,"border-dashed","border-border"],[1,"flex","py-2","flex-col"],[1,"px-2","flex-col","flex"],[1,"text-xs","text-muted-foreground"],["type","text","formControlName","name"],["type","text","formControlName","phone"],["type","text","formControlName","email"],["type","text","formControlName","address"],["formControlName","status",3,"items"],[1,"flex","py-2","flex-col","gap-2"],["type","submit",1,"bg-primary","text-white","rounded-md","p-2"],["type","button",1,"bg-red-500","text-white","rounded-md","p-2",3,"click"]],template:function(t,o){1&t&&(e.j41(0,"form",0),e.bIt("ngSubmit",function(){return o.onSubmit()}),e.j41(1,"div",1)(2,"div",2)(3,"span",3),e.EFF(4),e.k0s(),e.j41(5,"button",4),e.bIt("click",function(){return o.close()}),e.EFF(6," X "),e.k0s()(),e.nrm(7,"hr",5),e.k0s(),e.j41(8,"div",6)(9,"div",7)(10,"span",8),e.EFF(11,"Nombre"),e.k0s(),e.nrm(12,"input",9),e.k0s()(),e.nrm(13,"hr",5),e.j41(14,"div",6)(15,"div",7)(16,"span",8),e.EFF(17,"Telefono"),e.k0s(),e.nrm(18,"input",10),e.k0s()(),e.nrm(19,"hr",5),e.j41(20,"div",6)(21,"div",7)(22,"span",8),e.EFF(23,"Email"),e.k0s(),e.nrm(24,"input",11),e.k0s()(),e.nrm(25,"hr",5),e.j41(26,"div",6)(27,"div",7)(28,"span",8),e.EFF(29,"Address"),e.k0s(),e.nrm(30,"input",12),e.k0s()(),e.nrm(31,"hr",5),e.j41(32,"div",6)(33,"div",7)(34,"span",8),e.EFF(35,"Estado"),e.k0s(),e.nrm(36,"app-select",13),e.k0s()(),e.nrm(37,"hr",5),e.j41(38,"div",14)(39,"button",15),e.EFF(40," Guardar Cambios "),e.k0s(),e.nrm(41,"hr"),e.j41(42,"button",16),e.bIt("click",function(){return o.onDelete()}),e.EFF(43," Eliminar "),e.k0s()()()),2&t&&(e.Y8G("formGroup",o.providerForm),e.R7$(4),e.JRh("Proveedores"),e.R7$(32),e.Y8G("items",o.items))},dependencies:[l.MD,a.YN,a.qT,a.me,a.BC,a.cb,a.X1,a.j4,a.JD,A.w],encapsulation:2})}return r})();function Rt(r,i){}let Dt=(()=>{class r{ngOnInit(){}constructor(){this.onShowItem=!1,this.modalService=(0,e.WQX)(_.B),this.dialogService=(0,e.WQX)(T.o),this.providerFacadeService=(0,e.WQX)(X),this.providers$=this.providerFacadeService.providers,this.onLoading$=this.providerFacadeService.statusAction,this.dialogNotifier=new S.B,this.detailListener={close:()=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1},cancel:()=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1},submit:n=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1,this.dialogService.open({typeDialog:d.h.isAlert,data:{title:"Advertencia",description:"Estas seguro de realizar esta accion",icon:"assets/icons/heroicons/outline/exclamation.svg"},options:{withActions:!0,position:[d.Y.center],withBackground:!0,colorIcon:"text-red-500"}}).subscribe(o=>{const{provider_id:s,name:c,phone:u,email:m,address:v,status:b}=n.value;this.providerFacadeService.updateItem(s,c,u,m,v,b)})},delete:n=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1,this.dialogService.open({typeDialog:d.h.isAlert,data:{title:"Advertencia",description:"Estas seguro de realizar esta accion",icon:"assets/icons/heroicons/outline/exclamation.svg"},options:{withActions:!0,position:[d.Y.center],withBackground:!0,colorIcon:"text-red-500"}}).subscribe(o=>{this.providerFacadeService.deleteItem(n)})}},(0,e.QZP)(()=>{switch(this.onLoading$()){case f.p.LOADING:this.dialogService.open({typeDialog:d.h.isLoading,listener:this.dialogNotifier,data:{title:"Cargando",description:"Espere un momento por favor",icon:"assets/icons/loading.svg"},options:{withActions:!1,withBackground:!0,position:[d.Y.center],colorIcon:"text-primary"}});break;case f.p.SUCCESS:this.dialogNotifier.next(null);const t={typeDialog:d.h.isSuccess,data:{title:"Operacion Exitosa",description:"La operacion se ha completado con exito",icon:"assets/icons/heroicons/outline/check-badge.svg"},options:{withBackground:!1,position:[d.Y.top,d.Y.right],colorIcon:"text-green-500",timeToShow:(0,j.O)(2e3)}};this.dialogService.open(t);break;default:this.dialogNotifier.next(null)}})}onAddProvider(){const n={component:k,data:{title:"Detalles del nuevo proveedor",description:"Especificaciones necesarias del proveedor a agregar"},dynamicFields:[{component:x,data:{placeholder:"Nombre del proveedor",title:"Proveedor"},fieldFormControl:new a.MJ("")},{component:x,data:{placeholder:"78140498",title:"Telefono"},fieldFormControl:new a.MJ("")},{component:x,data:{placeholder:"monster@gmail.com",title:"Email"},fieldFormControl:new a.MJ("")},{component:x,data:{placeholder:"Av. 123",title:"Direccion"},fieldFormControl:new a.MJ("")}]};this.modalService.open(ie,{title:"Agregar Almacen",size:"sm",forms:[n],data:{},icon:"assets/icons/heroicons/outline/plus.svg",actions:[{action:F.X.Create,title:"Ingresar"}]}).subscribe({next:t=>{const o=y(t);this.providerFacadeService.addItem(o.Proveedor,o.Telefono,o.Email,o.Direccion,1)},error:t=>{},complete:()=>{}})}onSelectProvider(n){const t=this.dcWrapper.viewContainerRef;t.clear();const o=t.createComponent(Pt);o.instance.detailListener=this.detailListener,o.instance.provider=n,this.onShowItem=!0}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-providers"]],viewQuery:function(t,o){if(1&t&&e.GBs(h.l,5),2&t){let s;e.mGM(s=e.lsd())&&(o.dcWrapper=s.first)}},standalone:!0,features:[e.aNF],decls:5,vars:3,consts:[[3,"classList"],[3,"onToggleBtn"],[3,"onSelectItem","providers"],["dcWrapper",""]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",0)(2,"app-providers-header",1),e.bIt("onToggleBtn",function(){return o.onAddProvider()}),e.k0s(),e.j41(3,"app-list-providers",2),e.bIt("onSelectItem",function(c){return o.onSelectProvider(c)}),e.k0s()(),e.DNE(4,Rt,0,0,"ng-template",3),e.k0s()),2&t&&(e.Y8G("classList",o.onShowItem?"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-auto  h-full ":"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-hidden  h-full "),e.R7$(),e.Y8G("classList",o.onShowItem?" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-0 md:py-4":" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-4"),e.R7$(2),e.Y8G("providers",o.providers$()))},dependencies:[l.MD,It,Tt,h.l],encapsulation:2})}return r})();const Lt=["item-list-products-warehouse",""];let Mt=(()=>{class r{static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["","item-list-products-warehouse",""]],inputs:{product:"product"},standalone:!0,features:[e.aNF],attrs:Lt,decls:14,vars:7,consts:[[1,"py-3","pl-3","text-start"],[1,"pr-1"],[1,"text-sm","text-muted-foreground"],[1,"py-3","pl-3","text-right"]],template:function(t,o){1&t&&(e.j41(0,"td",0)(1,"div",1)(2,"span",2),e.EFF(3),e.nI1(4,"appProduct"),e.k0s()()(),e.j41(5,"td",0)(6,"div",1)(7,"span",2),e.EFF(8),e.nI1(9,"appWarehouse"),e.k0s()()(),e.j41(10,"td",3)(11,"div",1)(12,"span",2),e.EFF(13),e.k0s()()()),2&t&&(e.R7$(3),e.JRh(e.bMT(4,3,o.product.product_type_id)),e.R7$(5),e.JRh(e.bMT(9,5,o.product.warehouse_id)),e.R7$(5),e.JRh(o.product.quantity))},dependencies:[l.MD,W,$.I],encapsulation:2})}return r})();const ce=(r,i)=>({"border-primary text-primary outline-none active-tab":r,"text-muted-foreground border-transparent":i});function Wt(r,i){if(1&r){const n=e.RV6();e.j41(0,"button",18),e.bIt("click",function(){const o=e.eBV(n).$implicit,s=e.XpG();return e.Njj(s.selectWarehouse(o.warehouse_id))}),e.EFF(1),e.k0s()}if(2&r){const n=i.$implicit,t=e.XpG();e.Y8G("ngClass",e.l_i(2,ce,t.selectedWarehouse===n.warehouse_id,t.selectedWarehouse!==n.warehouse_id)),e.R7$(),e.SpI(" ",n.name," ")}}function $t(r,i){if(1&r){const n=e.RV6();e.j41(0,"tr",19),e.bIt("click",function(){const o=e.eBV(n).$implicit,s=e.XpG();return e.Njj(s.onSelectTable(o))}),e.k0s()}2&r&&e.Y8G("product",i.$implicit)}let Nt=(()=>{class r{constructor(){this.onItemSelect=new e.bkB,this.onfilterEvent=new e.bkB,this.actualPage=1,this.itemsPerPage=30,this.selectedWarehouse=null}selectWarehouse(n){this.selectedWarehouse=n,this.actualPage=1,this.filterEvent()}onSelectTable(n){this.onItemSelect.emit(n)}previousPage(){this.actualPage>1&&(this.actualPage=this.actualPage-1),this.filterEvent()}nextPage(){this.actualPage=this.actualPage+1,this.filterEvent()}filterEvent(){let n;this.selectedWarehouse?(console.log("Con Warehouse"),n={warehouse_id:this.selectedWarehouse,limit:this.itemsPerPage,offset:(this.actualPage-1)*this.itemsPerPage}):(console.log("Sin Warehouse"),n={limit:this.itemsPerPage,offset:(this.actualPage-1)*this.itemsPerPage}),this.onfilterEvent.emit(n)}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-list-products-warehouse"]],inputs:{products:"products",warehouses:"warehouses"},outputs:{onItemSelect:"onItemSelect",onfilterEvent:"onfilterEvent"},standalone:!0,features:[e.aNF],decls:30,vars:7,consts:[[1,"flex-col","rounded-lg","bg-background","px-8","py-8","sm:flex-row"],[1,"w-full","mx-auto"],[1,"flex","w-full","overflow-auto","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted"],[1,"py-2","px-4","text-sm","font-medium","text-primary","border-b-2","hover:border-primary","hover:text-primary","focus:outline-none",3,"click","ngClass"],["class","py-2 px-4 text-sm font-medium border-b-2  hover:border-primary hover:text-primary focus:outline-none",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"border-dashed","border-border"],[1,"w-full","flex","flex-col","p-2","gap-2"],[1,"flex","flex-col","gap-2","items-end","md:flex-row","md:items-center","justify-between","w-full"],[1,"w-full","md:w-1/2"],[1,"w-full","md:w-1/2","flex","items-center","justify-end","gap-2"],[1,"p-1","text-white","rounded-md","bg-primary",3,"click"],[1,"text-foreground","text-base"],[1,"relative","overflow-x-auto","h-72","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","overflow-auto","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted"],[1,"w-full","table-auto"],[1,"text-xs","uppercase","text-muted-foreground","sticky","top-0","bg-background"],[1,"py-3","text-left"],[1,"py-3","text-right"],["item-list-products-warehouse","","class","border-b border-dashed border-border hover:bg-card",3,"product","click",4,"ngFor","ngForOf"],[1,"py-2","px-4","text-sm","font-medium","border-b-2","hover:border-primary","hover:text-primary","focus:outline-none",3,"click","ngClass"],["item-list-products-warehouse","",1,"border-b","border-dashed","border-border","hover:bg-card",3,"click","product"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),e.bIt("click",function(){return o.selectWarehouse(null)}),e.EFF(4," Todos "),e.k0s(),e.DNE(5,Wt,2,5,"button",4),e.k0s(),e.nrm(6,"hr",5),e.j41(7,"div",6)(8,"div",7),e.nrm(9,"div",8),e.j41(10,"div",9)(11,"button",10),e.bIt("click",function(){return o.previousPage()}),e.EFF(12,"<"),e.k0s(),e.j41(13,"span",11),e.EFF(14),e.k0s(),e.j41(15,"button",10),e.bIt("click",function(){return o.nextPage()}),e.EFF(16,">"),e.k0s()()()(),e.nrm(17,"hr",5),e.j41(18,"div",12)(19,"table",13)(20,"thead",14)(21,"tr")(22,"th",15),e.EFF(23,"Producto"),e.k0s(),e.j41(24,"th",15),e.EFF(25,"Almacen"),e.k0s(),e.j41(26,"th",16),e.EFF(27,"Cantidad"),e.k0s()()(),e.j41(28,"tbody"),e.DNE(29,$t,1,1,"tr",17),e.k0s()()()()()),2&t&&(e.R7$(3),e.Y8G("ngClass",e.l_i(4,ce,null===o.selectedWarehouse,null!==o.selectedWarehouse)),e.R7$(2),e.Y8G("ngForOf",o.warehouses),e.R7$(9),e.JRh(o.actualPage),e.R7$(15),e.Y8G("ngForOf",o.products))},dependencies:[l.MD,l.YU,l.Sq,Mt],encapsulation:2})}return r})(),At=(()=>{class r{onAddToggle(){}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-products-warehouse-header"]],standalone:!0,features:[e.aNF],decls:10,vars:0,consts:[[1,"mb-4","flex","justify-between"],[1,"inline-block"],[1,"font-semibold","text-foreground"],[1,"space-x-1","text-xs","font-medium","text-muted-foreground"],["href","",1,"hover:text-primary"],[1,"inline-block","space-x-4"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"h3",2),e.EFF(3,"Productos - Lista"),e.k0s(),e.j41(4,"div",3)(5,"a",4),e.EFF(6,"Lista"),e.k0s(),e.j41(7,"span"),e.EFF(8," - Productos"),e.k0s()()(),e.nrm(9,"div",5),e.k0s())},dependencies:[l.MD],encapsulation:2})}return r})();var Gt=p(5396);function Bt(r,i){}const Ot=[{path:"",component:Ae,children:[{path:"",redirectTo:"warehouses",pathMatch:"full"},{path:"products",component:Ce},{path:"products-warehouse",component:(()=>{class r{constructor(){this.onShowItem=!1,this.warehouseFacadeService=(0,e.WQX)(M.p),this.productFacadeService=(0,e.WQX)(Gt.x),this.onLoading$=this.productFacadeService.statusAction,this.products$=this.productFacadeService.products,this.warehouses$=this.warehouseFacadeService.warehouses,this.dialogService=(0,e.WQX)(T.o),this.dialogNotifier=new S.B,(0,e.QZP)(()=>{switch(this.onLoading$()){case f.p.LOADING:this.dialogService.open({typeDialog:d.h.isLoading,listener:this.dialogNotifier,data:{title:"Cargando",description:"Espere un momento por favor",icon:"assets/icons/loading.svg"},options:{withActions:!1,withBackground:!0,position:[d.Y.center],colorIcon:"text-primary"}});break;case f.p.SUCCESS:this.dialogNotifier.next(null);const t={typeDialog:d.h.isSuccess,data:{title:"Operacion Exitosa",description:"La operacion se ha completado con exito",icon:"assets/icons/heroicons/outline/check-badge.svg"},options:{withBackground:!1,position:[d.Y.top,d.Y.right],colorIcon:"text-green-500",timeToShow:(0,j.O)(2e3)}};this.dialogService.open(t);break;default:this.dialogNotifier.next(null)}})}onFilterEvents(n){this.productFacadeService.getItems(n)}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-products-warehouse"]],standalone:!0,features:[e.aNF],decls:5,vars:4,consts:[[3,"classList"],[3,"onfilterEvent","products","warehouses"],["dcWrapper",""]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",0),e.nrm(2,"app-products-warehouse-header"),e.j41(3,"app-list-products-warehouse",1),e.bIt("onfilterEvent",function(c){return o.onFilterEvents(c)}),e.k0s()(),e.DNE(4,Bt,0,0,"ng-template",2),e.k0s()),2&t&&(e.Y8G("classList",o.onShowItem?"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-auto  h-full ":"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-hidden  h-full "),e.R7$(),e.Y8G("classList",o.onShowItem?" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-0 md:py-4":" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-4"),e.R7$(2),e.Y8G("products",o.products$())("warehouses",o.warehouses$()))},dependencies:[l.MD,Nt,At],encapsulation:2})}return r})()},{path:"discounts",component:Se},{path:"categories",component:Ne},{path:"warehouses",component:ut},{path:"inputs",component:et},{path:"outputs",component:Ct},{path:"providers",component:Dt},{path:"**",redirectTo:"errors/404"}]}];let Jt=(()=>{class r{static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275mod=e.$C({type:r});static#o=this.\u0275inj=e.G2t({imports:[O.iI.forChild(Ot),O.iI]})}return r})(),Yt=(()=>{class r{static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275mod=e.$C({type:r});static#o=this.\u0275inj=e.G2t({imports:[Jt]})}return r})()}}]);