"use strict";(self.webpackChunkinv=self.webpackChunkinv||[]).push([[400],{3400:(Z,E,d)=>{d.r(E),d.d(E,{IdentityModule:()=>fe});var v=d(3030),e=d(3953);let L=(()=>{class n{static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-identity"]],standalone:!0,features:[e.aNF],decls:1,vars:0,template:function(s,r){1&s&&e.nrm(0,"router-outlet")},dependencies:[v.n3],encapsulation:2})}return n})();var p=d(177);let M=(()=>{class n{constructor(){this.onAddToggle=new e.bkB}onAdd(){this.onAddToggle.emit()}static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-users-header"]],outputs:{onAddToggle:"onAddToggle"},standalone:!0,features:[e.aNF],decls:12,vars:0,consts:[[1,"mb-4","flex","justify-between"],[1,"inline-block"],[1,"font-semibold","text-foreground"],[1,"space-x-1","text-xs","font-medium","text-muted-foreground"],["href","",1,"hover:text-primary"],[1,"inline-block","space-x-4"],[1,"flex-none","rounded-md","bg-primary","px-4","py-2.5","text-xs","font-medium","text-primary-foreground",3,"click"]],template:function(s,r){1&s&&(e.j41(0,"div",0)(1,"div",1)(2,"h3",2),e.EFF(3,"Usuarios - Lista"),e.k0s(),e.j41(4,"div",3)(5,"a",4),e.EFF(6,"Lista"),e.k0s(),e.j41(7,"span"),e.EFF(8," - Usuarios"),e.k0s()()(),e.j41(9,"div",5)(10,"button",6),e.bIt("click",function(){return r.onAdd()}),e.EFF(11," Agregar Usuario "),e.k0s()()())},dependencies:[p.MD],encapsulation:2})}return n})();var U=d(8860);const B=["item-table-user",""];let Y=(()=>{class n{static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["","item-table-user",""]],inputs:{user:"user"},standalone:!0,features:[e.aNF],attrs:B,decls:13,vars:6,consts:[[1,"py-3","pr-3","text-start"],[1,"pl-1"],[1,"mb-1","text-sm","font-semibold","text-foreground","text-center"],[1,"py-3","pl-3","text-right"],[1,"pr-1"],[1,"text-sm","rounded-md",3,"ngClass"]],template:function(s,r){1&s&&(e.j41(0,"td",0)(1,"div",1)(2,"span",2),e.EFF(3),e.k0s()()(),e.j41(4,"td",0)(5,"div",1)(6,"span",2),e.EFF(7),e.k0s()()(),e.j41(8,"td",3)(9,"div",4)(10,"span",5),e.EFF(11),e.nI1(12,"appTypeStatus"),e.k0s()()()),2&s&&(e.R7$(3),e.JRh(r.user.username),e.R7$(4),e.JRh(r.user.name),e.R7$(3),e.Y8G("ngClass",1===r.user.status?"text-sm text-green-600 border p-1 border-green-600 rounded-md":"text-sm text-red-600 border p-1 border-red-600 rounded-md"),e.R7$(),e.JRh(e.bMT(12,4,r.user.status)))},dependencies:[p.MD,p.YU,U.N],encapsulation:2})}return n})();function D(n,l){if(1&n){const t=e.RV6();e.j41(0,"tr",10),e.bIt("click",function(){const r=e.eBV(t).$implicit,i=e.XpG();return e.Njj(i.onSelectTable(r))}),e.k0s()}2&n&&e.Y8G("user",l.$implicit)}let A=(()=>{class n{constructor(){this.onSelectUser=new e.bkB}ngOnInit(){}onSelectTable(t){this.onSelectUser.emit(t)}static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-users-list"]],inputs:{users:"users"},outputs:{onSelectUser:"onSelectUser"},standalone:!0,features:[e.aNF],decls:17,vars:1,consts:[[1,"flex-col","rounded-lg","bg-background","px-8","py-8","sm:flex-row"],[1,"mb-4","flex","items-center","justify-between"],[1,"flex-col","items-center"],[1,"text-xs","text-foreground"],[1,"relative","overflow-x-auto"],[1,"w-full","table-auto"],[1,"text-xs","uppercase","text-muted-foreground"],[1,"py-3","text-left"],[1,"py-3","text-right"],["item-table-user","","class","border-b border-dashed border-border hover:bg-card",3,"user","click",4,"ngFor","ngForOf"],["item-table-user","",1,"border-b","border-dashed","border-border","hover:bg-card",3,"click","user"]],template:function(s,r){1&s&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),e.EFF(4,"Lista de Usuarios"),e.k0s()()(),e.j41(5,"div",4)(6,"table",5)(7,"thead",6)(8,"tr")(9,"th",7),e.EFF(10,"Username"),e.k0s(),e.j41(11,"th",7),e.EFF(12,"name"),e.k0s(),e.j41(13,"th",8),e.EFF(14,"Status"),e.k0s()()(),e.j41(15,"tbody"),e.DNE(16,D,1,1,"tr",9),e.k0s()()()()),2&s&&(e.R7$(16),e.Y8G("ngForOf",r.users))},dependencies:[p.MD,p.Sq,Y],encapsulation:2})}return n})();var u=d(1413),T=d(7249),o=d(2934),m=d(5227);class h{static#e=this.getSlices=(0,o.OD)(m.b);static#t=this.getUsers=(0,o.Mz)([h.getSlices.users],l=>l);static#s=this.getUser=(0,o.Mz)([h.getSlices.userById],l=>l);static#n=this.getStatus=(0,o.Mz)([h.getSlices.status],l=>l)}var w=d(1451);let K=(()=>{class n{constructor(){this._store=(0,e.WQX)(o.il),this.users=this._store.selectSignal(h.getSlices.users),this.userByUsername=this._store.selectSignal(h.getUser),this.status=this._store.selectSignal(h.getStatus),this._store.dispatch(new w.z.GetAll({}))}getAll(t){this._store.dispatch(new w.z.GetAll(t))}getOne(t){this._store.dispatch(new w.z.Get(t))}create(t){this._store.dispatch(new w.z.Create(t))}update(t){this._store.dispatch(new w.z.Update(t))}static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var N=d(6494),J=d(9652),y=d(6007),f=d(4449),a=d(9417),g=d(9969),X=d(1467);function ee(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",2)(1,"span",3),e.EFF(2),e.k0s(),e.j41(3,"button",4),e.bIt("click",function(){const r=e.eBV(t).index,i=e.XpG();return e.Njj(i.onRemove(r))}),e.qSk(),e.j41(4,"svg",5),e.nrm(5,"path",6),e.k0s()()()}if(2&n){const t=l.$implicit;e.R7$(2),e.JRh(t.name)}}let te=(()=>{class n{constructor(){this.onRemoveTag=new e.bkB}onRemove(t){const s=this.tags.splice(t,1);this.onRemoveTag.emit(s)}static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-list-tags"]],inputs:{tags:"tags"},outputs:{onRemoveTag:"onRemoveTag"},standalone:!0,features:[e.aNF],decls:2,vars:1,consts:[[1,"flex","flex-row","gap-2","flex-wrap","p-2"],["class","flex p-2 border rounded-md ",4,"ngFor","ngForOf"],[1,"flex","p-2","border","rounded-md"],[1,"text-muted-foreground"],[1,"ml-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-4","w-4","text-muted-foreground"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"]],template:function(s,r){1&s&&(e.j41(0,"div",0),e.DNE(1,ee,6,1,"div",1),e.k0s()),2&s&&(e.R7$(),e.Y8G("ngForOf",r.tags))},dependencies:[p.MD,p.Sq,a.X1,a.YN],encapsulation:2})}return n})(),se=(()=>{class n{constructor(){this.selectedList=[],this.value=null,this.isDisabled=!1,this.withFilter=!1,this.cdr=(0,e.WQX)(e.gRc)}writeValue(t){t&&(this.selectedList=t.split(",").map(s=>this.items.find(r=>r.id==parseInt(s))),this.value=t,this.cdr.markForCheck())}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisableState(t){this.isDisabled=t}changeValue(t){this.value=t,this.onTouched?.(),this.onChange?.(t),this.cdr.markForCheck()}ngOnInit(){}onSelectedItem(t){this.selectedList.find(s=>s.id==t)||(this.selectedList.push(this.items.find(s=>s.id==t)),this.changeValue(this.selectedList.map(s=>s.id).join(",")))}onRemoveTag(t){this.selectedList=this.selectedList.filter(s=>s.id!==t.id),this.changeValue(this.selectedList.map(s=>s.id).join(","))}static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-multiple-select"]],inputs:{items:"items",withFilter:"withFilter"},standalone:!0,features:[e.Jv_([{provide:a.kq,useExisting:(0,e.Rfq)(()=>n),multi:!0}]),e.aNF],decls:3,vars:3,consts:[[1,"flex","flex-col","gap-2"],[3,"onItemSelected","items","withFilter"],[3,"onRemoveTag","tags"]],template:function(s,r){1&s&&(e.j41(0,"div",0)(1,"app-select",1),e.bIt("onItemSelected",function(c){return r.onSelectedItem(c)}),e.k0s(),e.j41(2,"app-list-tags",2),e.bIt("onRemoveTag",function(c){return r.onRemoveTag(c)}),e.k0s()()),2&s&&(e.R7$(),e.Y8G("items",r.items)("withFilter",!0),e.R7$(),e.Y8G("tags",r.selectedList))},dependencies:[p.MD,X.w,te,a.YN,a.X1],encapsulation:2})}return n})(),H=(()=>{class n{constructor(){this.cdr=(0,e.WQX)(e.gRc),this.isOpen=!1,this.listItemsRol=[],this.statusList=[{id:1,name:"Activo"},{id:2,name:"Inactivo"}],this.userForm=new a.gE({id:new a.MJ,username:new a.MJ,name:new a.MJ,password:new a.MJ,confirm:new a.MJ,roles:new a.MJ,status:new a.MJ})}ngAfterViewInit(){this.listItemsRol=this.rols.map(t=>({id:t.rol_id,name:t.rol_name})),this.cdr.detectChanges(),this.userEntity&&this.userForm.patchValue({id:this.userEntity.user_id,username:this.userEntity.username,name:this.userEntity.name,roles:this.userEntity.rols,status:this.userEntity.status}),this.cdr.detectChanges()}close(){this.detailListener?.close()}onSubmit(){this.cdr.detectChanges(),this.detailListener?.submit(this.userForm)}static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-user-form"]],inputs:{rols:"rols",userEntity:"userEntity",detailListener:"detailListener"},standalone:!0,features:[e.aNF],decls:41,vars:5,consts:[[1,"shadow-md","flex","mt-2","w-screen","md:w-[500px]","bg-background","l","md:h-[95%]","overflow-auto","px-3","flex-col","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted",3,"ngSubmit","formGroup"],[1,"sticky","top-0","flex","flex-col","bg-background"],[1,"flex","relative","flex-row","items-center","gap-2","py-3","justify-start"],[1,"text-lg","text-foreground"],["type","button",1,"absolute","cursor-pointer","right-0","inline-flex","w-fit","justify-center","rounded-md","bg-background","px-3","py-2","text-sm","font-semibold","text-foreground","shadow-sm","ring-1","ring-inset","ring-foreground","hover:bg-card","sm:mt-0","sm:w-fit",3,"click"],[1,"border-dashed","border-border"],[1,"flex","flex-col","gap-2","py-2","w-full"],["for","username",1,"text-muted-foreground"],["name","username","type","text","formControlName","username","placeholder","Username",1,"w-full"],["for","name",1,"text-muted-foreground"],["name","name","type","text","formControlName","name","placeholder","Walter ibanez",1,"w-full"],["for","roles",1,"text-muted-foreground"],["name","roles","formControlName","roles",3,"items"],["for","status",1,"text-muted-foreground"],["name","status","formControlName","status",3,"items"],["for","password",1,"text-muted-foreground"],["name","password","type","text","formControlName","password","placeholder","Walter ibanez",1,"w-full"],["name","confirm","type","text","formControlName","confirm","placeholder","Walter ibanez",1,"w-full"],[1,"flex","py-2","flex-col","gap-2"],["type","submit",1,"bg-primary","text-white","rounded-md","p-2"]],template:function(s,r){1&s&&(e.j41(0,"form",0),e.bIt("ngSubmit",function(){return r.onSubmit()}),e.j41(1,"div",1)(2,"div",2)(3,"span",3),e.EFF(4),e.k0s(),e.j41(5,"button",4),e.bIt("click",function(){return r.close()}),e.EFF(6," X "),e.k0s()(),e.nrm(7,"hr",5),e.k0s(),e.j41(8,"div",6)(9,"label",7),e.EFF(10,"Username"),e.k0s(),e.nrm(11,"input",8),e.k0s(),e.nrm(12,"hr",5),e.j41(13,"div",6)(14,"label",9),e.EFF(15,"Nombres"),e.k0s(),e.nrm(16,"input",10),e.k0s(),e.nrm(17,"hr",5),e.j41(18,"div",6)(19,"label",11),e.EFF(20,"Roles"),e.k0s(),e.nrm(21,"app-multiple-select",12),e.k0s(),e.nrm(22,"hr",5),e.j41(23,"div",6)(24,"label",13),e.EFF(25,"Status"),e.k0s(),e.nrm(26,"app-select",14),e.k0s(),e.nrm(27,"hr",5),e.j41(28,"div",6)(29,"label",15),e.EFF(30,"Password"),e.k0s(),e.nrm(31,"input",16),e.k0s(),e.nrm(32,"hr",5),e.j41(33,"div",6)(34,"label",9),e.EFF(35,"Confirmacion"),e.k0s(),e.nrm(36,"input",17),e.k0s(),e.nrm(37,"hr",5),e.j41(38,"div",18)(39,"button",19),e.EFF(40," Guardar Cambios "),e.k0s()()()),2&s&&(e.Y8G("formGroup",r.userForm)("@openClose",r.isOpen?"open":"closed"),e.R7$(4),e.JRh("Agregar Usuario"),e.R7$(17),e.Y8G("items",r.listItemsRol),e.R7$(5),e.Y8G("items",r.statusList))},dependencies:[p.MD,a.X1,a.qT,a.me,a.BC,a.cb,a.j4,a.JD,a.YN,se,X.w],encapsulation:2,data:{animation:[(0,g.hZ)("openClose",[(0,g.wk)("open",(0,g.iF)({opacity:1,transform:"translateY(0)",visibility:"visible"})),(0,g.wk)("closed",(0,g.iF)({opacity:0,transform:"translateY(-20px)",visibility:"hidden"})),(0,g.kY)("open => closed",[(0,g.i0)("0.5s")]),(0,g.kY)("closed => open",[(0,g.i0)("0.5s")])])]}})}return n})();var _=d(8059),ne=d(3517);class C{static#e=this.getSlices=(0,o.OD)(ne.$);static#t=this.getRols=(0,o.Mz)([C.getSlices.rols],l=>l);static#s=this.getRol=(0,o.Mz)([C.getSlices.rolById],l=>l);static#n=this.getStatus=(0,o.Mz)([C.getSlices.status],l=>l)}let z=(()=>{class n{constructor(){this._store=(0,e.WQX)(o.il),this.rols=this._store.selectSignal(C.getSlices.rols),this.rolById=this._store.selectSignal(C.getRol),this.status=this._store.selectSignal(C.getStatus),this._store.dispatch(new _.j.GetAll({}))}getAll(t){this._store.dispatch(new _.j.GetAll(t))}getOne(t){this._store.dispatch(new _.j.Get(t))}create(t){this._store.dispatch(new _.j.Create(t))}update(t){this._store.dispatch(new _.j.Update(t))}delete(t){this._store.dispatch(new _.j.Delete(t))}static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class G{constructor(l,t,s,r,i,c){this.username=l,this.password=t,this.confirm=s,this.status=r,this.rols=i,this.name=c}static create(l){const{username:t,password:s,confirm:r,status:i,roles:c,name:b}=l;return t?s?r?i?b?c?[void 0,new G(t,s,r,i,c,b)]:["Rols is required",void 0]:["Name is required",void 0]:["Status is required",void 0]:["Passsword confirmation is required",void 0]:["Password is required",void 0]:["Username is required",void 0]}}class ${constructor(l,t,s,r,i,c,b){this.user_id=l,this.username=t,this.password=s,this.confirm=r,this.status=i,this.rols=c,this.name=b}static create(l){const{user_id:t,name:s,username:r,password:i,confirm:c,status:b,rols:x}=l;return t?r?i?c?b?x?s?[void 0,new $(t,r,i,c,b,x,s)]:["Name is required",void 0]:["Rols is required",void 0]:["Status is required",void 0]:["Password confirmation is required",void 0]:["Password is required",void 0]:["Username is required",void 0]:["User id is required",void 0]}}function re(n,l){}let oe=(()=>{class n{constructor(){this.facadeService=(0,e.WQX)(K),this.rolFacadeService=(0,e.WQX)(z),this.dialogNotifier=new u.B,this.dialogService=(0,e.WQX)(J.o),this.cdr=(0,e.WQX)(e.gRc),this.users$=this.facadeService.users,this.rols$=this.rolFacadeService.rols,this.onLoading$=this.facadeService.status,this.onShowItem=!1,(0,e.QZP)(()=>{switch(this.onLoading$()){case y.p.LOADING:this.dialogService.open({typeDialog:f.h.isLoading,listener:this.dialogNotifier,data:{title:"Cargando",description:"Espere un momento por favor",icon:"assets/icons/loading.svg"},options:{withActions:!1,withBackground:!0,position:[f.Y.center],colorIcon:"text-primary"}});break;case y.p.SUCCESS:this.dialogNotifier.next(null);const s={typeDialog:f.h.isSuccess,data:{title:"Operacion Exitosa",description:"La operacion se ha completado con exito",icon:"assets/icons/heroicons/outline/check-badge.svg"},options:{withBackground:!1,position:[f.Y.top,f.Y.right],colorIcon:"text-green-500",timeToShow:(0,T.O)(2e3)}};this.dialogService.open(s);break;default:this.dialogNotifier.next(null)}})}onAddEvent(){const t=this.dcWrapper.viewContainerRef;t.clear();const s=t.createComponent(H),r={close:()=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1},cancel:()=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1},submit:i=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1,this.dialogService.open({typeDialog:f.h.isAlert,data:{title:"Advertencia",description:"Estas seguro de realizar esta accion",icon:"assets/icons/heroicons/outline/exclamation.svg"},options:{withActions:!0,position:[f.Y.center],withBackground:!0,colorIcon:"text-red-500"}}).subscribe(b=>{const{username:x,password:S,confirm:F,status:k,name:j,roles:R}=i.value,[I,W]=G.create({username:x,password:S,confirm:F,status:k,name:j,roles:R});if(I)throw new Error(I);this.facadeService.create(W)})},delete:i=>{}};s.instance.rols=this.rols$(),s.instance.detailListener=r,this.onShowItem=!0,this.cdr.detectChanges(),s.instance.isOpen=!0}onSelectUser(t){const s=this.dcWrapper.viewContainerRef;s.clear();const r=s.createComponent(H),i={close:()=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1},cancel:()=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1},submit:c=>{this.dialogService.open({typeDialog:f.h.isAlert,data:{title:"Advertencia",description:"Estas seguro de realizar esta accion",icon:"assets/icons/heroicons/outline/exclamation.svg"},options:{withActions:!0,position:[f.Y.center],withBackground:!0,colorIcon:"text-red-500"}}).subscribe(x=>{const{id:S,username:F,password:k,confirm:j,status:R,name:I,roles:W}=c.value,[P,ge]=$.create({user_id:S,username:F,password:k,confirm:j,status:R,name:I,rols:W});if(P)throw new Error(P);this.facadeService.update(ge)})},delete:c=>{}};r.instance.rols=this.rols$(),r.instance.userEntity=t,r.instance.detailListener=i,this.onShowItem=!0,this.cdr.detectChanges(),r.instance.isOpen=!0}static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-users"]],viewQuery:function(s,r){if(1&s&&e.GBs(N.l,5),2&s){let i;e.mGM(i=e.lsd())&&(r.dcWrapper=i.first)}},standalone:!0,features:[e.aNF],decls:5,vars:3,consts:[[3,"classList"],[3,"onAddToggle"],[3,"onSelectUser","users"],["dcWrapper",""]],template:function(s,r){1&s&&(e.j41(0,"div",0)(1,"div",0)(2,"app-users-header",1),e.bIt("onAddToggle",function(){return r.onAddEvent()}),e.k0s(),e.j41(3,"app-users-list",2),e.bIt("onSelectUser",function(c){return r.onSelectUser(c)}),e.k0s()(),e.DNE(4,re,0,0,"ng-template",3),e.k0s()),2&s&&(e.Y8G("classList",r.onShowItem?"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-auto  h-full ":"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-hidden  h-full "),e.R7$(),e.Y8G("classList",r.onShowItem?" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-0 md:py-4":" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-4"),e.R7$(2),e.Y8G("users",r.users$()))},dependencies:[p.MD,M,A,N.l],encapsulation:2})}return n})(),ie=(()=>{class n{constructor(){this.onAddToggleBtn=new e.bkB}onAddToggle(){this.onAddToggleBtn.emit()}static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-rols-header"]],outputs:{onAddToggleBtn:"onAddToggleBtn"},standalone:!0,features:[e.aNF],decls:12,vars:0,consts:[[1,"mb-4","flex","justify-between"],[1,"inline-block"],[1,"font-semibold","text-foreground"],[1,"space-x-1","text-xs","font-medium","text-muted-foreground"],["href","",1,"hover:text-primary"],[1,"inline-block","space-x-4"],[1,"flex-none","rounded-md","bg-primary","px-4","py-2.5","text-xs","font-medium","text-primary-foreground",3,"click"]],template:function(s,r){1&s&&(e.j41(0,"div",0)(1,"div",1)(2,"h3",2),e.EFF(3,"Roles - Lista"),e.k0s(),e.j41(4,"div",3)(5,"a",4),e.EFF(6,"Lista"),e.k0s(),e.j41(7,"span"),e.EFF(8," - Roles"),e.k0s()()(),e.j41(9,"div",5)(10,"button",6),e.bIt("click",function(){return r.onAddToggle()}),e.EFF(11," Agregar Rol "),e.k0s()()())},dependencies:[p.MD],encapsulation:2})}return n})();const ae=["item-table-rol",""];let le=(()=>{class n{static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["","item-table-rol",""]],inputs:{rol:"rol"},standalone:!0,features:[e.aNF],attrs:ae,decls:9,vars:5,consts:[[1,"py-3","pr-3","text-start"],[1,"pl-1"],[1,"mb-1","text-sm","font-semibold","text-foreground","text-center"],[1,"py-3","pl-3","text-right"],[1,"pr-1"],[1,"text-sm","rounded-md",3,"ngClass"]],template:function(s,r){1&s&&(e.j41(0,"td",0)(1,"div",1)(2,"span",2),e.EFF(3),e.k0s()()(),e.j41(4,"td",3)(5,"div",4)(6,"span",5),e.EFF(7),e.nI1(8,"appTypeStatus"),e.k0s()()()),2&s&&(e.R7$(3),e.JRh(r.rol.rol_name),e.R7$(3),e.Y8G("ngClass",1===r.rol.status?"text-sm text-green-600 border p-1 border-green-600 rounded-md":"text-sm text-red-600 border p-1 border-red-600 rounded-md"),e.R7$(),e.JRh(e.bMT(8,3,r.rol.status)))},dependencies:[p.MD,p.YU,U.N],encapsulation:2})}return n})();function ce(n,l){if(1&n){const t=e.RV6();e.j41(0,"tr",10),e.bIt("click",function(){const r=e.eBV(t).$implicit,i=e.XpG();return e.Njj(i.onSelectTable(r))}),e.k0s()}2&n&&e.Y8G("rol",l.$implicit)}let de=(()=>{class n{constructor(){this.onSelectRol=new e.bkB,this.rols=[]}onSelectTable(t){this.onSelectRol.emit(t)}static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-rols-list"]],inputs:{rols:"rols"},outputs:{onSelectRol:"onSelectRol"},standalone:!0,features:[e.aNF],decls:15,vars:1,consts:[[1,"flex-col","rounded-lg","bg-background","px-8","py-8","sm:flex-row"],[1,"mb-4","flex","items-center","justify-between"],[1,"flex-col","items-center"],[1,"text-xs","text-foreground"],[1,"relative","overflow-x-auto"],[1,"w-full","table-auto"],[1,"text-xs","uppercase","text-muted-foreground"],[1,"py-3","text-left"],[1,"py-3","text-right"],["item-table-rol","","class","border-b border-dashed border-border hover:bg-card",3,"rol","click",4,"ngFor","ngForOf"],["item-table-rol","",1,"border-b","border-dashed","border-border","hover:bg-card",3,"click","rol"]],template:function(s,r){1&s&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),e.EFF(4,"Lista de Roles"),e.k0s()()(),e.j41(5,"div",4)(6,"table",5)(7,"thead",6)(8,"tr")(9,"th",7),e.EFF(10,"Rol"),e.k0s(),e.j41(11,"th",8),e.EFF(12,"Status"),e.k0s()()(),e.j41(13,"tbody"),e.DNE(14,ce,1,1,"tr",9),e.k0s()()()()),2&s&&(e.R7$(14),e.Y8G("ngForOf",r.rols))},dependencies:[p.MD,p.Sq,le],encapsulation:2})}return n})();var Q=d(8006);let ue=(()=>{class n{constructor(){this.idDisabled=!1,this.cdr=(0,e.WQX)(e.gRc),this.editorOptions={theme:"vs-dark",language:"json",wordWrap:"on",automaticLayout:!0},this.value='{\n  "presentation" : "demo"\n}'}ngOnInit(){}writeValue(t){this.value=t||"",this.cdr.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.idDisabled=t}changeValue(t){this.value=t,this.onTouched?.(),this.onChange?.(t),this.cdr.detectChanges()}onChangeModel(t){this.changeValue(t)}static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-code-editor"]],standalone:!0,features:[e.Jv_([{provide:a.kq,useExisting:(0,e.Rfq)(()=>n),multi:!0}]),e.aNF],decls:1,vars:2,consts:[[2,"width","100%","height","100%",3,"ngModelChange","options","ngModel"]],template:function(s,r){1&s&&(e.j41(0,"ngx-monaco-editor",0),e.mxI("ngModelChange",function(c){return e.DH7(r.value,c)||(r.value=c),c}),e.bIt("ngModelChange",function(c){return r.onChangeModel(c)}),e.k0s()),2&s&&(e.Y8G("options",r.editorOptions),e.R50("ngModel",r.value))},dependencies:[p.MD,a.YN,a.BC,a.vS,Q.Vv,Q.xn],encapsulation:2})}return n})(),q=(()=>{class n{constructor(){this.isOpen=!1,this.defaultValueStructure='{\n  "apps" : [\n    {\n      "name" : "inventory",\n      "pages" : [\n        "identity/rols"\n      ]\n    }\n  ],\n  "services" : [\n    {\n      "name" : "inventory",\n      "endpoints":[\n        {\n          "name" : "warehouses",\n          "methods" : [\n            "GET",\n            "POST",\n            "PUT",\n            "DELETE"\n          ]\n        }\n      ]\n      \n    }\n\n  ]\n}',this.rolForm=new a.gE({id:new a.MJ,name:new a.MJ,structure:new a.MJ(this.defaultValueStructure),status:new a.MJ})}ngOnInit(){this.rol&&this.rolForm.patchValue({id:this.rol.rol_id,name:this.rol.rol_name,structure:this.rol.rol_structure,status:this.rol.status})}close(){this.listener.close()}onSubmit(){this.listener.submit(this.rolForm)}static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-rol-form"]],inputs:{rol:"rol",listener:"listener"},standalone:!0,features:[e.aNF],decls:21,vars:3,consts:[[1,"flex","mt-2","w-screen","md:w-[500px]","bg-background","l","md:h-[95%]","overflow-auto","px-3","flex-col","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted",3,"ngSubmit","formGroup"],[1,"sticky","top-0","flex","flex-col","bg-background"],[1,"flex","relative","flex-row","items-center","gap-2","py-3","justify-start"],[1,"text-lg","text-foreground"],["type","button",1,"absolute","cursor-pointer","right-0","inline-flex","w-fit","justify-center","rounded-md","bg-background","px-3","py-2","text-sm","font-semibold","text-foreground","shadow-sm","ring-1","ring-inset","ring-foreground","hover:bg-card","sm:mt-0","sm:w-fit",3,"click"],[1,"border-dashed","border-border"],[1,"flex","flex-col","gap-2","py-2","w-full"],["for","name",1,"text-muted-foreground"],["name","name","type","text","formControlName","name","placeholder","Nuevo Rol",1,"w-full"],["formControlName","structure",1,"w-full","h-[300px]","md:h-[300px]"],[1,"flex","py-2","flex-col","gap-2"],["type","submit",1,"bg-primary","text-white","rounded-md","p-2"]],template:function(s,r){1&s&&(e.j41(0,"form",0),e.bIt("ngSubmit",function(){return r.onSubmit()}),e.j41(1,"div",1)(2,"div",2)(3,"span",3),e.EFF(4),e.k0s(),e.j41(5,"button",4),e.bIt("click",function(){return r.close()}),e.EFF(6," X "),e.k0s()(),e.nrm(7,"hr",5),e.k0s(),e.j41(8,"div",6)(9,"label",7),e.EFF(10,"Nombre del Rol"),e.k0s(),e.nrm(11,"input",8),e.k0s(),e.nrm(12,"hr",5),e.j41(13,"div",6)(14,"label",7),e.EFF(15,"Estructura"),e.k0s(),e.nrm(16,"app-code-editor",9),e.k0s(),e.nrm(17,"hr",5),e.j41(18,"div",10)(19,"button",11),e.EFF(20," Guardar Cambios "),e.k0s()()()),2&s&&(e.Y8G("@openClose",r.isOpen?"open":"closed")("formGroup",r.rolForm),e.R7$(4),e.JRh("Agregar Rol"))},dependencies:[p.MD,a.X1,a.qT,a.me,a.BC,a.cb,a.j4,a.JD,a.YN,ue],encapsulation:2,data:{animation:[(0,g.hZ)("openClose",[(0,g.wk)("open",(0,g.iF)({opacity:1,transform:"translateY(0)",visibility:"visible"})),(0,g.wk)("closed",(0,g.iF)({opacity:0,transform:"translateY(-20px)",visibility:"hidden"})),(0,g.kY)("open => closed",[(0,g.i0)("0.5s")]),(0,g.kY)("closed => open",[(0,g.i0)("0.5s")])])]}})}return n})();class V{constructor(l,t,s){this.rol_name=l,this.rol_structure=t,this.status=s}static create(l){const{rol_name:t,rol_structure:s,status:r}=l;return t?s?r?[null,new V(t,s,r)]:["Status is required",void 0]:["Rol structure is required",void 0]:["Rol name is required",void 0]}}class O{constructor(l,t,s,r){this.rol_id=l,this.rol_name=t,this.rol_structure=s,this.status=r}static create(l){const{rol_id:t,rol_name:s,rol_structure:r,status:i}=l;return t?s?r?i?[null,new O(t,s,r,i)]:["Status is required",void 0]:["Rol structure is required",void 0]:["Rol name is required",void 0]:["Rol id is required",void 0]}}function me(n,l){}const pe=[{path:"",component:L,children:[{path:"",redirectTo:"users",pathMatch:"full"},{path:"users",component:oe},{path:"rols",component:(()=>{class n{constructor(){this.facadeService=(0,e.WQX)(z),this.dialogNotifier=new u.B,this.dialogService=(0,e.WQX)(J.o),this.cdr=(0,e.WQX)(e.gRc),this.rols$=this.facadeService.rols,this.onLoading$=this.facadeService.status,this.onShowItem=!1,(0,e.QZP)(()=>{switch(this.onLoading$()){case y.p.LOADING:this.dialogService.open({typeDialog:f.h.isLoading,listener:this.dialogNotifier,data:{title:"Cargando",description:"Espere un momento por favor",icon:"assets/icons/loading.svg"},options:{withActions:!1,withBackground:!0,position:[f.Y.center],colorIcon:"text-primary"}});break;case y.p.SUCCESS:this.dialogNotifier.next(null);const s={typeDialog:f.h.isSuccess,data:{title:"Operacion Exitosa",description:"La operacion se ha completado con exito",icon:"assets/icons/heroicons/outline/check-badge.svg"},options:{withBackground:!1,position:[f.Y.top,f.Y.right],colorIcon:"text-green-500",timeToShow:(0,T.O)(2e3)}};this.dialogService.open(s);break;default:this.dialogNotifier.next(null)}})}onSelectItemTable(t){const s=this.dcWrapper.viewContainerRef;s.clear();const r=s.createComponent(q),i={close:()=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1},cancel:()=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1},submit:c=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1,this.dialogService.open({typeDialog:f.h.isAlert,data:{title:"Advertencia",description:"Estas seguro de realizar esta accion",icon:"assets/icons/heroicons/outline/exclamation.svg"},options:{withActions:!0,position:[f.Y.center],withBackground:!0,colorIcon:"text-red-500"}}).subscribe(x=>{const{name:S,structure:F,id:k,status:j}=c.value;console.log({value:c.value});const[R,I]=O.create({rol_id:k,rol_name:S,rol_structure:F,status:j});if(R)throw new Error(R);this.facadeService.update(I)})},delete:c=>{}};r.instance.rol=t,r.instance.listener=i,this.onShowItem=!0,this.cdr.detectChanges(),r.instance.isOpen=!0}onAddItem(){const t=this.dcWrapper.viewContainerRef;t.clear();const s=t.createComponent(q);s.instance.listener={close:()=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1},cancel:()=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1},submit:i=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1,this.dialogService.open({typeDialog:f.h.isAlert,data:{title:"Advertencia",description:"Estas seguro de realizar esta accion",icon:"assets/icons/heroicons/outline/exclamation.svg"},options:{withActions:!0,position:[f.Y.center],withBackground:!0,colorIcon:"text-red-500"}}).subscribe(b=>{const{name:x,structure:S}=i.value,[F,k]=V.create({rol_name:x,rol_structure:S,status:1});if(F)throw new Error(F);this.facadeService.create(k)})},delete:i=>{}},this.onShowItem=!0,this.cdr.detectChanges(),s.instance.isOpen=!0}static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-rols"]],viewQuery:function(s,r){if(1&s&&e.GBs(N.l,5),2&s){let i;e.mGM(i=e.lsd())&&(r.dcWrapper=i.first)}},standalone:!0,features:[e.aNF],decls:5,vars:3,consts:[[3,"classList"],[3,"onAddToggleBtn"],[3,"onSelectRol","rols"],["dcWrapper",""]],template:function(s,r){1&s&&(e.j41(0,"div",0)(1,"div",0)(2,"app-rols-header",1),e.bIt("onAddToggleBtn",function(){return r.onAddItem()}),e.k0s(),e.j41(3,"app-rols-list",2),e.bIt("onSelectRol",function(c){return r.onSelectItemTable(c)}),e.k0s()(),e.DNE(4,me,0,0,"ng-template",3),e.k0s()),2&s&&(e.Y8G("classList",r.onShowItem?"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-auto  h-full ":"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-hidden  h-full "),e.R7$(),e.Y8G("classList",r.onShowItem?" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-0 md:py-4":" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-4"),e.R7$(2),e.Y8G("rols",r.rols$()))},dependencies:[p.MD,ie,de,N.l],encapsulation:2})}return n})()},{path:"**",redirectTo:"errors/404"}]}];let he=(()=>{class n{static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275mod=e.$C({type:n});static#s=this.\u0275inj=e.G2t({imports:[v.iI.forChild(pe),v.iI]})}return n})(),fe=(()=>{class n{static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275mod=e.$C({type:n});static#s=this.\u0275inj=e.G2t({imports:[he]})}return n})()},1467:(Z,E,d)=>{d.d(E,{w:()=>A});var v=d(177),e=d(3953),L=d(9417),p=d(1413);let M=(()=>{class u{static#e=this.\u0275fac=function(m){return new(m||u)};static#t=this.\u0275cmp=e.VBU({type:u,selectors:[["app-item-list"]],inputs:{id:"id",name:"name"},standalone:!0,features:[e.aNF],decls:3,vars:1,consts:[[1,"flex","flex-col","items-start","p-2","rounded-md","hover:bg-muted","hover:cursor-pointer"],[1,"text-sm","text-foreground"]],template:function(m,h){1&m&&(e.j41(0,"div",0)(1,"span",1),e.EFF(2),e.k0s()()),2&m&&(e.R7$(2),e.SpI(" ",h.name," "))},dependencies:[v.MD],encapsulation:2})}return u})();function U(u,T){if(1&u){const o=e.RV6();e.j41(0,"app-item-list",2),e.bIt("click",function(){const h=e.eBV(o).$implicit,w=e.XpG();return e.Njj(w.onSelect(h))}),e.k0s()}if(2&u){const o=T.$implicit;e.Y8G("name",o.name)("id",o.id)}}let B=(()=>{class u{constructor(){this.isHidden=!1,this.items=[],this.filteredItems=[]}ngOnInit(){this.filteredItems=this.items,this.filterListener?.subscribe({next:o=>{this.filterItems(o)}})}filterItems(o){this.filteredItems=this.items.filter(m=>m.name.toLowerCase().startsWith(o.toLowerCase()))}onSelect(o){this.onSelectItem(o)}static#e=this.\u0275fac=function(m){return new(m||u)};static#t=this.\u0275cmp=e.VBU({type:u,selectors:[["app-listview"]],inputs:{isHidden:"isHidden",onSelectItem:"onSelectItem",items:"items",filterListener:"filterListener"},standalone:!0,features:[e.aNF],decls:2,vars:2,consts:[[3,"ngClass"],[3,"name","id","click",4,"ngFor","ngForOf"],[3,"click","name","id"]],template:function(m,h){1&m&&(e.j41(0,"div",0),e.DNE(1,U,1,2,"app-item-list",1),e.k0s()),2&m&&(e.Y8G("ngClass",h.isHidden?" hidden":" mt-2 absolute z-10 bg-background shadow-lg rounded-md w-full border border-muted max-h-32 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted"),e.R7$(),e.Y8G("ngForOf",h.filteredItems))},dependencies:[v.MD,v.YU,v.Sq,M],encapsulation:2})}return u})();var Y=d(8606);function D(u,T){if(1&u&&(e.qex(0),e.j41(1,"div",5),e.nrm(2,"app-listview",6),e.k0s(),e.bVm()),2&u){const o=e.XpG();e.R7$(2),e.Y8G("items",o.items)("isHidden",o.isHidden)("onSelectItem",o.onSelectItem)("filterListener",o.searchTerm$)}}let A=(()=>{class u{constructor(){this.value=null,this.isDisabled=!1,this.isHidden=!0,this.cdr=(0,e.WQX)(e.gRc),this.searchTerm$=new p.B,this.withFilter=!1,this.onItemSelected=new p.B,this.isToggle=!1,this.searchInput="Select",this.searchText="1",this.onSelectItem=o=>{this.searchInput=o.name,this.changeValue(o.id),this.updateToggle()}}writeValue(o){this.value=o,this.searchInput=this.items.find(m=>m.id==o)?.name||"Select item",this.cdr.markForCheck()}registerOnChange(o){this.onChange=o}registerOnTouched(o){this.onTouched=o}setDisabledState(o){this.isDisabled=o}changeValue(o){this.value=o,this.searchInput=this.items.find(m=>m.id==o)?.name||"Select item",this.onItemSelected.next(o),this.onTouched?.(),this.onChange?.(o)}ngOnInit(){}ngAfterViewInit(){}searchTerm(o){o.target.value&&this.searchTerm$.next(o.target.value)}updateToggle(){const o=this.isHidden;this.isToggle=!this.isToggle,this.isHidden=!o,this.cdr.detectChanges()}static#e=this.\u0275fac=function(m){return new(m||u)};static#t=this.\u0275cmp=e.VBU({type:u,selectors:[["app-select"]],inputs:{items:"items",withFilter:"withFilter"},outputs:{onItemSelected:"onItemSelected"},standalone:!0,features:[e.Jv_([{provide:L.kq,useExisting:(0,e.Rfq)(()=>u),multi:!0}]),e.aNF],decls:6,vars:4,consts:[[1,"flex","flex-col","relative"],[1,"flex","items-start","hover:bg-card","p-2","border-muted","rounded-md","relative",3,"click","ngClass"],[1,"text-sm","text-foreground"],["src","assets/icons/heroicons/outline/bars-arrow-down.svg",3,"svgClass"],[4,"ngIf"],[1,"content"],[3,"items","isHidden","onSelectItem","filterListener"]],template:function(m,h){1&m&&(e.j41(0,"div",0)(1,"div",1),e.bIt("click",function(){return h.updateToggle()}),e.j41(2,"span",2),e.EFF(3),e.k0s(),e.nrm(4,"svg-icon",3),e.k0s(),e.DNE(5,D,3,4,"ng-container",4),e.k0s()),2&m&&(e.R7$(),e.Y8G("ngClass",h.isHidden?"border  ":" border-2 border-primary "),e.R7$(2),e.JRh(h.searchInput),e.R7$(),e.Y8G("svgClass","h-6 w-6 absolute right-2 text-foreground"),e.R7$(),e.Y8G("ngIf",h.isToggle))},dependencies:[v.MD,v.YU,v.bT,B,L.YN,Y.DM],encapsulation:2})}return u})()}}]);