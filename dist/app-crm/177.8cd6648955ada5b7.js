"use strict";(self.webpackChunkinv=self.webpackChunkinv||[]).push([[177],{4177:(ho,le,p)=>{p.r(le),p.d(le,{WarehouseModule:()=>mo});var H=p(3030),c=p(177),e=p(3953);let Fe=(()=>{class r{constructor(){this.addEvent=new e.bkB}onAddToggle(){this.addEvent.emit()}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-products-header"]],outputs:{addEvent:"addEvent"},standalone:!0,features:[e.aNF],decls:12,vars:0,consts:[[1,"mb-4","flex","justify-between"],[1,"inline-block"],[1,"font-semibold","text-foreground"],[1,"space-x-1","text-xs","font-medium","text-muted-foreground"],["href","",1,"hover:text-primary"],[1,"inline-block","space-x-4"],[1,"flex-none","rounded-md","bg-primary","px-4","py-2.5","text-xs","font-medium","text-primary-foreground",3,"click"]],template:function(t,s){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"h3",2),e.EFF(3,"Productos - Lista"),e.k0s(),e.j41(4,"div",3)(5,"a",4),e.EFF(6,"Lista"),e.k0s(),e.j41(7,"span"),e.EFF(8," - Productos"),e.k0s()()(),e.j41(9,"div",5)(10,"button",6),e.bIt("click",function(){return s.onAddToggle()}),e.EFF(11," Agregar Producto "),e.k0s()()())},dependencies:[c.MD],encapsulation:2})}return r})();var g=p(6494);function ye(r,i){1&r&&(e.qSk(),e.j41(0,"svg",9),e.nrm(1,"path",10),e.k0s())}function ke(r,i){if(1&r&&(e.j41(0,"li",6)(1,"span",7),e.EFF(2),e.k0s(),e.EFF(3),e.DNE(4,ye,2,0,"svg",8),e.k0s()),2&r){const o=i.$implicit,t=i.index,s=e.XpG();e.Y8G("ngClass",t==s.actualFormIndex?" text-primary ":t<s.actualFormIndex?"text-primary hidden md:flex":"text-muted-foreground hidden md:flex"),e.R7$(),e.Y8G("classList",t<=s.actualFormIndex?"flex items-center justify-center w-5 h-5 me-2 text-xs border border-primary rounded-full shrink-0 ":"flex items-center justify-center w-5 h-5 me-2 text-xs border border-foreground  rounded-full shrink-0"),e.R7$(),e.SpI(" ",t+1," "),e.R7$(),e.SpI(" ",o.data.title," "),e.R7$(),e.Y8G("ngIf",t+1<=s.forms.length-1)}}function Ce(r,i){}let Ie=(()=>{class r{constructor(){this.onCreateModal=new e.bkB,this.actualFormIndex=0,this.forms=[],this.cdr=(0,e.WQX)(e.gRc)}ngOnInit(){}ngAfterViewInit(){const o=this.createModalListener();this.loadComponent(this.actualFormIndex),this.onCreateModal.emit(o),this.cdr.detectChanges()}loadComponent(o){const t=this.forms[o],s=this.dcWrapper.viewContainerRef;s.clear();const n=s.createComponent(t.component);n.instance.step=o,n.instance.fields=t.dynamicFields,n.instance.data=t.data,n.instance.renderForm()}createModalListener(){return{onNext:()=>this.nextStepForm(),onPrev:()=>this.prevStepForm()}}nextStepForm(){return this.actualFormIndex<this.forms.length-1&&this.actualFormIndex++,this.loadComponent(this.actualFormIndex),{actualForm:this.forms[this.actualFormIndex],actualStep:this.actualFormIndex}}prevStepForm(){return this.actualFormIndex>0&&this.actualFormIndex--,this.loadComponent(this.actualFormIndex),{actualForm:this.forms[this.actualFormIndex],actualStep:this.actualFormIndex}}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-modal-products"]],viewQuery:function(t,s){if(1&t&&e.GBs(g.l,5),2&t){let n;e.mGM(n=e.lsd())&&(s.dcWrapper=n.first)}},inputs:{forms:"forms",data:"data"},standalone:!0,features:[e.aNF],decls:6,vars:1,consts:[[1,"flex","flex-col","gap-5","w-full"],[1,"flex","flex-col","md:flex-row","bg-background","justify-between","items-center"],[1,"flex","items-center","w-full","p-3","space-x-2","text-sm","font-medium","text-center","rounded-lg","shadow-sm","sm:text-base","sm:p-4","sm:space-x-4","rtl:space-x-reverse"],["class","flex items-center  font-bold h-10 sm:w-full md:w-fit ",3,"ngClass",4,"ngFor","ngForOf"],[1,"flex","flex-col","gap-2","bg-background"],["dcWrapper",""],[1,"flex","items-center","font-bold","h-10","sm:w-full","md:w-fit",3,"ngClass"],[3,"classList"],["class","w-3 h-3 ms-2 sm:ms-4 rtl:rotate-180","aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 12 10",4,"ngIf"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 12 10",1,"w-3","h-3","ms-2","sm:ms-4","rtl:rotate-180"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m7 9 4-4-4-4M1 9l4-4-4-4"]],template:function(t,s){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"ol",2),e.DNE(3,ke,5,5,"li",3),e.k0s()(),e.j41(4,"div",4),e.DNE(5,Ce,0,0,"ng-template",5),e.k0s()()),2&t&&(e.R7$(3),e.Y8G("ngForOf",s.forms))},dependencies:[c.MD,c.YU,c.Sq,c.bT,g.l],encapsulation:2})}return r})();var z=function(r){return r[r.ACTIVE=1]="ACTIVE",r[r.INACTIVE=2]="INACTIVE",r}(z||{});let de=(()=>{class r{transform(o,...t){switch("string"==typeof o&&(o=parseInt(o)),o){case z.ACTIVE:return"Activo";case z.INACTIVE:return"Inactivo";default:return"No definido"}}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275pipe=e.EJ8({name:"appTypeStatus",type:r,pure:!0,standalone:!0})}return r})();var q=function(r){return r[r.INTERN=1]="INTERN",r[r.TOSOLD=2]="TOSOLD",r}(q||{});let Ee=(()=>{class r{transform(o,...t){let s="";switch(o){case q.INTERN:s+="Interno";break;case q.TOSOLD:s+="Para vender";break;default:s+="No definido"}return s}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275pipe=e.EJ8({name:"appTypeProduct",type:r,pure:!0,standalone:!0})}return r})();const Se=["item-list-products",""];let je=(()=>{class r{static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["","item-list-products",""]],inputs:{product:"product"},standalone:!0,features:[e.aNF],attrs:Se,decls:14,vars:7,consts:[[1,"py-3","pl-3","text-start"],[1,"text-sm","text-muted-foreground"],[1,"py-3","pl-3","text-end"]],template:function(t,s){1&t&&(e.j41(0,"td",0)(1,"div")(2,"span",1),e.EFF(3),e.k0s()()(),e.j41(4,"td",0)(5,"div")(6,"span",1),e.EFF(7),e.nI1(8,"appTypeProduct"),e.k0s()()(),e.j41(9,"td",2)(10,"div")(11,"span",1),e.EFF(12),e.nI1(13,"appTypeStatus"),e.k0s()()()),2&t&&(e.R7$(3),e.JRh(s.product.name),e.R7$(4),e.JRh(e.bMT(8,3,s.product.type)),e.R7$(5),e.JRh(e.bMT(13,5,s.product.status)))},dependencies:[c.MD,de,Ee],encapsulation:2})}return r})();function Te(r,i){if(1&r){const o=e.RV6();e.j41(0,"tr",16),e.bIt("click",function(){const s=e.eBV(o).$implicit,n=e.XpG();return e.Njj(n.onSelectTable(s))}),e.k0s()}2&r&&e.Y8G("product",i.$implicit)}let Re=(()=>{class r{constructor(){this.onSelectItem=new e.bkB}ngOnInit(){}onSelectTable(o){this.onSelectItem.emit(o)}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-list-products"]],inputs:{productTypes:"productTypes"},outputs:{onSelectItem:"onSelectItem"},standalone:!0,features:[e.aNF],decls:23,vars:1,consts:[[1,"flex-col","rounded-lg","bg-background","px-8","py-8","sm:flex-row"],[1,"w-full","mx-auto"],[1,"w-full","flex","flex-col","p-2","gap-2"],[1,"flex","flex-row","items-center","justify-between","w-full"],[1,"w-1/2"],[1,"flex","flex-row","gap-2"],[1,"w-full"],[1,"text-muted-foreground","text-sm"],["type","text","placeholder","Alitas 12 piezas",1,"w-full","border","border-border","rounded-lg","p-2"],[1,"border-dashed","border-border"],[1,"relative","overflow-x-auto","h-72","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","overflow-auto","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted"],[1,"w-full","table-auto"],[1,"text-xs","uppercase","text-muted-foreground","sticky","top-0","bg-background"],[1,"py-3","text-left"],[1,"py-3","text-right"],["item-list-products","","class","border-b border-dashed border-border hover:bg-card",3,"product","click",4,"ngFor","ngForOf"],["item-list-products","",1,"border-b","border-dashed","border-border","hover:bg-card",3,"click","product"]],template:function(t,s){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"label",7),e.EFF(8,"Productos"),e.k0s(),e.nrm(9,"input",8),e.k0s()()()()(),e.nrm(10,"hr",9),e.j41(11,"div",10)(12,"table",11)(13,"thead",12)(14,"tr")(15,"th",13),e.EFF(16,"Producto"),e.k0s(),e.j41(17,"th",13),e.EFF(18,"Tipo"),e.k0s(),e.j41(19,"th",14),e.EFF(20,"Status"),e.k0s()()(),e.j41(21,"tbody"),e.DNE(22,Te,1,1,"tr",15),e.k0s()()()()()),2&t&&(e.R7$(22),e.Y8G("ngForOf",s.productTypes))},dependencies:[c.MD,c.Sq,je],encapsulation:2})}return r})();var _=p(7827),k=p(9207),a=p(9417),C=p(1413);let Pe=(()=>{class r{static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-item-list"]],inputs:{id:"id",name:"name"},standalone:!0,features:[e.aNF],decls:3,vars:1,consts:[[1,"flex","flex-col","items-start","p-2","rounded-md","hover:bg-muted","hover:cursor-pointer"],[1,"text-sm","text-foreground"]],template:function(t,s){1&t&&(e.j41(0,"div",0)(1,"span",1),e.EFF(2),e.k0s()()),2&t&&(e.R7$(2),e.SpI(" ",s.name," "))},dependencies:[c.MD],encapsulation:2})}return r})();function De(r,i){if(1&r){const o=e.RV6();e.j41(0,"app-item-list",2),e.bIt("click",function(){const s=e.eBV(o).$implicit,n=e.XpG();return e.Njj(n.onSelect(s))}),e.k0s()}if(2&r){const o=i.$implicit;e.Y8G("name",o.name)("id",o.id)}}let Me=(()=>{class r{constructor(){this.isHidden=!1,this.items=[],this.filteredItems=[]}ngOnInit(){this.filteredItems=this.items,this.filterListener?.subscribe({next:o=>{this.filterItems(o)}})}filterItems(o){this.filteredItems=this.items.filter(t=>t.name.toLowerCase().startsWith(o.toLowerCase()))}onSelect(o){this.onSelectItem(o)}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-listview"]],inputs:{isHidden:"isHidden",onSelectItem:"onSelectItem",items:"items",filterListener:"filterListener"},standalone:!0,features:[e.aNF],decls:2,vars:2,consts:[[3,"ngClass"],[3,"name","id","click",4,"ngFor","ngForOf"],[3,"click","name","id"]],template:function(t,s){1&t&&(e.j41(0,"div",0),e.DNE(1,De,1,2,"app-item-list",1),e.k0s()),2&t&&(e.Y8G("ngClass",s.isHidden?" hidden":" mt-2 absolute z-10 bg-background shadow-lg rounded-md w-full border border-muted max-h-32 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted"),e.R7$(),e.Y8G("ngForOf",s.filteredItems))},dependencies:[c.MD,c.YU,c.Sq,Pe],encapsulation:2})}return r})();var Z=p(8606);function Le(r,i){if(1&r&&(e.qex(0),e.j41(1,"div",5),e.nrm(2,"app-listview",6),e.k0s(),e.bVm()),2&r){const o=e.XpG();e.R7$(2),e.Y8G("items",o.items)("isHidden",o.isHidden)("onSelectItem",o.onSelectItem)("filterListener",o.searchTerm$)}}let V=(()=>{class r{constructor(){this.value=null,this.isDisabled=!1,this.isHidden=!0,this.cdr=(0,e.WQX)(e.gRc),this.searchTerm$=new C.B,this.withFilter=!1,this.isToggle=!1,this.searchInput="Select",this.searchText="1",this.onSelectItem=o=>{this.searchInput=o.name,this.changeValue(o.id),this.updateToggle()}}writeValue(o){this.value=o,this.searchInput=this.items.find(t=>t.id==o)?.name||"Select item",this.value?console.log("Hay valor ",this.value):(console.log("No hay valor ",this.value),console.log("Items ",this.items)),this.cdr.markForCheck()}registerOnChange(o){this.onChange=o}registerOnTouched(o){this.onTouched=o}setDisabledState(o){this.isDisabled=o}changeValue(o){this.value=o,this.searchInput=this.items.find(t=>t.id==o)?.name||"Select item",this.onTouched?.(),this.onChange?.(o)}ngOnInit(){}ngAfterViewInit(){}searchTerm(o){o.target.value&&this.searchTerm$.next(o.target.value)}updateToggle(){const o=this.isHidden;this.isToggle=!this.isToggle,this.isHidden=!o,this.cdr.detectChanges()}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-select"]],inputs:{items:"items",withFilter:"withFilter"},standalone:!0,features:[e.Jv_([{provide:a.kq,useExisting:(0,e.Rfq)(()=>r),multi:!0}]),e.aNF],decls:6,vars:4,consts:[[1,"flex","flex-col","relative"],[1,"flex","items-start","hover:bg-card","p-2","border-muted","rounded-md","relative",3,"click","ngClass"],[1,"text-sm","text-foreground"],["src","assets/icons/heroicons/outline/bars-arrow-down.svg",3,"svgClass"],[4,"ngIf"],[1,"content"],[3,"items","isHidden","onSelectItem","filterListener"]],template:function(t,s){1&t&&(e.j41(0,"div",0)(1,"div",1),e.bIt("click",function(){return s.updateToggle()}),e.j41(2,"span",2),e.EFF(3),e.k0s(),e.nrm(4,"svg-icon",3),e.k0s(),e.DNE(5,Le,3,4,"ng-container",4),e.k0s()),2&t&&(e.R7$(),e.Y8G("ngClass",s.isHidden?"border  ":" border-2 border-primary "),e.R7$(2),e.JRh(s.searchInput),e.R7$(),e.Y8G("svgClass","h-6 w-6 absolute right-2 text-foreground"),e.R7$(),e.Y8G("ngIf",s.isToggle))},dependencies:[c.MD,c.YU,c.bT,Me,a.YN,Z.DM],encapsulation:2})}return r})(),$e=(()=>{class r{constructor(){this.items=[{id:1,name:"Activo"},{id:2,name:"Inactivo"}],this.types=[{id:1,name:"Interno"},{id:2,name:"Venta"}],this.productTypeForm=new a.gE({product_type_id:new a.MJ,name:new a.MJ,status:new a.MJ,type:new a.MJ,categories:new a.MJ})}ngOnInit(){this.productTypeForm=new a.gE({product_type_id:new a.MJ(this.productType.product_type_id),name:new a.MJ(this.productType.name),status:new a.MJ(this.productType.status),type:new a.MJ(this.productType.type),categories:new a.MJ(this.productType.categories)})}close(){this.detailListener.close()}onSubmit(){this.detailListener.submit(this.productTypeForm)}onDelete(){this.detailListener.delete(this.productType.product_type_id)}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-detail-product"]],inputs:{detailListener:"detailListener",productType:"productType"},standalone:!0,features:[e.aNF],decls:31,vars:4,consts:[[1,"flex","w-screen","md:w-96","bg-background","h-full","overflow-auto","gap-2","px-3","flex-col","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted",3,"ngSubmit","formGroup"],[1,"sticky","top-0","flex","flex-col","bg-background"],[1,"flex","relative","flex-row","items-center","gap-2","py-3","justify-start"],[1,"text-lg","text-foreground"],["type","button",1,"absolute","cursor-pointer","right-0","inline-flex","w-fit","justify-center","rounded-md","bg-background","px-3","py-2","text-sm","font-semibold","text-foreground","shadow-sm","ring-1","ring-inset","ring-foreground","hover:bg-card","sm:mt-0","sm:w-fit",3,"click"],[1,"border-dashed","border-border"],[1,"flex","py-2","flex-col"],[1,"px-2","flex-col","flex","gap-2"],[1,"text-xs","text-muted-foreground"],["type","text","formControlName","name","placeholder","google"],["formControlName","type",3,"items"],["formControlName","status",3,"items"],[1,"flex","py-2","flex-col","gap-2"],["type","submit",1,"bg-primary","text-white","rounded-md","p-2"],["type","button",1,"bg-red-500","text-white","rounded-md","p-2",3,"click"]],template:function(t,s){1&t&&(e.j41(0,"form",0),e.bIt("ngSubmit",function(){return s.onSubmit()}),e.j41(1,"div",1)(2,"div",2)(3,"span",3),e.EFF(4),e.k0s(),e.j41(5,"button",4),e.bIt("click",function(){return s.close()}),e.EFF(6," X "),e.k0s()(),e.nrm(7,"hr",5),e.k0s(),e.j41(8,"div",6)(9,"div",7)(10,"span",8),e.EFF(11,"Nombre"),e.k0s(),e.nrm(12,"input",9),e.k0s()(),e.nrm(13,"hr",5),e.j41(14,"div",6)(15,"div",7)(16,"span",8),e.EFF(17,"Tipo"),e.k0s(),e.nrm(18,"app-select",10),e.k0s()(),e.nrm(19,"hr",5),e.j41(20,"div",6)(21,"div",7)(22,"span",8),e.EFF(23,"Estado"),e.k0s(),e.nrm(24,"app-select",11),e.k0s()(),e.j41(25,"div",12)(26,"button",13),e.EFF(27," Guardar Cambios "),e.k0s(),e.nrm(28,"hr"),e.j41(29,"button",14),e.bIt("click",function(){return s.onDelete()}),e.EFF(30," Eliminar "),e.k0s()()()),2&t&&(e.Y8G("formGroup",s.productTypeForm),e.R7$(4),e.JRh("Detalles del Producto"),e.R7$(14),e.Y8G("items",s.types),e.R7$(6),e.Y8G("items",s.items))},dependencies:[c.MD,V,a.YN,a.qT,a.me,a.BC,a.cb,a.X1,a.j4,a.JD],encapsulation:2})}return r})();var u=p(2934),We=p(9629);class I{static#e=this.getSlices=(0,u.OD)(We.B);static#t=this.getProductTypes=(0,u.Mz)([I.getSlices.productTypes],i=>i);static#o=this.getProductType=(0,u.Mz)([I.getSlices.productTypeById],i=>i);static#r=this.getStatus=(0,u.Mz)([I.getSlices.status],i=>i)}var L=p(7350);class K{constructor(i,o,t,s){this.name=i,this.status=o,this.categories=t,this.type=s}static create(i){const{name:o,status:t,categories:s,type:n}=i;return o?t?s?n?[void 0,new K(o,t,s,n)]:["Type required",void 0]:["Categories required",void 0]:["Status required",void 0]:["Name required",void 0]}}class ee{constructor(i,o,t,s,n){this.product_type_id=i,this.name=o,this.status=t,this.categories=s,this.type=n}static create(i){const{product_type_id:o,name:t,status:s,categories:n,type:l}=i;return o?t?s?n?l?[void 0,new ee(o,t,s,n,l)]:["Type required",void 0]:["Categories required",void 0]:["Status required",void 0]:["Name required",void 0]:["Product type id required",void 0]}}let U=(()=>{class r{constructor(){this._store=(0,e.WQX)(u.il),this.statusAction=this._store.selectSignal(I.getStatus),this.productTypes=this._store.selectSignal(I.getProductTypes),this._store.dispatch(new L.H.GetAll)}addItem(o,t,s,n){const[l,d]=K.create({name:o,status:t,categories:s,type:n});l?console.log(l):this._store.dispatch(new L.H.Create(d))}updateItem(o,t,s,n,l){const[d,m]=ee.create({product_type_id:o,name:t,status:s,categories:n,type:l});d?console.log(d):this._store.dispatch(new L.H.Update(m))}deleteItem(o){this._store.dispatch(new L.H.Delete(o))}getItem(o){this._store.dispatch(new L.H.Get(o))}getAllItems(){this._store.dispatch(new L.H.GetAll)}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var E=p(7249),v=p(6007),h=function(r){return r.center="dialog-center",r.top="dialog-top",r.bottom="dialog-bottom",r.left="dialog-left",r.right="dialog-right",r}(h||{}),f=function(r){return r[r.isAlert=1]="isAlert",r[r.isSuccess=2]="isSuccess",r[r.isError=3]="isError",r[r.isLoading=4]="isLoading",r}(f||{}),F=p(9969);function Ne(r,i){1&r&&e.nrm(0,"div",12)}function Ge(r,i){if(1&r){const o=e.RV6();e.j41(0,"div",13)(1,"button",14),e.bIt("click",function(){e.eBV(o);const s=e.XpG();return e.Njj(s.onSubmit())}),e.EFF(2,"Realizar"),e.k0s(),e.j41(3,"button",15),e.bIt("click",function(){e.eBV(o);const s=e.XpG();return e.Njj(s.onCancel())}),e.EFF(4,"Cancelar"),e.k0s()()}}let Ae=(()=>{class r{constructor(o,t){this.elementRef=o,this.iconRegistry=t,this.title="Agregado correctamente",this.description="",this.iconUrl="assets/icons/heroicons/outline/check-badge.svg",this.colorIcon="text-green-700",this.withBackground=!1,this.cdr=(0,e.WQX)(e.gRc),this.position=[h.bottom,h.right],this.withActions=!0,this.isOpen=!1,this.timer$=(0,E.O)(100),this.timerClose$=null,this.closeEvent=new e.bkB,this.submitEvent=new e.bkB,this.cancelEvent=new e.bkB}ngOnInit(){console.log("Inicia"),this.notifierFromParent?.subscribe({next:o=>{this.onSubmit()},error:o=>{this.onSubmit()},complete:()=>{this.close()}}),this.timer$.subscribe(o=>{this.isOpen=!0,this.cdr.detectChanges()}),this.timerClose$?.subscribe(o=>{this.isOpen=!1,this.cdr.detectChanges(),this.onSubmit()})}changeState(){this.isOpen=!this.isOpen}onSubmit(){this.isOpen=!1,this.elementRef.nativeElement.remove(),this.submitEvent.emit()}close(){this.isOpen=!1,this.elementRef.nativeElement.remove(),this.closeEvent.emit()}onCancel(){this.isOpen=!1,this.elementRef.nativeElement.remove(),this.cancelEvent.emit()}static#e=this.\u0275fac=function(t){return new(t||r)(e.rXU(e.aKT),e.rXU(Z.it))};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-dialog"]],inputs:{title:"title",description:"description",iconUrl:"iconUrl",colorIcon:"colorIcon",withBackground:"withBackground",notifierFromParent:"notifierFromParent",position:"position",withActions:"withActions",isOpen:"isOpen",timer$:"timer$",timerClose$:"timerClose$"},outputs:{closeEvent:"closeEvent",submitEvent:"submitEvent",cancelEvent:"cancelEvent"},standalone:!0,features:[e.aNF],decls:14,vars:10,consts:[["class","fixed inset-0 z-20 bg-gray-500 bg-opacity-75 transition-opacity ","aria-hidden","true",4,"ngIf"],[1,"flex","h-full","text-center"],[3,"ngClass"],[1,"px-4","pb-4","pt-5","sm:p-6","sm:pb-4"],[1,"flex","items-center","justify-center"],[1,"mt-3","items-center","w-fit","text-center","sm:mt-0","flex","flex-col","gap-3"],["id","modal-title",1,"items-center","w-full","font-semibold","leading-6","text-foreground","text-xl"],[1,"mx-auto","flex","h-12","flex-shrink-0","items-center","w-full","justify-center","rounded-full"],[3,"src","svgClass"],[1,"mt-2"],[1,"text-sm","text-muted-foreground"],["class"," px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6",4,"ngIf"],["aria-hidden","true",1,"fixed","inset-0","z-20","bg-gray-500","bg-opacity-75","transition-opacity"],[1,"px-4","py-3","sm:flex","sm:flex-row-reverse","sm:px-6"],["type","button",1,"inline-flex","w-full","justify-center","rounded-md","bg-red-600","px-3","py-2","text-sm","font-semibold","text-white","shadow-sm","hover:bg-red-500","sm:ml-3","sm:w-auto",3,"click"],["type","button",1,"mt-3","inline-flex","w-full","justify-center","rounded-md","px-3","py-2","text-sm","font-semibold","text-foreground","shadow-sm","ring-1","ring-inset","ring-foreground","sm:mt-0","sm:w-auto",3,"click"]],template:function(t,s){1&t&&(e.DNE(0,Ne,1,0,"div",0),e.j41(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h3",6),e.EFF(7),e.k0s(),e.j41(8,"div",7),e.nrm(9,"svg-icon",8),e.k0s(),e.j41(10,"div",9)(11,"p",10),e.EFF(12),e.k0s()()()()(),e.DNE(13,Ge,5,0,"div",11),e.k0s()()),2&t&&(e.Y8G("ngIf",s.withBackground),e.R7$(),e.Y8G("@openClose",s.isOpen?"open":"closed"),e.R7$(),e.Y8G("ngClass","dialog "+(null==s.position?null:s.position.join(" "))),e.R7$(5),e.SpI("",s.title," "),e.R7$(2),e.HbH(s.colorIcon),e.Y8G("src",s.iconUrl)("svgClass","h-12 w-12"),e.R7$(3),e.JRh(s.description),e.R7$(),e.Y8G("ngIf",s.withActions))},dependencies:[c.MD,c.YU,c.bT,Z.DM],styles:[".dialog[_ngcontent-%COMP%]{position:absolute;z-index:20;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));align-items:center;overflow:hidden;border-radius:.5rem;background-color:hsl(var(--background));--tw-shadow: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);--tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.dialog-top[_ngcontent-%COMP%]{top:.75rem}.dialog-center[_ngcontent-%COMP%]{top:50%;left:50%;--tw-translate-x: -50%;--tw-translate-y: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.dialog-bottom[_ngcontent-%COMP%]{bottom:.75rem}.dialog-left[_ngcontent-%COMP%]{left:.75rem}.dialog-right[_ngcontent-%COMP%]{right:.75rem}"],data:{animation:[(0,F.hZ)("openClose",[(0,F.wk)("open",(0,F.iF)({opacity:1,visibility:"visible"})),(0,F.wk)("closed",(0,F.iF)({opacity:0,visibility:"hidden"})),(0,F.kY)("open => closed",[(0,F.i0)("0.3s")]),(0,F.kY)("closed => open",[(0,F.i0)("0.1s")])])]}})}return r})(),$=(()=>{class r{constructor(o,t,s){this.resolver=o,this.injector=t,this.document=s,this.onOpen=(0,E.O)(1e3)}open(o){const s=this.resolver.resolveComponentFactory(Ae).create(this.injector),n=s.instance;if(o.typeDialog)switch(o.typeDialog){case f.isAlert:n.iconUrl="assets/icons/heroicons/outline/exclamation.svg",n.colorIcon="text-orange-500";break;case f.isSuccess:n.iconUrl="assets/icons/heroicons/outline/check-badge.svg",n.colorIcon="text-green-700";break;case f.isLoading:n.iconUrl="assets/icons/loading.svg",n.colorIcon="text-primary";break;case f.isError:n.iconUrl="assets/icons/heroicons/outline/exclamation.svg",n.colorIcon="text-red-500"}return o.options&&(n.position=o.options.position,n.withActions=o.options.withActions,n.timerClose$=o.options.timeToShow?o.options.timeToShow:null,n.withBackground=o.options.withBackground,n.colorIcon=o.options.colorIcon),o.data&&(n.title=o.data.title,n.description=o.data.description,n.iconUrl=o.data.icon),o.listener&&(n.notifierFromParent=o.listener),n.closeEvent.subscribe(()=>{this.closeDialog()}),n.submitEvent.subscribe(()=>{this.submitDialog()}),n.cancelEvent.subscribe(()=>{}),this.onOpen.subscribe(()=>{s.hostView.detectChanges(),n.isOpen=!0}),this.document.body.appendChild(s.location.nativeElement),s.hostView.detectChanges(),this.dialogNotifier=new C.B,this.dialogNotifier.asObservable()}closeDialog(){this.dialogNotifier?.complete()}submitDialog(){this.dialogNotifier?.next(null),this.closeDialog()}cancelDialog(){this.dialogNotifier?.error(null),this.closeDialog()}static#e=this.\u0275fac=function(t){return new(t||r)(e.KVO(e.OM3),e.KVO(e.zZn),e.KVO(c.qQ))};static#t=this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Be(r,i){}let Oe=(()=>{class r{constructor(){this.titleField=null,this.cdr=(0,e.WQX)(e.gRc)}ngAfterViewInit(){this.cdr.detectChanges(),this.loadComponent()}loadComponent(){const o=this.dcWrapper.viewContainerRef;o.clear();const t=o.createComponent(this.dynamicField.component);t.instance.formControl=this.dynamicField.fieldFormControl,t.instance.data=this.dynamicField.data,this.titleField=this.dynamicField.data.title,this.cdr.detectChanges()}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-field-template"]],viewQuery:function(t,s){if(1&t&&e.GBs(g.l,5),2&t){let n;e.mGM(n=e.lsd())&&(s.dcWrapper=n.first)}},inputs:{fieldListener:"fieldListener",dynamicField:"dynamicField"},standalone:!0,features:[e.aNF],decls:4,vars:1,consts:[[1,"flex","flex-col","w-full","gap-1","p-2"],[1,"text-sm","font-semibold","text-muted-foreground","text-start"],["dcWrapper","","id","item"]],template:function(t,s){1&t&&(e.j41(0,"div",0)(1,"label",1),e.EFF(2),e.k0s(),e.DNE(3,Be,0,0,"ng-template",2),e.k0s()),2&t&&(e.R7$(2),e.JRh(s.titleField||"Titulo"))},dependencies:[c.MD,g.l],encapsulation:2})}return r})();function Je(r,i){1&r&&e.nrm(0,"app-field-template",4),2&r&&e.Y8G("dynamicField",i.$implicit)}let S=(()=>{class r{constructor(){this.fields=[],this.cdr=(0,e.WQX)(e.gRc)}ngOnInit(){}renderForm(){this.cdr.detectChanges()}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-form-template"]],inputs:{fields:"fields",step:"step",formListener:"formListener",data:"data"},standalone:!0,features:[e.aNF],decls:5,vars:2,consts:[[1,"flex","w-full","flex-col","gap-2","bg-background","p-3"],[1,"text-sm","font-semibold","text-foreground","text-start"],[1,"flex","gap-2","flex-col","w-full"],["class","w-full",3,"dynamicField",4,"ngFor","ngForOf"],[1,"w-full",3,"dynamicField"]],template:function(t,s){1&t&&(e.j41(0,"div",0)(1,"label",1),e.EFF(2),e.k0s(),e.j41(3,"div",2),e.DNE(4,Je,1,1,"app-field-template",3),e.k0s()()),2&t&&(e.R7$(2),e.JRh(s.data.description||""),e.R7$(2),e.Y8G("ngForOf",s.fields))},dependencies:[c.MD,c.Sq,Oe],encapsulation:2})}return r})(),x=(()=>{class r{constructor(){this.validators=[]}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-input-text"]],inputs:{formControl:"formControl",data:"data",validators:"validators"},standalone:!0,features:[e.aNF],decls:1,vars:2,consts:[["type","text",3,"formControl","placeholder"]],template:function(t,s){1&t&&e.nrm(0,"input",0),2&t&&e.Y8G("formControl",s.formControl)("placeholder",s.data.placeholder)},dependencies:[c.MD,a.YN,a.me,a.BC,a.X1,a.l_],encapsulation:2})}return r})();function T(r){let i;return r.form.forEach(t=>{t.dynamicFields.forEach(n=>{i={...i,[n.data.title]:n.fieldFormControl.value}})}),i}function Ye(r,i){}let Ve=(()=>{class r{constructor(){this.onShowItem=!1,this.dialogNotifier=new C.B,this.productTypeFacadeService=(0,e.WQX)(U),this.modalService=(0,e.WQX)(k.B),this.dialogService=(0,e.WQX)($),this.productTypes$=this.productTypeFacadeService.productTypes,this.onLoading$=this.productTypeFacadeService.statusAction,this.detailListener={close:()=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1},cancel:()=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1},delete:o=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1,this.dialogService.open({typeDialog:f.isAlert,data:{title:"Advertencia",description:"Estas seguro de realizar esta accion",icon:"assets/icons/heroicons/outline/exclamation.svg"},options:{withActions:!0,position:[h.center],withBackground:!0,colorIcon:"text-red-500"}}).subscribe(s=>{this.productTypeFacadeService.deleteItem(o)})},submit:o=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1,this.dialogService.open({typeDialog:f.isAlert,data:{title:"Advertencia",description:"Estas seguro de realizar esta accion",icon:"assets/icons/heroicons/outline/exclamation.svg"},options:{withActions:!0,position:[h.center],withBackground:!0,colorIcon:"text-red-500"}}).subscribe(s=>{const{product_type_id:n,name:l,status:d,categories:m,type:b}=o.value;this.productTypeFacadeService.updateItem(n,l,d,m,b)})}},(0,e.QZP)(()=>{switch(this.onLoading$()){case v.p.LOADING:this.dialogService.open({typeDialog:f.isLoading,listener:this.dialogNotifier,data:{title:"Cargando",description:"Espere un momento por favor",icon:"assets/icons/loading.svg"},options:{withActions:!1,withBackground:!0,position:[h.center],colorIcon:"text-primary"}});break;case v.p.SUCCESS:this.dialogNotifier.next(null);const t={typeDialog:f.isSuccess,data:{title:"Operacion Exitosa",description:"La operacion se ha completado con exito",icon:"assets/icons/heroicons/outline/check-badge.svg"},options:{withBackground:!1,position:[h.top,h.right],colorIcon:"text-green-500",timeToShow:(0,E.O)(2e3)}};this.dialogService.open(t);break;default:this.dialogNotifier.next(null)}})}ngOnInit(){}onAddEvent(){const o={component:S,data:{title:"Detalles del nuevo tipo de producto a agregar",description:"Especificaciones necesarias del tipo de producto a agregar"},dynamicFields:[{component:x,data:{placeholder:"Tipo de producto 1",title:"Tipo de producto"},fieldFormControl:new a.MJ("")}]};this.modalService.open(Ie,{title:"Agrega un nuevo tipo de producto",size:"sm",forms:[o],data:{},icon:"assets/icons/heroicons/outline/plus.svg",actions:[{action:_.X.Create,title:"Ingresar"}]}).subscribe({next:t=>{const n=T(t)["Tipo de producto"];this.productTypeFacadeService.addItem(n,"1","0",1)}})}onViewItem(o){const t=this.dcWrapper.viewContainerRef;t.clear();const s=t.createComponent($e);s.instance.detailListener=this.detailListener,s.instance.productType=o,this.onShowItem=!0}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-products"]],viewQuery:function(t,s){if(1&t&&e.GBs(g.l,5),2&t){let n;e.mGM(n=e.lsd())&&(s.dcWrapper=n.first)}},standalone:!0,features:[e.aNF],decls:5,vars:3,consts:[[3,"classList"],[3,"addEvent"],[3,"onSelectItem","productTypes"],["dcWrapper",""]],template:function(t,s){1&t&&(e.j41(0,"div",0)(1,"div",0)(2,"app-products-header",1),e.bIt("addEvent",function(){return s.onAddEvent()}),e.k0s(),e.j41(3,"app-list-products",2),e.bIt("onSelectItem",function(l){return s.onViewItem(l)}),e.k0s()(),e.DNE(4,Ye,0,0,"ng-template",3),e.k0s()),2&t&&(e.Y8G("classList",s.onShowItem?"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-auto  h-full ":"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-hidden  h-full "),e.R7$(),e.Y8G("classList",s.onShowItem?" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-0 md:py-4":" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-4"),e.R7$(2),e.Y8G("productTypes",s.productTypes$()))},dependencies:[c.MD,Fe,Re,g.l],encapsulation:2})}return r})(),Ue=(()=>{class r{constructor(){this.addEvent=new e.bkB}onAddToggle(){this.addEvent.emit()}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-discounts-header"]],outputs:{addEvent:"addEvent"},standalone:!0,features:[e.aNF],decls:12,vars:0,consts:[[1,"mb-4","flex","justify-between"],[1,"inline-block"],[1,"font-semibold","text-foreground"],[1,"space-x-1","text-xs","font-medium","text-muted-foreground"],["href","",1,"hover:text-primary"],[1,"inline-block","space-x-4"],[1,"flex-none","rounded-md","bg-primary","px-4","py-2.5","text-xs","font-medium","text-primary-foreground",3,"click"]],template:function(t,s){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"h3",2),e.EFF(3,"Productos Descuentos"),e.k0s(),e.j41(4,"div",3)(5,"a",4),e.EFF(6,"Lista"),e.k0s(),e.j41(7,"span"),e.EFF(8," - Descuentos"),e.k0s()()(),e.j41(9,"div",5)(10,"button",6),e.bIt("click",function(){return s.onAddToggle()}),e.EFF(11," Agregar Descuento "),e.k0s()()())},dependencies:[c.MD],encapsulation:2})}return r})(),Xe=(()=>{class r{constructor(){this.forms=null,this.addEvent=new e.bkB}onAddToggle(){this.addEvent.emit()}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-modal-discounts"]],inputs:{form:"form",data:"data"},outputs:{addEvent:"addEvent"},standalone:!0,features:[e.aNF],decls:0,vars:0,template:function(t,s){},dependencies:[c.MD],encapsulation:2})}return r})(),Qe=(()=>{class r{constructor(){this.modalService=(0,e.WQX)(k.B)}onAddEvent(){console.log({onAddEvent:"onAddEvent"}),this.modalService.open(Xe,{title:"Ingresar tus api keys",size:"sm",forms:null,data:{},icon:"assets/icons/heroicons/outline/plus.svg",actions:[{action:_.X.Create,title:"Ingresar"}]})}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-discounts"]],standalone:!0,features:[e.aNF],decls:2,vars:0,consts:[[1,"mx-auto","px-4","py-4","sm:px-8","lg:container"],[3,"addEvent"]],template:function(t,s){1&t&&(e.j41(0,"div",0)(1,"app-discounts-header",1),e.bIt("addEvent",function(){return s.onAddEvent()}),e.k0s()())},dependencies:[c.MD,Ue],encapsulation:2})}return r})(),He=(()=>{class r{constructor(){this.addEvent=new e.bkB}onAddToggle(){this.addEvent.emit()}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-categories-header"]],outputs:{addEvent:"addEvent"},standalone:!0,features:[e.aNF],decls:12,vars:0,consts:[[1,"mb-4","flex","justify-between"],[1,"inline-block"],[1,"font-semibold","text-foreground"],[1,"space-x-1","text-xs","font-medium","text-muted-foreground"],["href","",1,"hover:text-primary"],[1,"inline-block","space-x-4"],[1,"flex-none","rounded-md","bg-primary","px-4","py-2.5","text-xs","font-medium","text-primary-foreground",3,"click"]],template:function(t,s){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"h3",2),e.EFF(3,"Productos - Categorias"),e.k0s(),e.j41(4,"div",3)(5,"a",4),e.EFF(6,"Lista"),e.k0s(),e.j41(7,"span"),e.EFF(8," - Categorias"),e.k0s()()(),e.j41(9,"div",5)(10,"button",6),e.bIt("click",function(){return s.onAddToggle()}),e.EFF(11," Agregar Categoria "),e.k0s()()())},dependencies:[c.MD],encapsulation:2})}return r})(),ze=(()=>{class r{constructor(){this.forms=null,this.addEvent=new e.bkB}onAddToggle(){this.addEvent.emit()}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-modal-categories"]],inputs:{form:"form",data:"data"},outputs:{addEvent:"addEvent"},standalone:!0,features:[e.aNF],decls:0,vars:0,template:function(t,s){},dependencies:[c.MD],encapsulation:2})}return r})();const qe=["item-list-categories",""];let Ze=(()=>{class r{static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["","item-list-categories",""]],inputs:{category:"category"},standalone:!0,features:[e.aNF],attrs:qe,decls:12,vars:3,consts:[[1,"py-3","pl-3","text-start"],[1,"text-sm","text-muted-foreground"],[1,"pr-1"],[1,"text-sm","text-foreground"],[1,"py-3","pl-3","text-right"]],template:function(t,s){1&t&&(e.j41(0,"td",0)(1,"div")(2,"span",1),e.EFF(3),e.k0s()()(),e.j41(4,"td",0)(5,"div",2)(6,"span",3),e.EFF(7),e.k0s()()(),e.j41(8,"td",4)(9,"div",2)(10,"span",1),e.EFF(11),e.k0s()()()),2&t&&(e.R7$(3),e.JRh(s.category.name),e.R7$(4),e.JRh(s.category.description),e.R7$(4),e.JRh(s.category.status))},dependencies:[c.MD],encapsulation:2})}return r})();function Ke(r,i){if(1&r){const o=e.RV6();e.j41(0,"tr",19),e.bIt("click",function(){const s=e.eBV(o).$implicit,n=e.XpG();return e.Njj(n.onSelectTable(s))}),e.k0s()}2&r&&e.Y8G("category",i.$implicit)}let et=(()=>{class r{constructor(){this.onSelectItem=new e.bkB}onSelectTable(o){this.onSelectItem.emit(o)}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-list-categories"]],inputs:{categories:"categories"},outputs:{onSelectItem:"onSelectItem"},standalone:!0,features:[e.aNF],decls:36,vars:1,consts:[[1,"flex-col","rounded-lg","bg-background","px-8","py-8","sm:flex-row"],[1,"border-dashed","border-border"],[1,"w-full","flex","flex-col","p-2","gap-2"],[1,"flex","flex-row","items-center","justify-between","w-full"],[1,"w-1/2"],[1,"flex","flex-row","gap-2"],[1,"w-full"],[1,"text-muted-foreground","text-sm"],["type","text","placeholder","demostracion",1,"w-full","border","border-border","rounded-lg","p-2"],[1,"w-1/2","flex","items-center","justify-end","gap-2"],[1,"p-1","text-foreground","rounded-md","hover:bg-muted"],[1,"p-2","bg-primary","text-white","rounded-md"],[1,"p-2","text-foreground","rounded-md","hover:bg-muted"],[1,"relative","overflow-x-auto","h-72","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","overflow-auto","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted"],[1,"w-full","table-auto"],[1,"text-xs","uppercase","text-muted-foreground","sticky","top-0","bg-background"],[1,"py-3","text-left"],[1,"py-3","text-right"],["item-list-categories","","class","border-b border-dashed border-border hover:bg-card",3,"category","click",4,"ngFor","ngForOf"],["item-list-categories","",1,"border-b","border-dashed","border-border","hover:bg-card",3,"click","category"]],template:function(t,s){1&t&&(e.j41(0,"div",0),e.nrm(1,"hr",1),e.j41(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"label",7),e.EFF(8,"Categorias"),e.k0s(),e.nrm(9,"input",8),e.k0s()()(),e.j41(10,"div",9)(11,"button",10),e.EFF(12,"<"),e.k0s(),e.j41(13,"button",11),e.EFF(14,"1"),e.k0s(),e.j41(15,"button",12),e.EFF(16,"2"),e.k0s(),e.j41(17,"button",12),e.EFF(18,"3"),e.k0s(),e.j41(19,"button",12),e.EFF(20,"..."),e.k0s(),e.j41(21,"button",10),e.EFF(22,">"),e.k0s()()()(),e.nrm(23,"hr",1),e.j41(24,"div",13)(25,"table",14)(26,"thead",15)(27,"tr")(28,"th",16),e.EFF(29,"Nombre"),e.k0s(),e.j41(30,"th",16),e.EFF(31,"Descripcion"),e.k0s(),e.j41(32,"th",17),e.EFF(33,"status"),e.k0s()()(),e.j41(34,"tbody"),e.DNE(35,Ke,1,1,"tr",18),e.k0s()()()()),2&t&&(e.R7$(35),e.Y8G("ngForOf",s.categories))},dependencies:[c.MD,c.Sq,Ze],encapsulation:2})}return r})();var X=p(1985);let tt=(()=>{class r{constructor(){this.mockData=[{id:1,name:"Limpieza",description:"Productos de limpieza",date:"2021-01-01",status:1},{id:2,name:"Herramientas",description:"Herramientas de trabajo",date:"2021-01-02",status:1},{id:3,name:"Alimentos",description:"Productos comestibles",date:"2021-01-03",status:1},{id:4,name:"Electrodomesticos",description:"Electrodomesticos para el hogar",date:"2021-01-04",status:1}]}getCategory(){return new X.c(o=>{o.next(this.mockData),o.complete()})}createCategory(o){return new X.c(t=>{this.mockData.push(o),t.next(this.mockData),t.complete()})}updateCategory(o){return new X.c(t=>{const s=this.mockData.findIndex(n=>n.id===o.id);this.mockData[s]=o,t.next(this.mockData),t.complete()})}deleteCategory(o){return new X.c(t=>{this.mockData=this.mockData.filter(s=>s.id!==o),t.next(this.mockData),t.complete()})}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),ot=(()=>{class r{close(){}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-category-detail"]],standalone:!0,features:[e.aNF],decls:28,vars:3,consts:[[1,"flex","w-screen","md:w-96","bg-background","h-full","overflow-auto","gap-2","px-3","flex-col","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted"],[1,"sticky","top-0","flex","flex-col","bg-background"],[1,"flex","relative","flex-row","items-center","gap-2","py-3","justify-start"],[1,"text-lg","text-foreground"],[1,"absolute","cursor-pointer","right-0","inline-flex","w-fit","justify-center","rounded-md","bg-background","px-3","py-2","text-sm","font-semibold","text-foreground","shadow-sm","ring-1","ring-inset","ring-foreground","hover:bg-card","sm:mt-0","sm:w-fit",3,"click"],[1,"border-dashed","border-border"],[1,"flex","py-2","flex-col"],[1,"px-2","flex-col","flex"],[1,"text-xs","text-muted-foreground"],[1,"text-base","text-foreground"],[1,"flex","py-2","flex-col","gap-2"]],template:function(t,s){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),e.EFF(4),e.k0s(),e.j41(5,"button",4),e.bIt("click",function(){return s.close()}),e.EFF(6," X "),e.k0s()(),e.nrm(7,"hr",5),e.k0s(),e.j41(8,"div",6),e.nrm(9,"div",7)(10,"hr",5)(11,"div",6)(12,"hr",5),e.j41(13,"div",6)(14,"div",7)(15,"span",8),e.EFF(16,"Almacen"),e.k0s(),e.j41(17,"span",9),e.EFF(18),e.k0s()()(),e.nrm(19,"hr",5),e.j41(20,"div",6)(21,"div",7)(22,"span",8),e.EFF(23,"Proveedor"),e.k0s(),e.j41(24,"span",9),e.EFF(25),e.k0s()()(),e.nrm(26,"hr",5)(27,"div",10),e.k0s()()),2&t&&(e.R7$(4),e.JRh("Categoria"),e.R7$(14),e.JRh("Las Brisas"),e.R7$(7),e.JRh("Distribuidor general"))},dependencies:[c.MD],encapsulation:2})}return r})();function rt(r,i){}let st=(()=>{class r{constructor(){this.modalService=(0,e.WQX)(k.B),this.categoryService=(0,e.WQX)(tt),this.categories=[],this.onShowItem=!1}ngOnInit(){this.categoryService.getCategory().subscribe({next:o=>{this.categories=o},error:o=>{},complete:()=>{}})}onAddEvent(){console.log({onAddEvent:"onAddEvent"}),this.modalService.open(ze,{title:"Ingresar tus api keys",size:"sm",forms:null,data:{},icon:"assets/icons/heroicons/outline/plus.svg",actions:[{action:_.X.Create,title:"Ingresar"}]})}onSelectItem(o){const t=this.dcWrapper.viewContainerRef;t.clear(),t.createComponent(ot),this.onShowItem=!0}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-categories"]],viewQuery:function(t,s){if(1&t&&e.GBs(g.l,5),2&t){let n;e.mGM(n=e.lsd())&&(s.dcWrapper=n.first)}},standalone:!0,features:[e.aNF],decls:5,vars:3,consts:[[3,"classList"],[3,"addEvent"],[3,"onSelectItem","categories"],["dcWrapper",""]],template:function(t,s){1&t&&(e.j41(0,"div",0)(1,"div",0)(2,"app-categories-header",1),e.bIt("addEvent",function(){return s.onAddEvent()}),e.k0s(),e.j41(3,"app-list-categories",2),e.bIt("onSelectItem",function(l){return s.onSelectItem(l)}),e.k0s()(),e.DNE(4,rt,0,0,"ng-template",3),e.k0s()),2&t&&(e.Y8G("classList",s.onShowItem?"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-auto  h-full ":"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-hidden  h-full "),e.R7$(),e.Y8G("classList",s.onShowItem?" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-0 md:py-4":" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-4"),e.R7$(2),e.Y8G("categories",s.categories))},dependencies:[c.MD,He,et,g.l],encapsulation:2})}return r})(),nt=(()=>{class r{static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-warehouse"]],standalone:!0,features:[e.aNF],decls:1,vars:0,template:function(t,s){1&t&&e.nrm(0,"router-outlet")},dependencies:[H.n3],encapsulation:2})}return r})(),it=(()=>{class r{constructor(){this.addEvent=new e.bkB,this.generareReport=new e.bkB}onAddToggle(){this.addEvent.emit()}onGenerateReport(){this.generareReport.emit()}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-inputs-header"]],outputs:{addEvent:"addEvent",generareReport:"generareReport"},standalone:!0,features:[e.aNF],decls:14,vars:0,consts:[[1,"mb-4","flex","flex-col","md:flex-row","justify-between"],[1,"inline-block"],[1,"font-semibold","text-foreground"],[1,"space-x-1","text-xs","font-medium","text-muted-foreground"],["href","",1,"hover:text-primary"],[1,"flex","flex-col","gap-2","md:inline-block","md:space-x-4"],[1,"flex-none","w-full","md:w-fit","rounded-md","bg-primary","px-4","py-2.5","text-xs","font-medium","text-primary-foreground",3,"click"],[1,"flex-none","w-full","md:w-fit","rounded-md","bg-green-800","px-4","py-2.5","text-xs","font-medium","text-primary-foreground",3,"click"]],template:function(t,s){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"h3",2),e.EFF(3,"Almacenes - Entradas"),e.k0s(),e.j41(4,"div",3)(5,"a",4),e.EFF(6,"Lista"),e.k0s(),e.j41(7,"span"),e.EFF(8," - Entradas"),e.k0s()()(),e.j41(9,"div",5)(10,"button",6),e.bIt("click",function(){return s.onAddToggle()}),e.EFF(11," Agregar Entrada "),e.k0s(),e.j41(12,"button",7),e.bIt("click",function(){return s.onGenerateReport()}),e.EFF(13," Generar Reporte "),e.k0s()()())},dependencies:[c.MD],encapsulation:2})}return r})();function at(r,i){1&r&&(e.qSk(),e.j41(0,"svg",9),e.nrm(1,"path",10),e.k0s())}function ct(r,i){if(1&r&&(e.j41(0,"li",6)(1,"span",7),e.EFF(2),e.k0s(),e.EFF(3),e.DNE(4,at,2,0,"svg",8),e.k0s()),2&r){const o=i.$implicit,t=i.index,s=e.XpG();e.Y8G("ngClass",t==s.actualFormIndex?" text-primary ":t<s.actualFormIndex?"text-primary hidden md:flex":"text-muted-foreground hidden md:flex"),e.R7$(),e.Y8G("classList",t<=s.actualFormIndex?"flex items-center justify-center w-5 h-5 me-2 text-xs border border-primary rounded-full shrink-0 ":"flex items-center justify-center w-5 h-5 me-2 text-xs border border-foreground  rounded-full shrink-0"),e.R7$(),e.SpI(" ",t+1," "),e.R7$(),e.SpI(" ",o.data.title," "),e.R7$(),e.Y8G("ngIf",t+1<=s.forms.length-1)}}function lt(r,i){}let ue=(()=>{class r{constructor(){this.onCreateModal=new e.bkB,this.actualFormIndex=0,this.forms=[],this.cdr=(0,e.WQX)(e.gRc)}ngOnInit(){}ngAfterViewInit(){const o=this.createModalListener();this.loadComponent(this.actualFormIndex),this.onCreateModal.emit(o),this.cdr.detectChanges()}loadComponent(o){const t=this.forms[o],s=this.dcWrapper.viewContainerRef;s.clear();const n=s.createComponent(t.component);n.instance.step=o,n.instance.fields=t.dynamicFields,n.instance.data=t.data,n.instance.renderForm()}createModalListener(){return{onNext:()=>this.nextStepForm(),onPrev:()=>this.prevStepForm()}}nextStepForm(){return this.actualFormIndex<this.forms.length-1&&this.actualFormIndex++,this.loadComponent(this.actualFormIndex),{actualForm:this.forms[this.actualFormIndex],actualStep:this.actualFormIndex}}prevStepForm(){return this.actualFormIndex>0&&this.actualFormIndex--,this.loadComponent(this.actualFormIndex),{actualForm:this.forms[this.actualFormIndex],actualStep:this.actualFormIndex}}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-modal-inputs"]],viewQuery:function(t,s){if(1&t&&e.GBs(g.l,5),2&t){let n;e.mGM(n=e.lsd())&&(s.dcWrapper=n.first)}},inputs:{forms:"forms",data:"data"},standalone:!0,features:[e.aNF],decls:6,vars:1,consts:[[1,"flex","flex-col","gap-5","w-full"],[1,"flex","flex-col","md:flex-row","bg-background","justify-between","items-center"],[1,"flex","items-center","w-full","p-3","space-x-2","text-sm","font-medium","text-center","rounded-lg","shadow-sm","sm:text-base","sm:p-4","sm:space-x-4","rtl:space-x-reverse"],["class","flex items-center  font-bold h-10 sm:w-full md:w-fit ",3,"ngClass",4,"ngFor","ngForOf"],[1,"flex","flex-col","gap-2","bg-background"],["dcWrapper",""],[1,"flex","items-center","font-bold","h-10","sm:w-full","md:w-fit",3,"ngClass"],[3,"classList"],["class","w-3 h-3 ms-2 sm:ms-4 rtl:rotate-180","aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 12 10",4,"ngIf"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 12 10",1,"w-3","h-3","ms-2","sm:ms-4","rtl:rotate-180"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m7 9 4-4-4-4M1 9l4-4-4-4"]],template:function(t,s){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"ol",2),e.DNE(3,ct,5,5,"li",3),e.k0s()(),e.j41(4,"div",4),e.DNE(5,lt,0,0,"ng-template",5),e.k0s()()),2&t&&(e.R7$(3),e.Y8G("ngForOf",s.forms))},dependencies:[c.MD,c.YU,c.Sq,c.bT,g.l],encapsulation:2})}return r})();var dt=p(9875);class j{static#e=this.getSlices=(0,u.OD)(dt.z);static#t=this.getWarehouses=(0,u.Mz)([j.getSlices.warehouses],i=>i);static#o=this.getWarehouse=(0,u.Mz)([j.getSlices.warehouseById],i=>i);static#r=this.getStatus=(0,u.Mz)([j.getSlices.status],i=>i)}var W=p(944);class te{constructor(i,o){this.name=i,this.status=o}static create(i){const{name:o,status:t}=i;return o?t?[null,new te(o,t)]:["Status Property is Required",void 0]:["Name Property is Required",void 0]}}class oe{constructor(i,o,t){this.warehouse_id=i,this.name=o,this.status=t}static create(i){const{warehouse_id:o,name:t,status:s}=i;return o?t?s?[null,new oe(o,t,s)]:["Status Property is Required",void 0]:["Name Property is Required",void 0]:["Warehouse ID Property is Required",void 0]}}let B=(()=>{class r{constructor(){this._store=(0,e.WQX)(u.il),this.statusAction=this._store.selectSignal(j.getStatus),this.warehouses=this._store.selectSignal(j.getWarehouses),this._store.dispatch(new W.B.GetAll)}addItem(o,t){const[s,n]=te.create({name:o,status:t});if(s)throw new Error("Error al crear la sucursal : "+s);this._store.dispatch(new W.B.Create(n))}updateItem(o,t,s){const[n,l]=oe.create({name:t,status:s,warehouse_id:o});if(n)throw new Error("Error al actualizar la sucursal : "+n);this._store.dispatch(new W.B.Update(l))}deleteItem(o){this._store.dispatch(new W.B.Delete(o))}getWarehouse(o){this._store.dispatch(new W.B.Get(o))}getWarehouses(){this._store.dispatch(new W.B.GetAll)}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),O=(()=>{class r{constructor(){this.warehouseFacadeService=(0,e.WQX)(B),this.warehouses=this.warehouseFacadeService.warehouses}transform(o,...t){if(this.warehouseFacadeService.statusAction()===v.p.LOADING)return"Cargando...";const s=this.warehouses().find(n=>n.warehouse_id==o);return s?s.name:"No Encontrado "}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275pipe=e.EJ8({name:"appWarehouse",type:r,pure:!1,standalone:!0})}return r})();var ut=p(1054);class R{constructor(){this.getProvider=(0,u.Mz)([R.getSlices.providerById],i=>i)}static#e=this.getSlices=(0,u.OD)(ut.H);static#t=this.getProviders=(0,u.Mz)([R.getSlices.providers],i=>i);static#o=this.getStatus=(0,u.Mz)([R.getSlices.status],i=>i)}var N=p(672);class re{constructor(i,o,t,s,n){this.name=i,this.phone=o,this.email=t,this.address=s,this.status=n}static create(i){const{name:o,phone:t,email:s,address:n,status:l}=i;return o?t?s?n?l?[null,new re(o,t,s,n,l)]:["Status Property is Required",void 0]:["Address Property is Required",void 0]:["Email Property is Required",void 0]:["Phone Property is Required",void 0]:["Name Property is Required",void 0]}}class se{constructor(i,o,t,s,n,l){this.provider_id=i,this.name=o,this.phone=t,this.email=s,this.address=n,this.status=l}static create(i){const{provider_id:o,name:t,phone:s,email:n,address:l,status:d}=i;return o?t?n?l?d?s?[null,new se(o,t,s,n,l,d)]:["Phone Property is Required",void 0]:["Status Property is Required",void 0]:["Address Property is Required",void 0]:["Email Property is Required",void 0]:["Name Property is Required",void 0]:["Provider_id Property is Required",void 0]}}let ne=(()=>{class r{constructor(){this._store=(0,e.WQX)(u.il),this.statusAction=this._store.selectSignal(R.getStatus),this.providers=this._store.selectSignal(R.getProviders),this._store.dispatch(new N.H.GetAll)}addItem(o,t,s,n,l){const[d,m]=re.create({name:o,phone:t,email:s,address:n,status:l});if(d)throw new Error("Error al crear el proveedor : "+d);this._store.dispatch(new N.H.Create(m))}updateItem(o,t,s,n,l,d){const[m,b]=se.create({provider_id:o,name:t,phone:s,email:n,address:l,status:d});if(m)throw new Error("Error al actualizar el proveedor : "+m);this._store.dispatch(new N.H.Update(b))}deleteItem(o){this._store.dispatch(new N.H.Delete(o))}getProvider(o){this._store.dispatch(new N.H.Get(o))}getProviders(){this._store.dispatch(new N.H.GetAll)}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),pe=(()=>{class r{constructor(){this.providerFacadeService=(0,e.WQX)(ne),this.providers=this.providerFacadeService.providers}transform(o){if(this.providerFacadeService.statusAction()===v.p.LOADING)return"Cargando...";const t=this.providers().find(s=>s.provider_id===o);return t?t.name:"No encontrado"}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275pipe=e.EJ8({name:"appProvider",type:r,pure:!1,standalone:!0})}return r})(),J=(()=>{class r{constructor(){this.typeProductFacadeService=(0,e.WQX)(U),this.typeProducts=this.typeProductFacadeService.productTypes}transform(o,...t){if(this.typeProductFacadeService.statusAction()===v.p.LOADING)return"Cargando...";const s=this.typeProducts().find(n=>n.product_type_id==o);return s?s.name:"No Encontrado "}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275pipe=e.EJ8({name:"appProduct",type:r,pure:!1,standalone:!0})}return r})();const pt=["item-table-input",""];let mt=(()=>{class r{static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["","item-table-input",""]],inputs:{inputProduct:"inputProduct",index:"index"},standalone:!0,features:[e.aNF],attrs:pt,decls:32,vars:15,consts:[[1,"py-3","pl-3","text-start"],[1,"pr-1"],[1,"text-sm","text-muted-foreground"],[1,"text-sm","text-foreground"],[1,"py-3","pl-3","text-right"]],template:function(t,s){1&t&&(e.j41(0,"td",0)(1,"div",1)(2,"span",2),e.EFF(3),e.k0s()()(),e.j41(4,"td",0)(5,"div",1)(6,"span",2),e.EFF(7),e.nI1(8,"appProduct"),e.k0s()()(),e.j41(9,"td",0)(10,"div")(11,"span",2),e.EFF(12),e.nI1(13,"appWarehouse"),e.k0s()()(),e.j41(14,"td",0)(15,"div",1)(16,"span",3),e.EFF(17),e.nI1(18,"appProvider"),e.k0s()()(),e.j41(19,"td",0)(20,"div",1)(21,"span",2),e.EFF(22),e.k0s()()(),e.j41(23,"td",0)(24,"div",1)(25,"span",2),e.EFF(26),e.k0s()()(),e.j41(27,"td",4)(28,"div",1)(29,"span",2),e.EFF(30),e.nI1(31,"date"),e.k0s()()()),2&t&&(e.R7$(3),e.JRh(s.index),e.R7$(4),e.JRh(e.bMT(8,7,s.inputProduct.product_type_id)),e.R7$(5),e.JRh(e.bMT(13,9,s.inputProduct.warehouse_id)),e.R7$(5),e.JRh(e.bMT(18,11,s.inputProduct.provider_id)),e.R7$(5),e.JRh(s.inputProduct.quantity),e.R7$(4),e.JRh(s.inputProduct.detail),e.R7$(4),e.JRh(e.bMT(31,13,s.inputProduct.date_created)))},dependencies:[c.MD,c.vh,O,pe,J],encapsulation:2})}return r})();const me=(r,i)=>({"border-primary text-primary outline-none active-tab":r,"text-muted-foreground border-transparent":i});function ht(r,i){if(1&r){const o=e.RV6();e.j41(0,"button",21),e.bIt("click",function(){const s=e.eBV(o).$implicit,n=e.XpG();return e.Njj(n.selectWarehouse(s.warehouse_id))}),e.EFF(1),e.k0s()}if(2&r){const o=i.$implicit,t=e.XpG();e.Y8G("ngClass",e.l_i(2,me,t.selectedWarehouse===o.warehouse_id,t.selectedWarehouse!==o.warehouse_id)),e.R7$(),e.SpI(" ",o.name," ")}}function ft(r,i){if(1&r){const o=e.RV6();e.j41(0,"tr",22),e.bIt("click",function(){const s=e.eBV(o).$implicit,n=e.XpG();return e.Njj(n.onSelectTable(s))}),e.k0s()}if(2&r){const o=i.$implicit,t=i.index,s=e.XpG();e.Y8G("inputProduct",o)("index",t+1+(s.actualPage-1)*s.itemsPerPage)}}let gt=(()=>{class r{constructor(){this.onItemSelect=new e.bkB,this.onfilterEvent=new e.bkB,this.actualPage=1,this.itemsPerPage=30,this.selectedWarehouse=null}ngOnInit(){}onSelectTable(o){this.onItemSelect.emit(o)}selectWarehouse(o){this.selectedWarehouse=o,this.actualPage=1,this.filterEvent()}previousPage(){this.actualPage>1&&(this.actualPage=this.actualPage-1),this.filterEvent()}nextPage(){this.actualPage=this.actualPage+1,this.filterEvent()}filterEvent(){let o;this.selectedWarehouse?(console.log("Con Warehouse"),o={warehouse_id:this.selectedWarehouse,limit:this.itemsPerPage,offset:(this.actualPage-1)*this.itemsPerPage}):(console.log("Sin Warehouse"),o={limit:this.itemsPerPage,offset:(this.actualPage-1)*this.itemsPerPage}),this.onfilterEvent.emit(o)}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-list-inputs"]],inputs:{warehouses:"warehouses",inputs:"inputs"},outputs:{onItemSelect:"onItemSelect",onfilterEvent:"onfilterEvent"},standalone:!0,features:[e.aNF],decls:46,vars:7,consts:[[1,"flex-col","rounded-lg","bg-background","px-8","py-8","sm:flex-row"],[1,"w-full","mx-auto"],[1,"flex","w-full","overflow-auto","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted"],[1,"py-2","px-4","text-sm","font-medium","text-primary","border-b-2","hover:border-primary","hover:text-primary","focus:outline-none",3,"click","ngClass"],["class","py-2 px-4 text-sm font-medium border-b-2  hover:border-primary hover:text-primary focus:outline-none",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"border-dashed","border-border"],[1,"w-full","flex","flex-col","p-2","gap-2"],[1,"flex","flex-col","gap-2","items-end","md:flex-row","md:items-center","justify-between","w-full"],[1,"w-full","md:w-1/2"],[1,"flex","flex-col","md:flex-row","gap-2"],[1,"text-muted-foreground","text-sm"],["type","date",1,"w-full","border","border-border","rounded-lg","p-2"],[1,"w-full","md:w-1/2","flex","items-center","justify-end","gap-2"],[1,"p-1","text-white","rounded-md","bg-primary",3,"click"],[1,"text-foreground","text-base"],[1,"relative","overflow-x-auto","h-72","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","overflow-auto","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted"],[1,"w-full","table-auto"],[1,"text-xs","uppercase","text-muted-foreground","sticky","top-0","bg-background"],[1,"py-3","text-left"],[1,"py-3","text-right"],["item-table-input","","class","border-b border-dashed border-border hover:bg-card",3,"inputProduct","index","click",4,"ngFor","ngForOf"],[1,"py-2","px-4","text-sm","font-medium","border-b-2","hover:border-primary","hover:text-primary","focus:outline-none",3,"click","ngClass"],["item-table-input","",1,"border-b","border-dashed","border-border","hover:bg-card",3,"click","inputProduct","index"]],template:function(t,s){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),e.bIt("click",function(){return s.selectWarehouse(null)}),e.EFF(4," Todos "),e.k0s(),e.DNE(5,ht,2,5,"button",4),e.k0s(),e.nrm(6,"hr",5),e.j41(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",8)(12,"label",10),e.EFF(13,"Desde"),e.k0s(),e.nrm(14,"input",11),e.k0s(),e.j41(15,"div",8)(16,"label",10),e.EFF(17,"Hasta"),e.k0s(),e.nrm(18,"input",11),e.k0s()()(),e.j41(19,"div",12)(20,"button",13),e.bIt("click",function(){return s.previousPage()}),e.EFF(21,"<"),e.k0s(),e.j41(22,"span",14),e.EFF(23),e.k0s(),e.j41(24,"button",13),e.bIt("click",function(){return s.nextPage()}),e.EFF(25,">"),e.k0s()()()(),e.nrm(26,"hr",5),e.j41(27,"div",15)(28,"table",16)(29,"thead",17)(30,"tr"),e.nrm(31,"th",18),e.j41(32,"th",18),e.EFF(33,"Producto"),e.k0s(),e.j41(34,"th",18),e.EFF(35,"Almacen"),e.k0s(),e.j41(36,"th",18),e.EFF(37,"Proveedor"),e.k0s(),e.j41(38,"th",18),e.EFF(39,"Cantidad"),e.k0s(),e.j41(40,"th",18),e.EFF(41,"Detalle"),e.k0s(),e.j41(42,"th",19),e.EFF(43,"Fecha"),e.k0s()()(),e.j41(44,"tbody"),e.DNE(45,ft,1,2,"tr",20),e.k0s()()()()()),2&t&&(e.R7$(3),e.Y8G("ngClass",e.l_i(4,me,null===s.selectedWarehouse,null!==s.selectedWarehouse)),e.R7$(2),e.Y8G("ngForOf",s.warehouses),e.R7$(18),e.JRh(s.actualPage),e.R7$(22),e.Y8G("ngForOf",s.inputs))},dependencies:[c.MD,c.YU,c.Sq,mt],encapsulation:2})}return r})(),vt=(()=>{class r{close(){this.inputDetailListener?.close()}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-input-detail"]],inputs:{inputDetailListener:"inputDetailListener",inputProduct:"inputProduct"},standalone:!0,features:[e.aNF],decls:55,vars:16,consts:[[1,"flex","w-screen","md:w-96","bg-background","h-full","overflow-auto","gap-2","px-3","flex-col","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted"],[1,"sticky","top-0","flex","flex-col","bg-background"],[1,"flex","relative","flex-row","items-center","gap-2","py-3","justify-start"],[1,"text-lg","text-foreground"],[1,"absolute","cursor-pointer","right-0","inline-flex","w-fit","justify-center","rounded-md","bg-background","px-3","py-2","text-sm","font-semibold","text-foreground","shadow-sm","ring-1","ring-inset","ring-foreground","hover:bg-card","sm:mt-0","sm:w-fit",3,"click"],[1,"border-dashed","border-border"],[1,"flex","py-2","flex-col"],[1,"px-2","flex-col","flex"],[1,"text-xs","text-muted-foreground"],[1,"text-base","text-foreground"],[1,"flex","py-2","flex-col","gap-2"]],template:function(t,s){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),e.EFF(4),e.k0s(),e.j41(5,"button",4),e.bIt("click",function(){return s.close()}),e.EFF(6," X "),e.k0s()(),e.nrm(7,"hr",5),e.k0s(),e.j41(8,"div",6)(9,"div",7)(10,"span",8),e.EFF(11,"Fecha"),e.k0s(),e.j41(12,"span",9),e.EFF(13),e.nI1(14,"date"),e.k0s()()(),e.nrm(15,"hr",5),e.j41(16,"div",6)(17,"div",7)(18,"span",8),e.EFF(19,"Producto"),e.k0s(),e.j41(20,"span",9),e.EFF(21),e.nI1(22,"appProduct"),e.k0s()()(),e.nrm(23,"hr",5)(24,"div",6),e.j41(25,"div",7)(26,"span",8),e.EFF(27,"Cantidad"),e.k0s(),e.j41(28,"span",9),e.EFF(29),e.k0s()(),e.nrm(30,"hr",5),e.j41(31,"div",6)(32,"div",7)(33,"span",8),e.EFF(34,"Almacen"),e.k0s(),e.j41(35,"span",9),e.EFF(36),e.nI1(37,"appWarehouse"),e.k0s()()(),e.nrm(38,"hr",5),e.j41(39,"div",6)(40,"div",7)(41,"span",8),e.EFF(42,"Proveedor"),e.k0s(),e.j41(43,"span",9),e.EFF(44),e.nI1(45,"appProvider"),e.k0s()()(),e.nrm(46,"hr",5),e.j41(47,"div",6)(48,"div",7)(49,"span",8),e.EFF(50,"Detalles"),e.k0s(),e.j41(51,"span",9),e.EFF(52),e.k0s()()(),e.nrm(53,"hr",5)(54,"div",10),e.k0s()),2&t&&(e.R7$(4),e.JRh("Entrada : "+s.inputProduct.input_id),e.R7$(9),e.JRh(e.i5U(14,7,s.inputProduct.date_created,"short")),e.R7$(8),e.JRh(e.bMT(22,10,s.inputProduct.product_type_id)),e.R7$(8),e.JRh(s.inputProduct.quantity),e.R7$(7),e.JRh(e.bMT(37,12,s.inputProduct.warehouse_id)),e.R7$(8),e.JRh(e.bMT(45,14,s.inputProduct.provider_id)),e.R7$(8),e.JRh(s.inputProduct.detail))},dependencies:[c.MD,c.vh,J,O,pe],encapsulation:2})}return r})();var he=p(467),bt=p(6449);class P{static#e=this.getSlices=(0,u.OD)(bt.W);static#t=this.getInputs=(0,u.Mz)([P.getSlices.inputs],i=>i);static#o=this.getInput=(0,u.Mz)([P.getSlices.inputById],i=>i);static#r=this.getStatus=(0,u.Mz)([P.getSlices.status],i=>i)}var G=p(3024);class ie{constructor(i,o,t,s,n){this.product_type_id=i,this.provider_id=o,this.warehouse_id=t,this.detail=s,this.quantity=n}static create(i){const{product_type_id:o,provider_id:t,warehouse_id:s,detail:n,quantity:l}=i;return o?t?s?n?l?[void 0,new ie(o,t,s,n,l)]:["Quantity required",void 0]:["Detail required",void 0]:["Warehouse id required",void 0]:["Provider id required",void 0]:["Product type id required",void 0]}}var fe=p(4843);function ge(r){return`${Object.keys(r[0]).join(";")}\n${r.map(t=>Object.values(t).join(";")).join("\n")}`}function ve(r,i){const o=new Blob([r],{type:"text/csv"}),t=window.URL.createObjectURL(o),s=document.createElement("a");s.href=t,s.download=i,s.click(),window.URL.revokeObjectURL(t)}let wt=(()=>{class r{constructor(o){this.actions$=o,this._store=(0,e.WQX)(u.il),this.statusAction=this._store.selectSignal(P.getStatus),this.inputs=this._store.selectSignal(P.getInputs),this.input=this._store.selectSignal(P.getInput);const t=(new Date).toISOString().split("T")[0],s=new Date((new Date).getTime()+864e5).toISOString().split("T")[0];this._store.dispatch(new G.S.GetAll({init:t,end:s}))}addItem(o,t,s,n,l){console.log(o,t,s,n,l);const[d,m]=ie.create({product_type_id:o,provider_id:t,warehouse_id:s,detail:n,quantity:l});d?console.log(d):this._store.dispatch(new G.S.Create(m))}getItems(o){this._store.dispatch(new G.S.GetAll(o))}getItem(o){this._store.dispatch(new G.S.Get(o))}createReport(o){var t=this;return(0,he.A)(function*(){t._store.dispatch(new G.S.GetAll(o)),yield(0,fe._)(t.actions$.pipe((0,u.rM)(G.S.GetAll)));const s=t._store.selectSnapshot(j.getWarehouses),n=t._store.selectSnapshot(I.getProductTypes),l=t._store.selectSnapshot(R.getProviders);ve(ge(t.inputs().map(w=>({Fecha:w.date_created,Producto:w.product_type_id,Cantidad:w.quantity,Detalle:w.detail,Almacen:s.find(Y=>Y.warehouse_id===w.warehouse_id)?.name,TipoProducto:n.find(Y=>Y.product_type_id===w.product_type_id)?.name,Proveedor:l.find(Y=>Y.provider_id===w.provider_id)?.name}))),"reporte.csv")})()}static#e=this.\u0275fac=function(t){return new(t||r)(e.KVO(u.En))};static#t=this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),y=(()=>{class r{constructor(){this.validators=[]}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-input-select"]],inputs:{formControl:"formControl",data:"data",validators:"validators"},standalone:!0,features:[e.aNF],decls:1,vars:2,consts:[[3,"items","formControl"]],template:function(t,s){1&t&&e.nrm(0,"app-select",0),2&t&&e.Y8G("items",s.data.items)("formControl",s.formControl)},dependencies:[c.MD,V,a.X1,a.BC,a.l_,a.YN],encapsulation:2})}return r})(),Q=(()=>{class r{constructor(){this.validators=[]}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-input-date"]],inputs:{formControl:"formControl",data:"data",validators:"validators"},standalone:!0,features:[e.aNF],decls:1,vars:1,consts:[["type","date",3,"formControl"]],template:function(t,s){1&t&&e.nrm(0,"input",0),2&t&&e.Y8G("formControl",s.formControl)},dependencies:[c.MD,a.X1,a.me,a.BC,a.l_],encapsulation:2})}return r})();function xt(r,i){}let _t=(()=>{class r{constructor(){this.modalService=(0,e.WQX)(k.B),this.warehouseFacadeService=(0,e.WQX)(B),this.inputFacadeService=(0,e.WQX)(wt),this.productTypeFacadeService=(0,e.WQX)(U),this.providerFacadeService=(0,e.WQX)(ne),this.dialogService=(0,e.WQX)($),this.warehouses$=this.warehouseFacadeService.warehouses,this.inputs$=this.inputFacadeService.inputs,this.productTypes$=this.productTypeFacadeService.productTypes,this.providers$=this.providerFacadeService.providers,this.onLoading$=this.inputFacadeService.statusAction,this.dialogNotifier=new C.B,this.onShowItem=!1,this.inputDetailListener={close:()=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1},submit:()=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1},cancel:()=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1}},(0,e.QZP)(()=>{switch(this.onLoading$()){case v.p.LOADING:this.dialogService.open({typeDialog:f.isLoading,listener:this.dialogNotifier,data:{title:"Cargando",description:"Espere un momento por favor",icon:"assets/icons/loading.svg"},options:{withActions:!1,withBackground:!0,position:[h.center],colorIcon:"text-primary"}});break;case v.p.SUCCESS:this.dialogNotifier.next(null);const t={typeDialog:f.isSuccess,data:{title:"Operacion Exitosa",description:"La operacion se ha completado con exito",icon:"assets/icons/heroicons/outline/check-badge.svg"},options:{withBackground:!1,position:[h.top,h.right],colorIcon:"text-green-500",timeToShow:(0,E.O)(2e3)}};this.dialogService.open(t);break;default:this.dialogNotifier.next(null)}})}ngOnInit(){}onInputSelected(o){const t=this.dcWrapper.viewContainerRef;t.clear();const s=t.createComponent(vt);s.instance.inputDetailListener=this.inputDetailListener,s.instance.inputProduct=o,this.onShowItem=!0}onAddEvent(){const o={component:S,data:{title:"Detalles de la entrada",description:"Especificaciones necesarias de la entrada a agregar"},dynamicFields:[{component:y,data:{title:"Almacen",items:this.warehouses$().map(s=>({id:s.warehouse_id,name:s.name}))},fieldFormControl:new a.MJ("")},{component:y,data:{title:"Producto",items:this.productTypes$().map(s=>({id:s.product_type_id,name:s.name}))},fieldFormControl:new a.MJ("")},{component:y,data:{title:"Proveedor",items:this.providers$().map(s=>({id:s.provider_id,name:s.name}))},fieldFormControl:new a.MJ("")}]},t={component:S,data:{title:"Detalles de la entrada",description:"Especificaciones necesarias de la entrada a agregar"},dynamicFields:[{component:x,data:{placeholder:"Detalle",title:"Detalle"},fieldFormControl:new a.MJ("")},{component:x,data:{placeholder:"Cantidad",title:"Cantidad"},fieldFormControl:new a.MJ("")}]};this.modalService.open(ue,{title:"Agregar Entrada",size:"sm",forms:[o,t],data:{},icon:"assets/icons/heroicons/outline/plus.svg",actions:[{action:_.X.Create,title:"Ingresar"}]}).subscribe({next:s=>{const{Almacen:n,Cantidad:l,Detalle:d,Producto:m,Proveedor:b}=T(s);this.inputFacadeService.addItem(m,b,n,d,l)},error:s=>{console.log({err:s})},complete:()=>{console.log("Complete")}})}onFilterEvents(o){this.inputFacadeService.getItems(o)}onGenerateReport(){const o={component:S,data:{title:"Parametros de Reporte",description:"Filtros necesarios para generar el reporte"},dynamicFields:[{component:y,data:{title:"Almacen",items:this.warehouses$().map(t=>({id:t.warehouse_id,name:t.name}))},fieldFormControl:new a.MJ},{component:y,data:{title:"Producto",items:this.productTypes$().map(t=>({id:t.product_type_id,name:t.name}))},fieldFormControl:new a.MJ},{component:Q,data:{title:"Inicio"},fieldFormControl:new a.MJ},{component:Q,data:{title:"Fin"},fieldFormControl:new a.MJ}]};this.modalService.open(ue,{title:"Generar Reporte",size:"sm",forms:[o],data:{},icon:"assets/icons/heroicons/outline/plus.svg",actions:[{action:_.X.Create,title:"Generar"}]}).subscribe({next:t=>{const s=T(t),n={warehouse_id:s.Almacen,product_type_id:s.Producto,init:s.Inicio,end:s.Fin},l=Object.keys(n).reduce((d,m)=>(null!=n[m]&&(d[m]=n[m]),d),{});this.inputFacadeService.createReport(l)},error:t=>{console.log({err:t})},complete:()=>{console.log("Complete")}})}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-inputs"]],viewQuery:function(t,s){if(1&t&&e.GBs(g.l,5),2&t){let n;e.mGM(n=e.lsd())&&(s.dcWrapper=n.first)}},standalone:!0,features:[e.aNF],decls:5,vars:4,consts:[[3,"classList"],[3,"addEvent","generareReport"],[3,"onItemSelect","onfilterEvent","warehouses","inputs"],["dcWrapper",""]],template:function(t,s){1&t&&(e.j41(0,"div",0)(1,"div",0)(2,"app-inputs-header",1),e.bIt("addEvent",function(){return s.onAddEvent()})("generareReport",function(){return s.onGenerateReport()}),e.k0s(),e.j41(3,"app-list-inputs",2),e.bIt("onItemSelect",function(l){return s.onInputSelected(l)})("onfilterEvent",function(l){return s.onFilterEvents(l)}),e.k0s()(),e.DNE(4,xt,0,0,"ng-template",3),e.k0s()),2&t&&(e.Y8G("classList",s.onShowItem?"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-auto  h-full ":"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-hidden  h-full "),e.R7$(),e.Y8G("classList",s.onShowItem?" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-0 md:py-4":" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-4"),e.R7$(2),e.Y8G("warehouses",s.warehouses$())("inputs",s.inputs$()))},dependencies:[c.MD,it,gt,g.l],encapsulation:2})}return r})(),Ft=(()=>{class r{constructor(){this.addEvent=new e.bkB}onAddToggle(){this.addEvent.emit()}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-warehouses-header"]],outputs:{addEvent:"addEvent"},standalone:!0,features:[e.aNF],decls:12,vars:0,consts:[[1,"mb-4","flex","justify-between"],[1,"inline-block"],[1,"font-semibold","text-foreground"],[1,"space-x-1","text-xs","font-medium","text-muted-foreground"],["href","",1,"hover:text-primary"],[1,"inline-block","space-x-4"],[1,"flex-none","rounded-md","bg-primary","px-4","py-2.5","text-xs","font-medium","text-primary-foreground",3,"click"]],template:function(t,s){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"h3",2),e.EFF(3,"Almacenes - Listado"),e.k0s(),e.j41(4,"div",3)(5,"a",4),e.EFF(6,"Lista"),e.k0s(),e.j41(7,"span"),e.EFF(8," - Almacenes"),e.k0s()()(),e.j41(9,"div",5)(10,"button",6),e.bIt("click",function(){return s.onAddToggle()}),e.EFF(11," Agregar Almacen "),e.k0s()()())},dependencies:[c.MD],encapsulation:2})}return r})();function yt(r,i){1&r&&(e.qSk(),e.j41(0,"svg",9),e.nrm(1,"path",10),e.k0s())}function kt(r,i){if(1&r&&(e.j41(0,"li",6)(1,"span",7),e.EFF(2),e.k0s(),e.EFF(3),e.DNE(4,yt,2,0,"svg",8),e.k0s()),2&r){const o=i.$implicit,t=i.index,s=e.XpG();e.Y8G("ngClass",t==s.actualFormIndex?" text-primary ":t<s.actualFormIndex?"text-primary hidden md:flex":"text-muted-foreground hidden md:flex"),e.R7$(),e.Y8G("classList",t<=s.actualFormIndex?"flex items-center justify-center w-5 h-5 me-2 text-xs border border-primary rounded-full shrink-0 ":"flex items-center justify-center w-5 h-5 me-2 text-xs border border-foreground  rounded-full shrink-0"),e.R7$(),e.SpI(" ",t+1," "),e.R7$(),e.SpI(" ",o.data.title," "),e.R7$(),e.Y8G("ngIf",t+1<=s.forms.length-1)}}function Ct(r,i){}let be=(()=>{class r{constructor(){this.onCreateModal=new e.bkB,this.actualFormIndex=0,this.forms=[],this.cdr=(0,e.WQX)(e.gRc)}ngOnInit(){}ngAfterViewInit(){const o=this.createModalListener();this.loadComponent(this.actualFormIndex),this.onCreateModal.emit(o),this.cdr.detectChanges()}loadComponent(o){const t=this.forms[o],s=this.dcWrapper.viewContainerRef;s.clear();const n=s.createComponent(t.component);n.instance.step=o,n.instance.fields=t.dynamicFields,n.instance.data=t.data,n.instance.renderForm()}createModalListener(){return{onNext:()=>this.nextStepForm(),onPrev:()=>this.prevStepForm()}}nextStepForm(){return this.actualFormIndex<this.forms.length-1&&this.actualFormIndex++,this.loadComponent(this.actualFormIndex),{actualForm:this.forms[this.actualFormIndex],actualStep:this.actualFormIndex}}prevStepForm(){return this.actualFormIndex>0&&this.actualFormIndex--,this.loadComponent(this.actualFormIndex),{actualForm:this.forms[this.actualFormIndex],actualStep:this.actualFormIndex}}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-modal-warehouses"]],viewQuery:function(t,s){if(1&t&&e.GBs(g.l,5),2&t){let n;e.mGM(n=e.lsd())&&(s.dcWrapper=n.first)}},inputs:{forms:"forms",data:"data"},standalone:!0,features:[e.aNF],decls:6,vars:1,consts:[[1,"flex","flex-col","gap-5","w-full"],[1,"flex","flex-col","md:flex-row","bg-background","justify-between","items-center"],[1,"flex","items-center","w-full","p-3","space-x-2","text-sm","font-medium","text-center","rounded-lg","shadow-sm","sm:text-base","sm:p-4","sm:space-x-4","rtl:space-x-reverse"],["class","flex items-center  font-bold h-10 sm:w-full md:w-fit ",3,"ngClass",4,"ngFor","ngForOf"],[1,"flex","flex-col","gap-2","bg-background"],["dcWrapper",""],[1,"flex","items-center","font-bold","h-10","sm:w-full","md:w-fit",3,"ngClass"],[3,"classList"],["class","w-3 h-3 ms-2 sm:ms-4 rtl:rotate-180","aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 12 10",4,"ngIf"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 12 10",1,"w-3","h-3","ms-2","sm:ms-4","rtl:rotate-180"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m7 9 4-4-4-4M1 9l4-4-4-4"]],template:function(t,s){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"ol",2),e.DNE(3,kt,5,5,"li",3),e.k0s()(),e.j41(4,"div",4),e.DNE(5,Ct,0,0,"ng-template",5),e.k0s()()),2&t&&(e.R7$(3),e.Y8G("ngForOf",s.forms))},dependencies:[c.MD,c.YU,c.Sq,c.bT,g.l],encapsulation:2})}return r})();const It=["content-table-item",""];let Et=(()=>{class r{constructor(){this.toggleItem=new e.bkB}ngOnInit(){}onToggleItem(){}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["","content-table-item",""]],inputs:{warehouse:"warehouse"},outputs:{toggleItem:"toggleItem"},standalone:!0,features:[e.aNF],attrs:It,decls:9,vars:5,consts:[[1,"py-3","pr-3","text-start"],[1,"pl-1"],[1,"mb-1","text-sm","font-semibold","text-foreground","text-center"],[1,"py-3","pl-3","text-right"],[1,"pr-1"],[1,"text-sm","rounded-md",3,"ngClass"]],template:function(t,s){1&t&&(e.j41(0,"td",0)(1,"div",1)(2,"span",2),e.EFF(3),e.k0s()()(),e.j41(4,"td",3)(5,"div",4)(6,"span",5),e.EFF(7),e.nI1(8,"appTypeStatus"),e.k0s()()()),2&t&&(e.R7$(3),e.JRh(s.warehouse.name),e.R7$(3),e.Y8G("ngClass",1===s.warehouse.status?"text-sm text-green-600 border p-1 border-green-600 rounded-md":"text-sm text-red-600 border p-1 border-red-600 rounded-md"),e.R7$(),e.JRh(e.bMT(8,3,s.warehouse.status)))},dependencies:[c.MD,c.YU,de],encapsulation:2})}return r})();function St(r,i){if(1&r){const o=e.RV6();e.j41(0,"tr",10),e.bIt("click",function(){const s=e.eBV(o).$implicit,n=e.XpG();return e.Njj(n.onSelectTable(s))}),e.k0s()}2&r&&e.Y8G("warehouse",i.$implicit)}let jt=(()=>{class r{constructor(){this.onSelectItem=new e.bkB}ngOnInit(){}onSelectTable(o){this.onSelectItem.emit(o)}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-list-warehouses"]],inputs:{services:"services",warehouses:"warehouses"},outputs:{onSelectItem:"onSelectItem"},standalone:!0,features:[e.aNF],decls:15,vars:1,consts:[[1,"flex-col","rounded-lg","bg-background","px-8","py-8","sm:flex-row"],[1,"mb-4","flex","items-center","justify-between"],[1,"flex-col","items-center"],[1,"text-xs","text-foreground"],[1,"relative","overflow-x-auto"],[1,"w-full","table-auto"],[1,"text-xs","uppercase","text-muted-foreground"],[1,"py-3","text-left"],[1,"py-3","text-right"],["content-table-item","","class","border-b border-dashed border-border hover:bg-card",3,"warehouse","click",4,"ngFor","ngForOf"],["content-table-item","",1,"border-b","border-dashed","border-border","hover:bg-card",3,"click","warehouse"]],template:function(t,s){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),e.EFF(4,"Lista de Almacenes"),e.k0s()()(),e.j41(5,"div",4)(6,"table",5)(7,"thead",6)(8,"tr")(9,"th",7),e.EFF(10,"Almacen"),e.k0s(),e.j41(11,"th",8),e.EFF(12,"Status"),e.k0s()()(),e.j41(13,"tbody"),e.DNE(14,St,1,1,"tr",9),e.k0s()()()()),2&t&&(e.R7$(14),e.Y8G("ngForOf",s.warehouses))},dependencies:[c.MD,c.Sq,Et],encapsulation:2})}return r})(),Tt=(()=>{class r{constructor(){this.items=[{id:1,name:"Activo"},{id:2,name:"Inactivo"}],this.warehouseForm=new a.gE({warehouse_id:new a.MJ,name:new a.MJ,status:new a.MJ})}ngOnInit(){this.warehouseForm=new a.gE({warehouse_id:new a.MJ(this.warehouse.warehouse_id),name:new a.MJ(this.warehouse.name),status:new a.MJ(this.warehouse.status)})}close(){this.detailListener.close()}onSubmit(){this.detailListener.submit(this.warehouseForm)}onDelete(){this.detailListener.delete(this.warehouse.warehouse_id)}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-warehouse-detail"]],inputs:{detailListener:"detailListener",warehouse:"warehouse"},standalone:!0,features:[e.aNF],decls:25,vars:3,consts:[[1,"flex","w-screen","md:w-96","bg-background","h-full","overflow-auto","gap-2","px-3","flex-col","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted",3,"ngSubmit","formGroup"],[1,"sticky","top-0","flex","flex-col","bg-background"],[1,"flex","relative","flex-row","items-center","gap-2","py-3","justify-start"],[1,"text-lg","text-foreground"],["type","button",1,"absolute","cursor-pointer","right-0","inline-flex","w-fit","justify-center","rounded-md","bg-background","px-3","py-2","text-sm","font-semibold","text-foreground","shadow-sm","ring-1","ring-inset","ring-foreground","hover:bg-card","sm:mt-0","sm:w-fit",3,"click"],[1,"border-dashed","border-border"],[1,"flex","py-2","flex-col"],[1,"px-2","flex-col","flex","gap-2"],[1,"text-xs","text-muted-foreground"],["type","text","formControlName","name","placeholder","google"],["formControlName","status",3,"items"],[1,"flex","py-2","flex-col","gap-2"],["type","submit",1,"bg-primary","text-white","rounded-md","p-2"],["type","button",1,"bg-red-500","text-white","rounded-md","p-2",3,"click"]],template:function(t,s){1&t&&(e.j41(0,"form",0),e.bIt("ngSubmit",function(){return s.onSubmit()}),e.j41(1,"div",1)(2,"div",2)(3,"span",3),e.EFF(4),e.k0s(),e.j41(5,"button",4),e.bIt("click",function(){return s.close()}),e.EFF(6," X "),e.k0s()(),e.nrm(7,"hr",5),e.k0s(),e.j41(8,"div",6)(9,"div",7)(10,"span",8),e.EFF(11,"Nombre"),e.k0s(),e.nrm(12,"input",9),e.k0s()(),e.nrm(13,"hr",5),e.j41(14,"div",6)(15,"div",7)(16,"span",8),e.EFF(17,"Estado"),e.k0s(),e.nrm(18,"app-select",10),e.k0s()(),e.j41(19,"div",11)(20,"button",12),e.EFF(21," Guardar Cambios "),e.k0s(),e.nrm(22,"hr"),e.j41(23,"button",13),e.bIt("click",function(){return s.onDelete()}),e.EFF(24," Eliminar "),e.k0s()()()),2&t&&(e.Y8G("formGroup",s.warehouseForm),e.R7$(4),e.JRh("Detalles del almacen"),e.R7$(14),e.Y8G("items",s.items))},dependencies:[c.MD,a.YN,a.qT,a.me,a.BC,a.cb,a.X1,a.j4,a.JD,V],encapsulation:2})}return r})();function Rt(r,i){}let Pt=(()=>{class r{ngOnInit(){}constructor(){this.modalService=(0,e.WQX)(k.B),this.dialogService=(0,e.WQX)($),this.warehouseFacadeService=(0,e.WQX)(B),this.warehouses$=this.warehouseFacadeService.warehouses,this.onLoading$=this.warehouseFacadeService.statusAction,this.dialogNotifier=new C.B,this.onShowItem=!1,this.detailListener={close:()=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1},cancel:()=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1},submit:o=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1,this.dialogService.open({typeDialog:f.isAlert,data:{title:"Advertencia",description:"Estas seguro de realizar esta accion",icon:"assets/icons/heroicons/outline/exclamation.svg"},options:{withActions:!0,position:[h.center],withBackground:!0,colorIcon:"text-red-500"}}).subscribe(s=>{const{warehouse_id:n,name:l,status:d}=o.value;this.warehouseFacadeService.updateItem(n,l,d)})},delete:o=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1,this.dialogService.open({typeDialog:f.isAlert,data:{title:"Advertencia",description:"Estas seguro de realizar esta accion",icon:"assets/icons/heroicons/outline/exclamation.svg"},options:{withActions:!0,position:[h.center],withBackground:!0,colorIcon:"text-red-500"}}).subscribe(s=>{this.warehouseFacadeService.deleteItem(o)})}},(0,e.QZP)(()=>{switch(this.onLoading$()){case v.p.LOADING:this.dialogService.open({typeDialog:f.isLoading,listener:this.dialogNotifier,data:{title:"Cargando",description:"Espere un momento por favor",icon:"assets/icons/loading.svg"},options:{withActions:!1,withBackground:!0,position:[h.center],colorIcon:"text-primary"}});break;case v.p.SUCCESS:this.dialogNotifier.next(null);const t={typeDialog:f.isSuccess,data:{title:"Operacion Exitosa",description:"La operacion se ha completado con exito",icon:"assets/icons/heroicons/outline/check-badge.svg"},options:{withBackground:!1,position:[h.top,h.right],colorIcon:"text-green-500",timeToShow:(0,E.O)(2e3)}};this.dialogService.open(t);break;default:this.dialogNotifier.next(null)}})}onAddEvent(){const o={component:S,data:{title:"Detalles del nuevo almacen a agregar",description:"Especificaciones necesarias del almacen a agregar"},dynamicFields:[{component:x,data:{placeholder:"Almacen 1",title:"Almacen"},fieldFormControl:new a.MJ("")}]};this.modalService.open(be,{title:"Agregar Almacen",size:"sm",forms:[o],data:{},icon:"assets/icons/heroicons/outline/plus.svg",actions:[{action:_.X.Create,title:"Ingresar"}]}).subscribe({next:t=>{const n=T(t).Almacen;console.log({warehouseName:n}),this.createWareHouse({name:n,status:1})},error:t=>{console.log({err:t})},complete:()=>{console.log("Complete")}})}createWareHouse(o){this.warehouseFacadeService.addItem(o.name,o.status)}onEditEvent(o){const t=this.dcWrapper.viewContainerRef;t.clear();const s=t.createComponent(Tt);s.instance.detailListener=this.detailListener,s.instance.warehouse=o,this.onShowItem=!0}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-warehouses"]],viewQuery:function(t,s){if(1&t&&e.GBs(g.l,5),2&t){let n;e.mGM(n=e.lsd())&&(s.dcWrapper=n.first)}},standalone:!0,features:[e.aNF],decls:5,vars:3,consts:[[3,"classList"],[3,"addEvent"],[3,"onSelectItem","warehouses"],["dcWrapper",""]],template:function(t,s){1&t&&(e.j41(0,"div",0)(1,"div",0)(2,"app-warehouses-header",1),e.bIt("addEvent",function(){return s.onAddEvent()}),e.k0s(),e.j41(3,"app-list-warehouses",2),e.bIt("onSelectItem",function(l){return s.onEditEvent(l)}),e.k0s()(),e.DNE(4,Rt,0,0,"ng-template",3),e.k0s()),2&t&&(e.Y8G("classList",s.onShowItem?"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-auto  h-full ":"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-hidden  h-full "),e.R7$(),e.Y8G("classList",s.onShowItem?" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-0 md:py-4":" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-4"),e.R7$(2),e.Y8G("warehouses",s.warehouses$()))},dependencies:[c.MD,Ft,jt,g.l],encapsulation:2})}return r})(),Dt=(()=>{class r{constructor(){this.addEvent=new e.bkB,this.generareReport=new e.bkB}onAddToggle(){this.addEvent.emit()}onGenerateReport(){this.generareReport.emit({})}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-outputs-header"]],outputs:{addEvent:"addEvent",generareReport:"generareReport"},standalone:!0,features:[e.aNF],decls:14,vars:0,consts:[[1,"mb-4","flex","flex-col","md:flex-row","justify-between"],[1,"inline-block"],[1,"font-semibold","text-foreground"],[1,"space-x-1","text-xs","font-medium","text-muted-foreground"],["href","",1,"hover:text-primary"],[1,"flex","flex-col","gap-2","md:inline-block","md:space-x-4"],[1,"flex-none","w-full","md:w-fit","rounded-md","bg-primary","px-4","py-2.5","text-xs","font-medium","text-primary-foreground",3,"click"],[1,"flex-none","w-full","md:w-fit","rounded-md","bg-green-800","px-4","py-2.5","text-xs","font-medium","text-primary-foreground",3,"click"]],template:function(t,s){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"h3",2),e.EFF(3,"Almacenes - Salidas"),e.k0s(),e.j41(4,"div",3)(5,"a",4),e.EFF(6,"Lista"),e.k0s(),e.j41(7,"span"),e.EFF(8," - Salidas"),e.k0s()()(),e.j41(9,"div",5)(10,"button",6),e.bIt("click",function(){return s.onAddToggle()}),e.EFF(11," Agregar Salida "),e.k0s(),e.j41(12,"button",7),e.bIt("click",function(){return s.onGenerateReport()}),e.EFF(13," Generar Reporte "),e.k0s()()())},dependencies:[c.MD],encapsulation:2})}return r})();function Mt(r,i){1&r&&(e.qSk(),e.j41(0,"svg",9),e.nrm(1,"path",10),e.k0s())}function Lt(r,i){if(1&r&&(e.j41(0,"li",6)(1,"span",7),e.EFF(2),e.k0s(),e.EFF(3),e.DNE(4,Mt,2,0,"svg",8),e.k0s()),2&r){const o=i.$implicit,t=i.index,s=e.XpG();e.Y8G("ngClass",t==s.actualFormIndex?" text-primary ":t<s.actualFormIndex?"text-primary hidden md:flex":"text-muted-foreground hidden md:flex"),e.R7$(),e.Y8G("classList",t<=s.actualFormIndex?"flex items-center justify-center w-5 h-5 me-2 text-xs border border-primary rounded-full shrink-0 ":"flex items-center justify-center w-5 h-5 me-2 text-xs border border-foreground  rounded-full shrink-0"),e.R7$(),e.SpI(" ",t+1," "),e.R7$(),e.SpI(" ",o.data.title," "),e.R7$(),e.Y8G("ngIf",t+1<=s.forms.length-1)}}function $t(r,i){}let we=(()=>{class r{constructor(){this.onCreateModal=new e.bkB,this.actualFormIndex=0,this.forms=[],this.cdr=(0,e.WQX)(e.gRc)}ngOnInit(){}ngAfterViewInit(){const o=this.createModalListener();this.loadComponent(this.actualFormIndex),this.onCreateModal.emit(o),this.cdr.detectChanges()}loadComponent(o){const t=this.forms[o],s=this.dcWrapper.viewContainerRef;s.clear();const n=s.createComponent(t.component);n.instance.step=o,n.instance.fields=t.dynamicFields,n.instance.data=t.data,n.instance.renderForm()}createModalListener(){return{onNext:()=>this.nextStepForm(),onPrev:()=>this.prevStepForm()}}nextStepForm(){return this.actualFormIndex<this.forms.length-1&&this.actualFormIndex++,this.loadComponent(this.actualFormIndex),{actualForm:this.forms[this.actualFormIndex],actualStep:this.actualFormIndex}}prevStepForm(){return this.actualFormIndex>0&&this.actualFormIndex--,this.loadComponent(this.actualFormIndex),{actualForm:this.forms[this.actualFormIndex],actualStep:this.actualFormIndex}}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-modal-outputs"]],viewQuery:function(t,s){if(1&t&&e.GBs(g.l,5),2&t){let n;e.mGM(n=e.lsd())&&(s.dcWrapper=n.first)}},inputs:{forms:"forms",data:"data"},standalone:!0,features:[e.aNF],decls:6,vars:1,consts:[[1,"flex","flex-col","gap-5","w-full"],[1,"flex","flex-col","md:flex-row","bg-background","justify-between","items-center"],[1,"flex","items-center","w-full","p-3","space-x-2","text-sm","font-medium","text-center","rounded-lg","shadow-sm","sm:text-base","sm:p-4","sm:space-x-4","rtl:space-x-reverse"],["class","flex items-center  font-bold h-10 sm:w-full md:w-fit ",3,"ngClass",4,"ngFor","ngForOf"],[1,"flex","flex-col","gap-2","bg-background"],["dcWrapper",""],[1,"flex","items-center","font-bold","h-10","sm:w-full","md:w-fit",3,"ngClass"],[3,"classList"],["class","w-3 h-3 ms-2 sm:ms-4 rtl:rotate-180","aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 12 10",4,"ngIf"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 12 10",1,"w-3","h-3","ms-2","sm:ms-4","rtl:rotate-180"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m7 9 4-4-4-4M1 9l4-4-4-4"]],template:function(t,s){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"ol",2),e.DNE(3,Lt,5,5,"li",3),e.k0s()(),e.j41(4,"div",4),e.DNE(5,$t,0,0,"ng-template",5),e.k0s()()),2&t&&(e.R7$(3),e.Y8G("ngForOf",s.forms))},dependencies:[c.MD,c.YU,c.Sq,c.bT,g.l],encapsulation:2})}return r})();const Wt=["item-table-output",""];let Nt=(()=>{class r{static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["","item-table-output",""]],inputs:{outputProduct:"outputProduct"},standalone:!0,features:[e.aNF],attrs:Wt,decls:23,vars:12,consts:[[1,"py-3","pl-3","text-start"],[1,"text-sm","text-muted-foreground"],[1,"pr-1"],[1,"text-sm","text-foreground"],[1,"py-3","pl-3","text-end"]],template:function(t,s){1&t&&(e.j41(0,"td",0)(1,"div")(2,"span",1),e.EFF(3),e.nI1(4,"appWarehouse"),e.k0s()()(),e.j41(5,"td",0)(6,"div",2)(7,"span",3),e.EFF(8),e.nI1(9,"appProduct"),e.k0s()()(),e.j41(10,"td",0)(11,"div",2)(12,"span",1),e.EFF(13),e.k0s()()(),e.j41(14,"td",0)(15,"div",2)(16,"span",1),e.EFF(17),e.k0s()()(),e.j41(18,"td",4)(19,"div",2)(20,"span",1),e.EFF(21),e.nI1(22,"date"),e.k0s()()()),2&t&&(e.R7$(3),e.JRh(e.bMT(4,5,s.outputProduct.warehouse_id)),e.R7$(5),e.JRh(e.bMT(9,7,s.outputProduct.product_type_id)),e.R7$(5),e.JRh(s.outputProduct.quantity),e.R7$(4),e.JRh(s.outputProduct.detail),e.R7$(4),e.JRh(e.i5U(22,9,s.outputProduct.date_created,"short")))},dependencies:[c.MD,c.vh,J,O],encapsulation:2})}return r})();const xe=(r,i)=>({"border-primary text-primary outline-none active-tab":r,"text-muted-foreground border-transparent":i});function Gt(r,i){if(1&r){const o=e.RV6();e.j41(0,"button",22),e.bIt("click",function(){const s=e.eBV(o).$implicit,n=e.XpG();return e.Njj(n.selectWarehouse(s.warehouse_id))}),e.EFF(1),e.k0s()}if(2&r){const o=i.$implicit,t=e.XpG();e.Y8G("ngClass",e.l_i(2,xe,t.selectedWarehouse===o.warehouse_id,t.selectedWarehouse!==o.warehouse_id)),e.R7$(),e.SpI(" ",o.name," ")}}function At(r,i){if(1&r){const o=e.RV6();e.j41(0,"tr",23),e.bIt("click",function(){const s=e.eBV(o).$implicit,n=e.XpG();return e.Njj(n.onSelectTable(s))}),e.k0s()}2&r&&e.Y8G("outputProduct",i.$implicit)}let Bt=(()=>{class r{constructor(){this.onItemSelect=new e.bkB,this.onfilterEvent=new e.bkB,this.actualPage=1,this.itemsPerPage=30,this.selectedWarehouse=null}onSelectTable(o){this.onItemSelect.emit(o)}selectWarehouse(o){this.selectedWarehouse=o,this.actualPage=1,this.filterEvent()}previousPage(){this.actualPage>1&&(this.actualPage=this.actualPage-1),this.filterEvent()}nextPage(){this.actualPage=this.actualPage+1,this.filterEvent()}filterEvent(){let o;this.selectedWarehouse?(console.log("Con Warehouse"),o={warehouse_id:this.selectedWarehouse,limit:this.itemsPerPage,offset:(this.actualPage-1)*this.itemsPerPage}):(console.log("Sin Warehouse"),o={limit:this.itemsPerPage,offset:(this.actualPage-1)*this.itemsPerPage}),this.onfilterEvent.emit(o)}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-list-outputs"]],inputs:{warehouses:"warehouses",outputs:"outputs"},outputs:{onItemSelect:"onItemSelect",onfilterEvent:"onfilterEvent"},standalone:!0,features:[e.aNF],decls:43,vars:7,consts:[[1,"flex-col","rounded-lg","bg-background","px-8","py-8","sm:flex-row"],[1,"w-full","mx-auto"],[1,"flex","w-full","overflow-auto","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted"],[1,"py-2","px-4","text-sm","font-medium","text-primary","border-b-2","hover:border-primary","hover:text-primary","focus:outline-none",3,"click","ngClass"],["class","py-2 px-4 text-sm font-medium border-b-2  hover:border-primary hover:text-primary focus:outline-none",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"border-dashed","border-border"],[1,"w-full","flex","flex-col","p-2","gap-2"],[1,"flex","flex-row","items-center","justify-between","w-full"],[1,"w-1/2"],[1,"flex","flex-row","gap-2"],[1,"text-muted-foreground","text-sm"],["type","date",1,"w-full","border","border-border","rounded-lg","p-2"],[1,"w-1/2","flex","items-center","justify-end","gap-2"],[1,"w-full","md:w-1/2","flex","items-center","justify-end","gap-2"],[1,"p-1","text-white","rounded-md","bg-primary",3,"click"],[1,"text-foreground","text-base"],[1,"relative","overflow-x-auto","h-72","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","overflow-auto","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted"],[1,"w-full","table-auto"],[1,"text-xs","uppercase","text-muted-foreground"],[1,"py-3","text-left"],[1,"py-3","text-right"],["item-table-output","","class","border-b border-dashed border-border hover:bg-card",3,"outputProduct","click",4,"ngFor","ngForOf"],[1,"py-2","px-4","text-sm","font-medium","border-b-2","hover:border-primary","hover:text-primary","focus:outline-none",3,"click","ngClass"],["item-table-output","",1,"border-b","border-dashed","border-border","hover:bg-card",3,"click","outputProduct"]],template:function(t,s){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),e.bIt("click",function(){return s.selectWarehouse(null)}),e.EFF(4," Todos "),e.k0s(),e.DNE(5,Gt,2,5,"button",4),e.k0s(),e.nrm(6,"hr",5),e.j41(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",8)(12,"label",10),e.EFF(13,"Desde"),e.k0s(),e.nrm(14,"input",11),e.k0s(),e.j41(15,"div",8)(16,"label",10),e.EFF(17,"Hasta"),e.k0s(),e.nrm(18,"input",11),e.k0s()()(),e.j41(19,"div",12)(20,"div",13)(21,"button",14),e.bIt("click",function(){return s.previousPage()}),e.EFF(22,"<"),e.k0s(),e.j41(23,"span",15),e.EFF(24),e.k0s(),e.j41(25,"button",14),e.bIt("click",function(){return s.nextPage()}),e.EFF(26,">"),e.k0s()()()()(),e.j41(27,"div",16)(28,"table",17)(29,"thead",18)(30,"tr")(31,"th",19),e.EFF(32,"Almacen"),e.k0s(),e.j41(33,"th",19),e.EFF(34,"Producto"),e.k0s(),e.j41(35,"th",19),e.EFF(36,"Cantidad"),e.k0s(),e.j41(37,"th",19),e.EFF(38,"Detalle"),e.k0s(),e.j41(39,"th",20),e.EFF(40,"Fecha"),e.k0s()()(),e.j41(41,"tbody"),e.DNE(42,At,1,1,"tr",21),e.k0s()()()()()),2&t&&(e.R7$(3),e.Y8G("ngClass",e.l_i(4,xe,null===s.selectedWarehouse,null!==s.selectedWarehouse)),e.R7$(2),e.Y8G("ngForOf",s.warehouses),e.R7$(19),e.JRh(s.actualPage),e.R7$(18),e.Y8G("ngForOf",s.outputs))},dependencies:[c.MD,c.YU,c.Sq,Nt],encapsulation:2})}return r})(),Ot=(()=>{class r{close(){this.outputdetailListener?.close()}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-output-detail"]],inputs:{outputdetailListener:"outputdetailListener",outputProduct:"outputProduct"},standalone:!0,features:[e.aNF],decls:47,vars:13,consts:[[1,"flex","w-screen","md:w-96","bg-background","h-full","overflow-auto","gap-2","px-3","flex-col","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted"],[1,"sticky","top-0","flex","flex-col","bg-background"],[1,"flex","relative","flex-row","items-center","gap-2","py-3","justify-start"],[1,"text-lg","text-foreground"],[1,"absolute","cursor-pointer","right-0","inline-flex","w-fit","justify-center","rounded-md","bg-background","px-3","py-2","text-sm","font-semibold","text-foreground","shadow-sm","ring-1","ring-inset","ring-foreground","hover:bg-card","sm:mt-0","sm:w-fit",3,"click"],[1,"border-dashed","border-border"],[1,"flex","py-2","flex-col"],[1,"px-2","flex-col","flex"],[1,"text-xs","text-muted-foreground"],[1,"text-base","text-foreground"],[1,"flex","py-2","flex-col","gap-2"]],template:function(t,s){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),e.EFF(4),e.k0s(),e.j41(5,"button",4),e.bIt("click",function(){return s.close()}),e.EFF(6," X "),e.k0s()(),e.nrm(7,"hr",5),e.k0s(),e.j41(8,"div",6)(9,"div",7)(10,"span",8),e.EFF(11,"Detalles"),e.k0s(),e.j41(12,"span",9),e.EFF(13),e.k0s()()(),e.nrm(14,"hr",5),e.j41(15,"div",6)(16,"div",7)(17,"span",8),e.EFF(18,"Fecha"),e.k0s(),e.j41(19,"span",9),e.EFF(20),e.nI1(21,"date"),e.k0s()()(),e.nrm(22,"hr",5),e.j41(23,"div",6)(24,"div",7)(25,"span",8),e.EFF(26,"Producto"),e.k0s(),e.j41(27,"span",9),e.EFF(28),e.nI1(29,"appProduct"),e.k0s()()(),e.nrm(30,"hr",5),e.j41(31,"div",6)(32,"div",7)(33,"span",8),e.EFF(34,"Cantidad"),e.k0s(),e.j41(35,"span",9),e.EFF(36),e.k0s()()(),e.nrm(37,"hr",5),e.j41(38,"div",6)(39,"div",7)(40,"span",8),e.EFF(41,"Almacen"),e.k0s(),e.j41(42,"span",9),e.EFF(43),e.nI1(44,"appWarehouse"),e.k0s()()(),e.nrm(45,"hr",5)(46,"div",10),e.k0s()),2&t&&(e.R7$(4),e.JRh("Salida : "+s.outputProduct.output_id),e.R7$(9),e.JRh(s.outputProduct.detail),e.R7$(7),e.JRh(e.i5U(21,6,s.outputProduct.date_created,"short")),e.R7$(8),e.JRh(e.bMT(29,9,s.outputProduct.product_type_id)),e.R7$(8),e.JRh(s.outputProduct.quantity),e.R7$(7),e.JRh(e.bMT(44,11,s.outputProduct.warehouse_id)))},dependencies:[c.MD,c.vh,O,J],encapsulation:2})}return r})();var Jt=p(9645);class D{static#e=this.getSlices=(0,u.OD)(Jt.J);static#t=this.getOutputs=(0,u.Mz)([D.getSlices.outputs],i=>i);static#o=this.getOutput=(0,u.Mz)([D.getSlices.outputById],i=>i);static#r=this.getStatus=(0,u.Mz)([D.getSlices.status],i=>i)}var A=p(4552);class ae{constructor(i,o,t,s){this.product_type_id=i,this.warehouse_id=o,this.detail=t,this.quantity=s}static create(i){const{product_type_id:o,warehouse_id:t,detail:s,quantity:n}=i;return o?t?s?n?[void 0,new ae(o,t,s,n)]:["Quantity required",void 0]:["Detail required",void 0]:["Warehouse id required",void 0]:["Product type id required",void 0]}}let Yt=(()=>{class r{constructor(o){this.actions$=o,this._store=(0,e.WQX)(u.il),this.statusAction=this._store.selectSignal(D.getStatus),this.outputs=this._store.selectSignal(D.getOutputs),this.output=this._store.selectSignal(D.getOutput);const t=(new Date).toISOString().split("T")[0],s=new Date((new Date).getTime()+864e5).toISOString().split("T")[0];this._store.dispatch(new A.f.GetAll({init:t,end:s}))}addItem(o,t,s,n){const[l,d]=ae.create({product_type_id:o,warehouse_id:t,detail:s,quantity:n});if(l)throw l;this._store.dispatch(new A.f.Create(d))}getItems(o){this._store.dispatch(new A.f.GetAll(o))}getItem(o){this._store.dispatch(new A.f.Get(o))}createReport(o){var t=this;return(0,he.A)(function*(){t._store.dispatch(new A.f.GetAll(o)),yield(0,fe._)(t.actions$.pipe((0,u.rM)(A.f.GetAll)));const s=t._store.selectSnapshot(j.getWarehouses),n=t._store.selectSnapshot(I.getProductTypes);ve(ge(t.outputs().map(b=>({Fecha:b.date_created,Producto:b.product_type_id,Cantidad:b.quantity,Detalle:b.detail,Almacen:s.find(w=>w.warehouse_id===b.warehouse_id)?.name,TipoProducto:n.find(w=>w.product_type_id===b.product_type_id)?.name}))),"reporte.csv")})()}static#e=this.\u0275fac=function(t){return new(t||r)(e.KVO(u.En))};static#t=this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Vt(r,i){}let Ut=(()=>{class r{constructor(){this.modalService=(0,e.WQX)(k.B),this.OutputFacadeService=(0,e.WQX)(Yt),this.warehouseFacadeService=(0,e.WQX)(B),this.productTypeFacadeService=(0,e.WQX)(U),this.dialogService=(0,e.WQX)($),this.warehouses$=this.warehouseFacadeService.warehouses,this.outputs$=this.OutputFacadeService.outputs,this.productTypes$=this.productTypeFacadeService.productTypes,this.onLoading$=this.OutputFacadeService.statusAction,this.onShowItem=!1,this.dialogNotifier=new C.B,this.outputDetailListener={close:()=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1},submit:()=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1},cancel:()=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1}},(0,e.QZP)(()=>{switch(this.onLoading$()){case v.p.LOADING:this.dialogService.open({typeDialog:f.isLoading,listener:this.dialogNotifier,data:{title:"Cargando",description:"Espere un momento por favor",icon:"assets/icons/loading.svg"},options:{withActions:!1,withBackground:!0,position:[h.center],colorIcon:"text-primary"}});break;case v.p.SUCCESS:this.dialogNotifier.next(null);const t={typeDialog:f.isSuccess,data:{title:"Operacion Exitosa",description:"La operacion se ha completado con exito",icon:"assets/icons/heroicons/outline/check-badge.svg"},options:{withBackground:!1,position:[h.top,h.right],colorIcon:"text-green-500",timeToShow:(0,E.O)(2e3)}};this.dialogService.open(t);break;default:this.dialogNotifier.next(null)}})}ngOnInit(){}onItemSelected(o){const t=this.dcWrapper.viewContainerRef;t.clear();const s=t.createComponent(Ot);s.instance.outputdetailListener=this.outputDetailListener,s.instance.outputProduct=o,this.onShowItem=!0}onAddEvent(){const o={component:S,data:{title:"Detalles de la entrada",description:"Especificaciones necesarias de la entrada a agregar"},dynamicFields:[{component:y,data:{title:"Almacen",items:this.warehouses$().map(t=>({id:t.warehouse_id,name:t.name}))},fieldFormControl:new a.MJ("")},{component:y,data:{title:"Producto",items:this.productTypes$().map(t=>({id:t.product_type_id,name:t.name}))},fieldFormControl:new a.MJ("")},{component:x,data:{placeholder:"Detalle",title:"Detalle"},fieldFormControl:new a.MJ("")},{component:x,data:{placeholder:"Cantidad",title:"Cantidad"},fieldFormControl:new a.MJ("")}]};this.modalService.open(we,{title:"Ingresar tus api keys",size:"sm",forms:[o],data:{},icon:"assets/icons/heroicons/outline/plus.svg",actions:[{action:_.X.Create,title:"Ingresar"}]}).subscribe({next:t=>{const{Almacen:s,Cantidad:n,Detalle:l,Producto:d}=T(t);this.OutputFacadeService.addItem(d,s,l,n)},error:t=>{console.log({err:t})},complete:()=>{console.log("Complete")}})}onFilterEvents(o){this.OutputFacadeService.getItems(o)}onGenerateReport(){const o={component:S,data:{title:"Parametros de Reporte",description:"Filtros necesarios para generar el reporte"},dynamicFields:[{component:y,data:{title:"Almacen",items:this.warehouses$().map(t=>({id:t.warehouse_id,name:t.name}))},fieldFormControl:new a.MJ},{component:y,data:{title:"Producto",items:this.productTypes$().map(t=>({id:t.product_type_id,name:t.name}))},fieldFormControl:new a.MJ},{component:Q,data:{title:"Inicio"},fieldFormControl:new a.MJ},{component:Q,data:{title:"Fin"},fieldFormControl:new a.MJ}]};this.modalService.open(we,{title:"Generar Reporte",size:"sm",forms:[o],data:{},icon:"assets/icons/heroicons/outline/plus.svg",actions:[{action:_.X.Create,title:"Generar"}]}).subscribe({next:t=>{const s=T(t),n={warehouse_id:s.Almacen,product_type_id:s.Producto,init:s.Inicio,end:s.Fin},l=Object.keys(n).reduce((d,m)=>(null!=n[m]&&(d[m]=n[m]),d),{});this.OutputFacadeService.createReport(l)},error:t=>{console.log({err:t})},complete:()=>{console.log("Complete")}})}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-outputs"]],viewQuery:function(t,s){if(1&t&&e.GBs(g.l,5),2&t){let n;e.mGM(n=e.lsd())&&(s.dcWrapper=n.first)}},standalone:!0,features:[e.Jv_([k.B]),e.aNF],decls:5,vars:4,consts:[[3,"classList"],[3,"generareReport","addEvent"],[3,"onfilterEvent","onItemSelect","warehouses","outputs"],["dcWrapper",""]],template:function(t,s){1&t&&(e.j41(0,"div",0)(1,"div",0)(2,"app-outputs-header",1),e.bIt("generareReport",function(){return s.onGenerateReport()})("addEvent",function(){return s.onAddEvent()}),e.k0s(),e.j41(3,"app-list-outputs",2),e.bIt("onfilterEvent",function(l){return s.onFilterEvents(l)})("onItemSelect",function(l){return s.onItemSelected(l)}),e.k0s()(),e.DNE(4,Vt,0,0,"ng-template",3),e.k0s()),2&t&&(e.Y8G("classList",s.onShowItem?"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-auto  h-full ":"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-hidden  h-full "),e.R7$(),e.Y8G("classList",s.onShowItem?" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-0 md:py-4":" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-4"),e.R7$(2),e.Y8G("warehouses",s.warehouses$())("outputs",s.outputs$()))},dependencies:[c.MD,Dt,Bt,g.l],encapsulation:2})}return r})(),Xt=(()=>{class r{constructor(){this.onToggleBtn=new e.bkB}onAddToggle(){this.onToggleBtn.emit()}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-providers-header"]],outputs:{onToggleBtn:"onToggleBtn"},standalone:!0,features:[e.aNF],decls:12,vars:0,consts:[[1,"mb-4","flex","justify-between"],[1,"inline-block"],[1,"font-semibold","text-foreground"],[1,"space-x-1","text-xs","font-medium","text-muted-foreground"],["href","",1,"hover:text-primary"],[1,"inline-block","space-x-4"],[1,"flex-none","rounded-md","bg-primary","px-4","py-2.5","text-xs","font-medium","text-primary-foreground",3,"click"]],template:function(t,s){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"h3",2),e.EFF(3,"Almacenes - Proveedores"),e.k0s(),e.j41(4,"div",3)(5,"a",4),e.EFF(6,"Lista"),e.k0s(),e.j41(7,"span"),e.EFF(8," - Proveedores"),e.k0s()()(),e.j41(9,"div",5)(10,"button",6),e.bIt("click",function(){return s.onAddToggle()}),e.EFF(11," Agregar Proveedor "),e.k0s()()())},dependencies:[c.MD],encapsulation:2})}return r})();const Qt=["item-table-provider",""];let Ht=(()=>{class r{static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["","item-table-provider",""]],inputs:{providerProduct:"providerProduct"},standalone:!0,features:[e.aNF],attrs:Qt,decls:16,vars:4,consts:[[1,"py-3","pr-3","text-start"],[1,"pl-1"],[1,"mb-1","text-sm","font-semibold","text-muted-foreground","text-center"],[1,"mb-1","text-sm","text-muted-foreground","text-center"],[1,"py-3","pl-3","text-right"],[1,"pr-1"],[1,"text-sm","text-muted-foreground","border","p-1","rounded-md"]],template:function(t,s){1&t&&(e.j41(0,"td",0)(1,"div",1)(2,"span",2),e.EFF(3),e.k0s()()(),e.j41(4,"td",0)(5,"div",1)(6,"span",3),e.EFF(7),e.k0s()()(),e.j41(8,"td",0)(9,"div",1)(10,"span",2),e.EFF(11),e.k0s()()(),e.j41(12,"td",4)(13,"div",5)(14,"span",6),e.EFF(15),e.k0s()()()),2&t&&(e.R7$(3),e.JRh(s.providerProduct.name),e.R7$(4),e.JRh(s.providerProduct.phone),e.R7$(4),e.JRh(s.providerProduct.email),e.R7$(4),e.JRh(s.providerProduct.address))},dependencies:[c.MD],encapsulation:2})}return r})();function zt(r,i){if(1&r){const o=e.RV6();e.j41(0,"tr",8),e.bIt("click",function(){const s=e.eBV(o).$implicit,n=e.XpG();return e.Njj(n.onSelectTable(s))}),e.k0s()}2&r&&e.Y8G("providerProduct",i.$implicit)}let qt=(()=>{class r{constructor(){this.providers=[],this.onSelectItem=new e.bkB}onSelectTable(o){this.onSelectItem.emit(o)}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-list-providers"]],inputs:{providers:"providers"},outputs:{onSelectItem:"onSelectItem"},standalone:!0,features:[e.aNF],decls:16,vars:1,consts:[[1,"flex-col","rounded-lg","bg-background","px-8","py-8","sm:flex-row"],[1,"w-full","mx-auto"],[1,"relative","overflow-x-auto","h-72","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","overflow-auto","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted"],[1,"w-full","table-auto"],[1,"text-xs","uppercase","text-muted-foreground","sticky","top-0","bg-background"],[1,"py-3","text-left"],[1,"py-3","text-right"],["item-table-provider","","class","border-b border-dashed border-border hover:bg-card",3,"providerProduct","click",4,"ngFor","ngForOf"],["item-table-provider","",1,"border-b","border-dashed","border-border","hover:bg-card",3,"click","providerProduct"]],template:function(t,s){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"table",3)(4,"thead",4)(5,"tr")(6,"th",5),e.EFF(7,"Nombre"),e.k0s(),e.j41(8,"th",5),e.EFF(9,"Telefono"),e.k0s(),e.j41(10,"th",5),e.EFF(11,"Correo"),e.k0s(),e.j41(12,"th",6),e.EFF(13,"Direccion"),e.k0s()()(),e.j41(14,"tbody"),e.DNE(15,zt,1,1,"tr",7),e.k0s()()()()()),2&t&&(e.R7$(15),e.Y8G("ngForOf",s.providers))},dependencies:[c.MD,c.Sq,Ht],encapsulation:2})}return r})(),Zt=(()=>{class r{constructor(){this.items=[{id:1,name:"Activo"},{id:2,name:"Inactivo"}],this.providerForm=new a.gE({provider_id:new a.MJ,name:new a.MJ,phone:new a.MJ,email:new a.MJ,address:new a.MJ,status:new a.MJ})}ngOnInit(){this.providerForm=new a.gE({provider_id:new a.MJ(this.provider.provider_id),name:new a.MJ(this.provider.name),phone:new a.MJ(this.provider.phone),email:new a.MJ(this.provider.email),address:new a.MJ(this.provider.address),status:new a.MJ(this.provider.status)})}close(){this.detailListener.close()}onSubmit(){this.detailListener.submit(this.providerForm)}onDelete(){this.detailListener.delete(this.provider.provider_id)}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-providers-detail"]],inputs:{detailListener:"detailListener",provider:"provider"},standalone:!0,features:[e.aNF],decls:44,vars:3,consts:[[1,"flex","w-screen","md:w-96","bg-background","h-full","overflow-auto","gap-2","px-3","flex-col","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted",3,"ngSubmit","formGroup"],[1,"sticky","top-0","flex","flex-col","bg-background"],[1,"flex","relative","flex-row","items-center","gap-2","py-3","justify-start"],[1,"text-lg","text-foreground"],[1,"absolute","cursor-pointer","right-0","inline-flex","w-fit","justify-center","rounded-md","bg-background","px-3","py-2","text-sm","font-semibold","text-foreground","shadow-sm","ring-1","ring-inset","ring-foreground","hover:bg-card","sm:mt-0","sm:w-fit",3,"click"],[1,"border-dashed","border-border"],[1,"flex","py-2","flex-col"],[1,"px-2","flex-col","flex"],[1,"text-xs","text-muted-foreground"],["type","text","formControlName","name"],["type","text","formControlName","phone"],["type","text","formControlName","email"],["type","text","formControlName","address"],["formControlName","status",3,"items"],[1,"flex","py-2","flex-col","gap-2"],["type","submit",1,"bg-primary","text-white","rounded-md","p-2"],["type","button",1,"bg-red-500","text-white","rounded-md","p-2",3,"click"]],template:function(t,s){1&t&&(e.j41(0,"form",0),e.bIt("ngSubmit",function(){return s.onSubmit()}),e.j41(1,"div",1)(2,"div",2)(3,"span",3),e.EFF(4),e.k0s(),e.j41(5,"button",4),e.bIt("click",function(){return s.close()}),e.EFF(6," X "),e.k0s()(),e.nrm(7,"hr",5),e.k0s(),e.j41(8,"div",6)(9,"div",7)(10,"span",8),e.EFF(11,"Nombre"),e.k0s(),e.nrm(12,"input",9),e.k0s()(),e.nrm(13,"hr",5),e.j41(14,"div",6)(15,"div",7)(16,"span",8),e.EFF(17,"Telefono"),e.k0s(),e.nrm(18,"input",10),e.k0s()(),e.nrm(19,"hr",5),e.j41(20,"div",6)(21,"div",7)(22,"span",8),e.EFF(23,"Email"),e.k0s(),e.nrm(24,"input",11),e.k0s()(),e.nrm(25,"hr",5),e.j41(26,"div",6)(27,"div",7)(28,"span",8),e.EFF(29,"Address"),e.k0s(),e.nrm(30,"input",12),e.k0s()(),e.nrm(31,"hr",5),e.j41(32,"div",6)(33,"div",7)(34,"span",8),e.EFF(35,"Estado"),e.k0s(),e.nrm(36,"app-select",13),e.k0s()(),e.nrm(37,"hr",5),e.j41(38,"div",14)(39,"button",15),e.EFF(40," Guardar Cambios "),e.k0s(),e.nrm(41,"hr"),e.j41(42,"button",16),e.bIt("click",function(){return s.onDelete()}),e.EFF(43," Eliminar "),e.k0s()()()),2&t&&(e.Y8G("formGroup",s.providerForm),e.R7$(4),e.JRh("Proveedores"),e.R7$(32),e.Y8G("items",s.items))},dependencies:[c.MD,a.YN,a.qT,a.me,a.BC,a.cb,a.X1,a.j4,a.JD,V],encapsulation:2})}return r})();function Kt(r,i){}let eo=(()=>{class r{ngOnInit(){}constructor(){this.onShowItem=!1,this.modalService=(0,e.WQX)(k.B),this.dialogService=(0,e.WQX)($),this.providerFacadeService=(0,e.WQX)(ne),this.providers$=this.providerFacadeService.providers,this.onLoading$=this.providerFacadeService.statusAction,this.dialogNotifier=new C.B,this.detailListener={close:()=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1},cancel:()=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1},submit:o=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1,this.dialogService.open({typeDialog:f.isAlert,data:{title:"Advertencia",description:"Estas seguro de realizar esta accion",icon:"assets/icons/heroicons/outline/exclamation.svg"},options:{withActions:!0,position:[h.center],withBackground:!0,colorIcon:"text-red-500"}}).subscribe(s=>{const{provider_id:n,name:l,phone:d,email:m,address:b,status:w}=o.value;this.providerFacadeService.updateItem(n,l,d,m,b,w)})},delete:o=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1,this.dialogService.open({typeDialog:f.isAlert,data:{title:"Advertencia",description:"Estas seguro de realizar esta accion",icon:"assets/icons/heroicons/outline/exclamation.svg"},options:{withActions:!0,position:[h.center],withBackground:!0,colorIcon:"text-red-500"}}).subscribe(s=>{this.providerFacadeService.deleteItem(o)})}},(0,e.QZP)(()=>{switch(this.onLoading$()){case v.p.LOADING:this.dialogService.open({typeDialog:f.isLoading,listener:this.dialogNotifier,data:{title:"Cargando",description:"Espere un momento por favor",icon:"assets/icons/loading.svg"},options:{withActions:!1,withBackground:!0,position:[h.center],colorIcon:"text-primary"}});break;case v.p.SUCCESS:this.dialogNotifier.next(null);const t={typeDialog:f.isSuccess,data:{title:"Operacion Exitosa",description:"La operacion se ha completado con exito",icon:"assets/icons/heroicons/outline/check-badge.svg"},options:{withBackground:!1,position:[h.top,h.right],colorIcon:"text-green-500",timeToShow:(0,E.O)(2e3)}};this.dialogService.open(t);break;default:this.dialogNotifier.next(null)}})}onAddProvider(){const o={component:S,data:{title:"Detalles del nuevo proveedor",description:"Especificaciones necesarias del proveedor a agregar"},dynamicFields:[{component:x,data:{placeholder:"Nombre del proveedor",title:"Proveedor"},fieldFormControl:new a.MJ("")},{component:x,data:{placeholder:"78140498",title:"Telefono"},fieldFormControl:new a.MJ("")},{component:x,data:{placeholder:"monster@gmail.com",title:"Email"},fieldFormControl:new a.MJ("")},{component:x,data:{placeholder:"Av. 123",title:"Direccion"},fieldFormControl:new a.MJ("")}]};this.modalService.open(be,{title:"Agregar Almacen",size:"sm",forms:[o],data:{},icon:"assets/icons/heroicons/outline/plus.svg",actions:[{action:_.X.Create,title:"Ingresar"}]}).subscribe({next:t=>{T(t),(new Date).toISOString().split("T")},error:t=>{},complete:()=>{}})}onSelectProvider(o){const t=this.dcWrapper.viewContainerRef;t.clear();const s=t.createComponent(Zt);s.instance.detailListener=this.detailListener,s.instance.provider=o,this.onShowItem=!0}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-providers"]],viewQuery:function(t,s){if(1&t&&e.GBs(g.l,5),2&t){let n;e.mGM(n=e.lsd())&&(s.dcWrapper=n.first)}},standalone:!0,features:[e.aNF],decls:5,vars:3,consts:[[3,"classList"],[3,"onToggleBtn"],[3,"onSelectItem","providers"],["dcWrapper",""]],template:function(t,s){1&t&&(e.j41(0,"div",0)(1,"div",0)(2,"app-providers-header",1),e.bIt("onToggleBtn",function(){return s.onAddProvider()}),e.k0s(),e.j41(3,"app-list-providers",2),e.bIt("onSelectItem",function(l){return s.onSelectProvider(l)}),e.k0s()(),e.DNE(4,Kt,0,0,"ng-template",3),e.k0s()),2&t&&(e.Y8G("classList",s.onShowItem?"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-auto  h-full ":"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-hidden  h-full "),e.R7$(),e.Y8G("classList",s.onShowItem?" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-0 md:py-4":" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-4"),e.R7$(2),e.Y8G("providers",s.providers$()))},dependencies:[c.MD,Xt,qt,g.l],encapsulation:2})}return r})();const to=["item-list-products-warehouse",""];let oo=(()=>{class r{static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["","item-list-products-warehouse",""]],inputs:{product:"product"},standalone:!0,features:[e.aNF],attrs:to,decls:14,vars:7,consts:[[1,"py-3","pl-3","text-start"],[1,"pr-1"],[1,"text-sm","text-muted-foreground"],[1,"py-3","pl-3","text-right"]],template:function(t,s){1&t&&(e.j41(0,"td",0)(1,"div",1)(2,"span",2),e.EFF(3),e.nI1(4,"appProduct"),e.k0s()()(),e.j41(5,"td",0)(6,"div",1)(7,"span",2),e.EFF(8),e.nI1(9,"appWarehouse"),e.k0s()()(),e.j41(10,"td",3)(11,"div",1)(12,"span",2),e.EFF(13),e.k0s()()()),2&t&&(e.R7$(3),e.JRh(e.bMT(4,3,s.product.product_type_id)),e.R7$(5),e.JRh(e.bMT(9,5,s.product.warehouse_id)),e.R7$(5),e.JRh(s.product.quantity))},dependencies:[c.MD,O,J],encapsulation:2})}return r})();const _e=(r,i)=>({"border-primary text-primary outline-none active-tab":r,"text-muted-foreground border-transparent":i});function ro(r,i){if(1&r){const o=e.RV6();e.j41(0,"button",18),e.bIt("click",function(){const s=e.eBV(o).$implicit,n=e.XpG();return e.Njj(n.selectWarehouse(s.warehouse_id))}),e.EFF(1),e.k0s()}if(2&r){const o=i.$implicit,t=e.XpG();e.Y8G("ngClass",e.l_i(2,_e,t.selectedWarehouse===o.warehouse_id,t.selectedWarehouse!==o.warehouse_id)),e.R7$(),e.SpI(" ",o.name," ")}}function so(r,i){if(1&r){const o=e.RV6();e.j41(0,"tr",19),e.bIt("click",function(){const s=e.eBV(o).$implicit,n=e.XpG();return e.Njj(n.onSelectTable(s))}),e.k0s()}2&r&&e.Y8G("product",i.$implicit)}let no=(()=>{class r{constructor(){this.onItemSelect=new e.bkB,this.onfilterEvent=new e.bkB,this.actualPage=1,this.itemsPerPage=30,this.selectedWarehouse=null}selectWarehouse(o){this.selectedWarehouse=o,this.actualPage=1,this.filterEvent()}onSelectTable(o){this.onItemSelect.emit(o)}previousPage(){this.actualPage>1&&(this.actualPage=this.actualPage-1),this.filterEvent()}nextPage(){this.actualPage=this.actualPage+1,this.filterEvent()}filterEvent(){let o;this.selectedWarehouse?(console.log("Con Warehouse"),o={warehouse_id:this.selectedWarehouse,limit:this.itemsPerPage,offset:(this.actualPage-1)*this.itemsPerPage}):(console.log("Sin Warehouse"),o={limit:this.itemsPerPage,offset:(this.actualPage-1)*this.itemsPerPage}),this.onfilterEvent.emit(o)}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-list-products-warehouse"]],inputs:{products:"products",warehouses:"warehouses"},outputs:{onItemSelect:"onItemSelect",onfilterEvent:"onfilterEvent"},standalone:!0,features:[e.aNF],decls:30,vars:7,consts:[[1,"flex-col","rounded-lg","bg-background","px-8","py-8","sm:flex-row"],[1,"w-full","mx-auto"],[1,"flex","w-full","overflow-auto","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted"],[1,"py-2","px-4","text-sm","font-medium","text-primary","border-b-2","hover:border-primary","hover:text-primary","focus:outline-none",3,"click","ngClass"],["class","py-2 px-4 text-sm font-medium border-b-2  hover:border-primary hover:text-primary focus:outline-none",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"border-dashed","border-border"],[1,"w-full","flex","flex-col","p-2","gap-2"],[1,"flex","flex-col","gap-2","items-end","md:flex-row","md:items-center","justify-between","w-full"],[1,"w-full","md:w-1/2"],[1,"w-full","md:w-1/2","flex","items-center","justify-end","gap-2"],[1,"p-1","text-white","rounded-md","bg-primary",3,"click"],[1,"text-foreground","text-base"],[1,"relative","overflow-x-auto","h-72","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","overflow-auto","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted"],[1,"w-full","table-auto"],[1,"text-xs","uppercase","text-muted-foreground","sticky","top-0","bg-background"],[1,"py-3","text-left"],[1,"py-3","text-right"],["item-list-products-warehouse","","class","border-b border-dashed border-border hover:bg-card",3,"product","click",4,"ngFor","ngForOf"],[1,"py-2","px-4","text-sm","font-medium","border-b-2","hover:border-primary","hover:text-primary","focus:outline-none",3,"click","ngClass"],["item-list-products-warehouse","",1,"border-b","border-dashed","border-border","hover:bg-card",3,"click","product"]],template:function(t,s){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),e.bIt("click",function(){return s.selectWarehouse(null)}),e.EFF(4," Todos "),e.k0s(),e.DNE(5,ro,2,5,"button",4),e.k0s(),e.nrm(6,"hr",5),e.j41(7,"div",6)(8,"div",7),e.nrm(9,"div",8),e.j41(10,"div",9)(11,"button",10),e.bIt("click",function(){return s.previousPage()}),e.EFF(12,"<"),e.k0s(),e.j41(13,"span",11),e.EFF(14),e.k0s(),e.j41(15,"button",10),e.bIt("click",function(){return s.nextPage()}),e.EFF(16,">"),e.k0s()()()(),e.nrm(17,"hr",5),e.j41(18,"div",12)(19,"table",13)(20,"thead",14)(21,"tr")(22,"th",15),e.EFF(23,"Producto"),e.k0s(),e.j41(24,"th",15),e.EFF(25,"Almacen"),e.k0s(),e.j41(26,"th",16),e.EFF(27,"Cantidad"),e.k0s()()(),e.j41(28,"tbody"),e.DNE(29,so,1,1,"tr",17),e.k0s()()()()()),2&t&&(e.R7$(3),e.Y8G("ngClass",e.l_i(4,_e,null===s.selectedWarehouse,null!==s.selectedWarehouse)),e.R7$(2),e.Y8G("ngForOf",s.warehouses),e.R7$(9),e.JRh(s.actualPage),e.R7$(15),e.Y8G("ngForOf",s.products))},dependencies:[c.MD,c.YU,c.Sq,oo],encapsulation:2})}return r})(),io=(()=>{class r{onAddToggle(){}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-products-warehouse-header"]],standalone:!0,features:[e.aNF],decls:10,vars:0,consts:[[1,"mb-4","flex","justify-between"],[1,"inline-block"],[1,"font-semibold","text-foreground"],[1,"space-x-1","text-xs","font-medium","text-muted-foreground"],["href","",1,"hover:text-primary"],[1,"inline-block","space-x-4"]],template:function(t,s){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"h3",2),e.EFF(3,"Productos - Lista"),e.k0s(),e.j41(4,"div",3)(5,"a",4),e.EFF(6,"Lista"),e.k0s(),e.j41(7,"span"),e.EFF(8," - Productos"),e.k0s()()(),e.nrm(9,"div",5),e.k0s())},dependencies:[c.MD],encapsulation:2})}return r})();var ce=p(408),ao=p(3138);class M{static#e=this.getSlices=(0,u.OD)(ao.Z);static#t=this.getProducts=(0,u.Mz)([M.getSlices.products],i=>i);static#o=this.getProduct=(0,u.Mz)([M.getSlices.productById],i=>i);static#r=this.getStatus=(0,u.Mz)([M.getSlices.status],i=>i)}let co=(()=>{class r{constructor(){this._store=(0,e.WQX)(u.il),this.statusAction=this._store.selectSignal(M.getStatus),this.products=this._store.selectSignal(M.getProducts),this.product=this._store.selectSignal(M.getProduct),this._store.dispatch(new ce.R.GetAll({}))}getItem(o){this._store.dispatch(new ce.R.Get(o))}getItems(o){this._store.dispatch(new ce.R.GetAll(o))}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function lo(r,i){}const uo=[{path:"",component:nt,children:[{path:"",redirectTo:"warehouses",pathMatch:"full"},{path:"products",component:Ve},{path:"products-warehouse",component:(()=>{class r{constructor(){this.onShowItem=!1,this.warehouseFacadeService=(0,e.WQX)(B),this.productFacadeService=(0,e.WQX)(co),this.onLoading$=this.productFacadeService.statusAction,this.products$=this.productFacadeService.products,this.warehouses$=this.warehouseFacadeService.warehouses,this.dialogService=(0,e.WQX)($),this.dialogNotifier=new C.B,(0,e.QZP)(()=>{switch(this.onLoading$()){case v.p.LOADING:this.dialogService.open({typeDialog:f.isLoading,listener:this.dialogNotifier,data:{title:"Cargando",description:"Espere un momento por favor",icon:"assets/icons/loading.svg"},options:{withActions:!1,withBackground:!0,position:[h.center],colorIcon:"text-primary"}});break;case v.p.SUCCESS:this.dialogNotifier.next(null);const t={typeDialog:f.isSuccess,data:{title:"Operacion Exitosa",description:"La operacion se ha completado con exito",icon:"assets/icons/heroicons/outline/check-badge.svg"},options:{withBackground:!1,position:[h.top,h.right],colorIcon:"text-green-500",timeToShow:(0,E.O)(2e3)}};this.dialogService.open(t);break;default:this.dialogNotifier.next(null)}})}onFilterEvents(o){this.productFacadeService.getItems(o)}static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-products-warehouse"]],standalone:!0,features:[e.aNF],decls:5,vars:4,consts:[[3,"classList"],[3,"onfilterEvent","products","warehouses"],["dcWrapper",""]],template:function(t,s){1&t&&(e.j41(0,"div",0)(1,"div",0),e.nrm(2,"app-products-warehouse-header"),e.j41(3,"app-list-products-warehouse",1),e.bIt("onfilterEvent",function(l){return s.onFilterEvents(l)}),e.k0s()(),e.DNE(4,lo,0,0,"ng-template",2),e.k0s()),2&t&&(e.Y8G("classList",s.onShowItem?"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-auto  h-full ":"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-hidden  h-full "),e.R7$(),e.Y8G("classList",s.onShowItem?" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-0 md:py-4":" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-4"),e.R7$(2),e.Y8G("products",s.products$())("warehouses",s.warehouses$()))},dependencies:[c.MD,no,io],encapsulation:2})}return r})()},{path:"discounts",component:Qe},{path:"categories",component:st},{path:"warehouses",component:Pt},{path:"inputs",component:_t},{path:"outputs",component:Ut},{path:"providers",component:eo},{path:"**",redirectTo:"errors/404"}]}];let po=(()=>{class r{static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275mod=e.$C({type:r});static#o=this.\u0275inj=e.G2t({imports:[H.iI.forChild(uo),H.iI]})}return r})(),mo=(()=>{class r{static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275mod=e.$C({type:r});static#o=this.\u0275inj=e.G2t({imports:[po]})}return r})()}}]);